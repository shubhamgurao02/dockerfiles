"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6717],{96717:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});var n=s(74165),a=s(15861),r=s(4942),i=s(1413),c=s(29439),l=s(72791),o=s(59513),d=s.n(o),u=s(36167),m=s(63521),h=s(56355),v=s(78983),x=s(74569),p=s.n(x),j=s(34831),f=s(72426),g=s.n(f),b=s(93433),S=s(1063),y=s(37145),N=s(78820),_=s(41578),C=s(84373),w=s(11087),k=s(17425),Z=s(87890),T=s(15473),M=s(20890),A=s(16856),P=s(80184);var R=function(e){var t=e.data,n=e.setData,a=e.isPCQA,r=e.loggedUserId,o=e.setSearchTrigger,d=e.searchTrigger,u=(0,l.useState)(!1),m=(0,c.Z)(u,2),x=m[0],f=m[1],R=(0,l.useState)([]),W=(0,c.Z)(R,2),D=W[0],F=W[1],I=(0,l.useState)([]),U=(0,c.Z)(I,2),O=U[0],B=U[1],E=(0,l.useState)(!1),L=(0,c.Z)(E,2),H=L[0],V=L[1],G=(0,l.useState)({}),Y=(0,c.Z)(G,2),z=Y[0],K=Y[1],Q=(0,l.useState)({}),q=(0,c.Z)(Q,2),J=q[0],X=q[1],$=(0,l.useState)({global:{value:null,matchMode:Z.a6.CONTAINS},project_name:{value:null,matchMode:Z.a6.STARTS_WITH},sent_survey_by:{value:null,matchMode:Z.a6.STARTS_WITH},project_manager:{value:null,matchMode:Z.a6.STARTS_WITH},full_name:{value:null,matchMode:Z.a6.STARTS_WITH},client_email:{value:null,matchMode:Z.a6.STARTS_WITH},initiatedOn:{value:null,matchMode:Z.a6.STARTS_WITH},actual_start_dt:{value:null,matchMode:Z.a6.STARTS_WITH},actual_end_dt:{value:null,matchMode:Z.a6.STARTS_WITH},ver_status:{value:null,matchMode:Z.a6.STARTS_WITH},survey_res:{value:null,matchMode:Z.a6.CONTAINS}}),ee=(0,c.Z)($,2),te=ee[0],se=ee[1],ne=(0,l.useState)(""),ae=(0,c.Z)(ne,2),re=ae[0],ie=ae[1],ce=j.N.baseUrl,le=function(e){O.includes(e.id)?B((function(t){return t.filter((function(t){return t!==e.id}))})):B((function(t){return[].concat((0,b.Z)(t),[e.id])}))},oe=(0,l.useState)([]),de=(0,c.Z)(oe,2),ue=de[0],me=de[1];(0,l.useEffect)((function(){p().get(ce+"/governancems/Csat/getCsatSurveys").then((function(e){me(e.data)})).catch((function(e){return console.log(e)}))}),[]);var he=(0,l.useState)(!1),ve=(0,c.Z)(he,2),xe=ve[0],pe=ve[1],je=(0,l.useState)([]),fe=(0,c.Z)(je,2),ge=(fe[0],fe[1]),be=function(e){var t=!O.includes(e.id);return(0,P.jsxs)(P.Fragment,{children:[a?"":(0,P.jsx)(P.Fragment,{children:0===e.csat_id?(0,P.jsx)("div",{children:t?(0,P.jsx)(h.KHI,{cursor:"pointer",onClick:function(){return le(e)}}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(N.gg_,{title:"Save",cursor:"pointer",onClick:function(){!function(e){var t={csatId:e.csat_id,csatClientEmail:e.client_email,clientEmail:e.client_email_sel,custName:e.full_name,ProjectId:e.id,date:g()().startOf("month").format("YYYY-MM-DD"),isWhat:"isSaveEmailMgr",prjClientEmails:e.client_email_sel,userId:r};p().post(ce+"/governancems/Csat/savePcqaCsatProjectDetails",t).then((function(e){console.log(e),o(!d)})).catch((function(e){return console.log(e)}))}(e),le(e)}}),(0,P.jsx)(N.LHV,{title:"Cancel",cursor:"pointer",onClick:function(){le(e),n((function(t){return t.map((function(t){return t.id===e.id&&(t.client_email=""),t}))}))}})]})}):"New"===e.ver_status&&(0,P.jsx)("div",{children:(0,P.jsx)(C.Gr2,{cursor:"pointer",onClick:function(){V(!0),X(e)}})})}),"New"!==e.ver_status?(0,P.jsx)("div",{children:(0,P.jsx)(_.RxU,{cursor:"pointer",onClick:function(){pe(!0),function(e){var t={csatId:e,isWhat:"isSurveyResults"};p().post(ce+"/governancems/Csat/getClientSurveydetails",t).then((function(e){console.log(e.data),ge(e.data)})).catch((function(e){return console.log(e)}))}(e.csat_id)}})}):""]})},Se=function(){var e="";return(0,P.jsxs)(v.Tk,{visible:x,onClose:function(){return f(!1)},backdrop:"static",size:"sm",alignment:"center",children:[(0,P.jsx)(v.p0,{children:(0,P.jsx)(v.fl,{children:"Client Email"})}),(0,P.jsxs)(v.sD,{children:[(0,P.jsxs)("div",{className:"d-flex",children:[(0,P.jsx)("div",{children:(0,P.jsx)("input",{type:"email",onChange:function(t){return e=t.target.value}})}),"\xa0\xa0\xa0",(0,P.jsx)("button",{className:"btn btn-primary mx-3",onClick:function(){return F((function(t){return[].concat((0,b.Z)(t),[{checked:!1,delete:!0,email:e}])}))},children:"Add"})]}),(0,P.jsx)("div",{className:"mt-2",children:null===D||void 0===D?void 0:D.map((function(e){return(0,P.jsxs)("div",{className:"d-flex",children:[(0,P.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(t){F((function(s){return s.map((function(s){return s.email===e.email?(0,i.Z)((0,i.Z)({},s),{},{checked:t.target.checked}):s}))}))}}),"\xa0\xa0\xa0",(0,P.jsx)("span",{children:e.email}),!0===(null===e||void 0===e?void 0:e.delete)&&(0,P.jsx)(N.YK6,{cursor:"pointer",onClick:function(){return F((function(){return D.filter((function(t){return t.email!==e.email}))}))}})]},e.email)}))}),(0,P.jsx)("div",{children:(0,P.jsxs)("button",{className:"btn btn-primary",onClick:function(){n((function(e){return e.map((function(e){var t;e.id===z.id&&(e.client_email=null===D||void 0===D||null===(t=D.filter((function(e){return!0===e.checked})))||void 0===t?void 0:t.map((function(e){return e.email})).join(","));return e}))})),f(!1)},children:[(0,P.jsx)(N.gg_,{}),"Select"]})})]})]})},ye=function(){var e=(0,l.useState)(-1),t=(0,c.Z)(e,2),s=t[0],n=t[1],a=(0,l.useState)("CSAT For ".concat(J.project_name)),r=(0,c.Z)(a,2),i=r[0],u=r[1];return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(v.Tk,{visible:H,onClose:function(){return V(!1)},backdrop:"static",size:"lg",children:[(0,P.jsx)(v.p0,{children:(0,P.jsx)(v.fl,{children:"Send Project Survey"})}),(0,P.jsxs)(v.sD,{children:[(0,P.jsx)("div",{className:"col-md-6 mb-2",children:(0,P.jsxs)("div",{className:"row",children:[(0,P.jsx)("label",{className:"col-2",children:"Survey"}),(0,P.jsx)("span",{className:"col-1",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{onChange:function(e){return n(e.target.value)},children:[(0,P.jsx)("option",{value:-1,children:"Select Survey"}),ue.map((function(e){return(0,P.jsx)("option",{value:e.id,children:e.surveyName})}))]})})]})}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{className:"row mt-2 mb-2 mx-1",children:[(0,P.jsx)("div",{className:"col-md-2 text-center border",children:(0,P.jsxs)("button",{className:"btn col-12 d-inline border-0",title:"Send Survey",onClick:function(){return function(){var e={csatId:J.csat_id,survey:s,subject:i,isWhat:"isSurveySend"};console.log(e),p().post(ce+"/governancems/Csat/sendSurveyToClient",e).then((function(e){console.log(e.data),V(!1),o(!d)})).catch((function(e){return console.log(e)}))}()},children:[(0,P.jsx)(h.uWG,{size:19,color:"#A4A4A4"}),(0,P.jsx)("br",{}),"Send Survey"]})}),(0,P.jsxs)("div",{className:"col-md-10",children:[(0,P.jsxs)("div",{className:"row mb-2",children:[(0,P.jsx)("label",{className:"col-md-1 col-form-label",children:"To"}),(0,P.jsx)("label",{className:"col-md-1",children:":"}),(0,P.jsx)("div",{className:"col-md-10",children:(0,P.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:J.client_email})})]}),(0,P.jsxs)("div",{className:"row",children:[(0,P.jsx)("label",{className:"col-md-1 col-form-label",children:"Subject"}),(0,P.jsx)("label",{className:"col-md-1",children:":"}),(0,P.jsx)("div",{className:"col-md-10",children:(0,P.jsx)("input",{type:"text",className:"form-control",defaultValue:i,onChange:function(e){return u(e.target.value)}})})]})]})]}),(0,P.jsxs)("div",{className:"border border-dark p-1",children:[(0,P.jsx)("p",{className:"mt-2",children:"Dear Customer,"}),(0,P.jsx)("p",{className:"mt-2",children:"As a valued Prolifics client, you have an impact on the quality of our service delivery. We are dedicated to understanding your growing needs and improving our ability to satisfy those needs. With your help, we would like to evaluate the services we provide to you and identify areas we can improve upon."}),(0,P.jsx)("p",{className:"mt-2",children:"We are requesting your input through a brief Q&A in the attached form. Your input can help us immensely in improving our services. We estimate that it will take you approximately 5 minutes to complete. The project we are requesting feedback on is shown below."}),(0,P.jsxs)("p",{className:"mt-2",children:["Please complete this survey for the project: %SURVEY_URL%"," "]}),(0,P.jsx)("p",{className:"mt-2",children:"We would be glad if you can respond back with the filled in customer survey form within 48 hours."}),(0,P.jsx)("p",{className:"mt-4 mb-2",children:"Thank you in advance for your time and cooperation in completing this survey. Please be assured that your answers will be kept strictly confidential and only used for Prolifics internal purposes"})]})]})]})})},Ne=function(){return(0,P.jsxs)(v.Tk,{visible:xe,onClose:function(){return pe(!1)},backdrop:"static",size:"lg",children:[(0,P.jsx)(v.p0,{children:(0,P.jsx)(v.fl,{children:"Project Survey Details"})}),(0,P.jsx)(v.sD,{children:(0,P.jsx)("div",{style:{textAlign:"center",fontSize:"20px",lineHeight:"50px",backgroundColor:"#dbf5ff",fontFamily:"initial"},children:"Responses For This Survey Has Not Been Submitted Yet."})})]})},_e=l.useState(null),Ce=(0,c.Z)(_e,2),we=Ce[0],ke=Ce[1],Ze=function(){ke(!1)},Te=function(){var e=function(){ke(null)},t=Boolean(we);return(0,P.jsxs)("div",{children:[(0,P.jsx)(M.Z,{"aria-owns":t?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){ke(e.currentTarget)},onMouseLeave:e}),(0,P.jsx)(T.ZP,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:t,anchorEl:we,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:e,disableRestoreFocus:!0,children:(0,P.jsxs)(M.Z,{sx:{p:1},children:[(0,P.jsx)("strong",{children:"Calculated As: "}),(0,P.jsx)("span",{children:"Strongly Disagree: 1"}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:"Disagree: 2"}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:"Neutral: 3"}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:"Agree: 4"}),(0,P.jsx)("br",{}),(0,P.jsx)("span",{children:"Strongly Agree: 5"})]})})]})};return(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-content-end m-2",children:[(0,P.jsx)("label",{children:"Search \xa0:\xa0 "}),(0,P.jsx)("input",{value:re,onChange:function(e){var t=e.target.value,s=(0,i.Z)({},te);s.global.value=t,se(s),ie(t)}}),(0,P.jsx)(k.WlY,{size:"1.5em",title:"Export to Excel",cursor:"pointer",style:{color:"green",marginLeft:"10px",marginRight:"-10px"},onClick:function(){var e={sno:"SNo.",project_name:"Project Name",project_manager:"Project Manager",sent_survey_by:"Sent Servey By",full_name:"Client Name",client_email:"Client Email",initiatedOn:"Initiated On",actual_start_dt:"Prj St Dt",actual_end_dt:"Prj End Dt",ver_status:"Status",survey_res:"Survey Result"},n=t.map((function(t){var s={};return Object.keys(e).forEach((function(n){s[e[n]]=t[n]})),s})),a=new(s(25415).Workbook),r=a.addWorksheet("CSATProjectSurveyData");r.addRow(Object.values(e)).font={bold:!0},n.forEach((function(e){r.addRow(Object.values(e))})),a.xlsx.writeBuffer().then((function(e){!function(e,t){var s=new Blob([e],{type:"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,t);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(s),n.download=t,n.click(),window.URL.revokeObjectURL(n.href)}}(e,"CSATProjectSurveyData.xlsx")}))}})]}),(0,P.jsxs)(y.w,{value:t,rows:20,showGridlines:!0,stripedRows:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactDataTable darkHeader",filters:te,globalFilterFields:["project_name","project_manager","sent_survey_by","full_name","client_email","initiatedOn","actual_start_dt","actual_end_dt","ver_status","survey_res"],paginator:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],children:[(0,P.jsx)(S.s,{field:"project_name",sortable:!0,header:"Project",body:function(e){return(0,P.jsx)("div",{className:"ellipsis",children:(0,P.jsx)(w.rU,{title:e.project_name,className:"linkSty",target:"_blank",to:"/project/Overview/:".concat(e.id),children:e.project_name})})}}),(0,P.jsx)(S.s,{field:"project_manager",sortable:!0,header:"Project Manager",body:function(e){return(0,P.jsx)("div",{title:e.project_manager,className:"ellipsis",children:e.project_manager})}}),(0,P.jsx)(S.s,{field:"sent_survey_by",sortable:!0,header:"Sent Survey By",body:function(e){return(0,P.jsx)("div",{title:e.sent_survey_by,className:"ellipsis",children:e.sent_survey_by})}}),(0,P.jsx)(S.s,{field:"full_name",sortable:!0,header:"Client Name",body:function(e){return(0,P.jsx)("div",{title:e.full_name,className:"ellipsis",children:e.full_name})}}),(0,P.jsx)(S.s,{field:"client_email",header:"Client Email",sortable:!0,body:function(e){return function(e){return O.includes(e.id)?(0,P.jsxs)("div",{className:"d-flex",children:[(0,P.jsx)("div",{children:(0,P.jsx)("input",{type:"text",defaultValue:e.client_email,readOnly:!0})}),"\xa0\xa0\xa0",(0,P.jsx)("div",{children:(0,P.jsx)(N.QML,{size:14,cursor:"pointer",onClick:function(){var t;f(!0);var s=null===(t=e.client_email_sel)||void 0===t?void 0:t.split(","),n=null===s||void 0===s?void 0:s.map((function(e){return{checked:!1,email:e}}));F(n),K(e)}})})]}):(0,P.jsx)("div",{title:e.client_email,className:"ellipsis",children:e.client_email})}(e)}}),(0,P.jsx)(S.s,{field:"initiatedOn",sortable:!0,header:"Initiated On",body:function(e){return(0,P.jsx)("div",{title:e.initiatedOn,className:"ellipsis",children:e.initiatedOn})}}),(0,P.jsx)(S.s,{field:"actual_start_dt",sortable:!0,header:"Prj St Dt",body:function(e){return(0,P.jsx)("div",{title:e.actual_start_dt,className:"ellipsis",children:e.actual_start_dt})}}),(0,P.jsx)(S.s,{field:"actual_end_dt",sortable:!0,header:"Prj End Dt",body:function(e){return(0,P.jsx)("div",{title:e.actual_end_dt,className:"ellipsis",children:e.actual_end_dt})}}),(0,P.jsx)(S.s,{field:"ver_status",sortable:!0,header:"Status",align:"center",body:function(e){return(0,P.jsx)("div",{title:e.ver_status,className:"ellipsis",children:e.ver_status})}}),(0,P.jsx)(S.s,{field:"survey_res",align:"center",header:function(){return(0,P.jsxs)("div",{children:["Survey Result"," ",(0,P.jsx)(A.eJU,{cursor:"pointer",onMouseOver:function(e){ke(null===e||void 0===e?void 0:e.currentTarget)},onMouseLeave:Ze})]})}}),(0,P.jsx)(S.s,{field:"",header:"Actions",align:"center",body:function(e){return be(e)}})]}),x&&(0,P.jsx)(Se,{}),H&&(0,P.jsx)(ye,{}),xe&&(0,P.jsx)(Ne,{}),we&&(0,P.jsx)(Te,{})]})},W=s(29718),D=s.n(W),F=s(12003),I=s.n(F),U=s(4189),O=s.n(U);O()(D());var B=function(e){var t=e.projWise;console.log(t);var s=(0,l.useRef)([]),n=(0,l.useState)({}),a=(0,c.Z)(n,2),r=a[0],i=a[1];(0,l.useEffect)((function(){!function(){var e=[],n=[];console.log(n),t.map((function(t){-1!=t.id&&(e.push(t.prjId),console.log(t.prjId),n.push(parseFloat(t.score)),console.log(t.score,"---------score"))})),console.log(e),s.current=e;var a={credits:{enabled:!1},chart:{type:"column",width:600,options3d:{enabled:!0,alpha:8,beta:12,viewDistance:25,depth:70}},title:{text:"CSAT Project Metrics"},xAxis:{categories:s.current},yAxis:{allowDecimals:!1,min:0,title:{text:"Average Score"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y}},plotOptions:{column:{stacking:"normal"}},series:[{name:"Average Score",color:"orange",data:n,stack:"first",legendIndex:1}],exporting:{buttons:{contextButton:{symbolStrokeWidth:1,symbolFill:"#a4edba",symbolStroke:"#330033"}}},responsive:{rules:[{condition:{maxWidth:2e3}}]}};i(a)}()}),[t]);var o=(0,l.useState)(!1),d=(0,c.Z)(o,2),u=d[0],m=d[1];return(0,P.jsx)("div",{children:t.length>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"col-md-12 mt-3  customCard card",children:(0,P.jsx)(I(),{highcharts:D(),options:r})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{className:"btn btn-primary mb-2",onClick:function(){return m(!u)},children:"View/Close Data Table"}),u&&(0,P.jsxs)(y.w,{value:t,showGridlines:!0,stripedRows:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactDataTable",children:[(0,P.jsx)(S.s,{field:"prjId",header:"Project"}),(0,P.jsx)(S.s,{field:"score",header:"Avg Score"})]})]})]})})};O()(D());var E=function(e){var t=e.practiceWise;console.log(t);var s=(0,l.useRef)([]),n=(0,l.useState)({}),a=(0,c.Z)(n,2),r=a[0],i=a[1];(0,l.useEffect)((function(){!function(){var e=[],n=[];console.log(n),t.map((function(t){-1!=t.id&&(e.push(t.practice),console.log(t.practice),n.push(parseFloat(t.score)),console.log(t.score,"---------score"))})),console.log(e),s.current=e;var a={credits:{enabled:!1},chart:{type:"column",width:600,options3d:{enabled:!0,alpha:8,beta:12,viewDistance:25,depth:70}},title:{text:"CSAT Practice Metrics"},xAxis:{categories:s.current},yAxis:{allowDecimals:!1,min:0,title:{text:"Average Score"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y}},plotOptions:{column:{stacking:"normal"}},series:[{name:"Average Score",color:"orange",data:n,stack:"first",legendIndex:1}],exporting:{buttons:{contextButton:{symbolStrokeWidth:2,symbolFill:"#a4edba",symbolStroke:"#330033"}}},responsive:{rules:[{condition:{maxWidth:2e3}}]}};i(a)}()}),[t]);var o=(0,l.useState)(!1),d=(0,c.Z)(o,2),u=d[0],m=d[1];return(0,P.jsx)("div",{children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"col-md-12 mt-3  customCard card",children:(0,P.jsx)(I(),{highcharts:D(),options:r})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{className:"btn btn-primary mb-2",onClick:function(){return m(!u)},children:"View/Close Data Table"}),u&&(0,P.jsxs)(y.w,{value:t,showGridlines:!0,stripedRows:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactDataTable",children:[(0,P.jsx)(S.s,{field:"practice",header:"Practice"}),(0,P.jsx)(S.s,{field:"score",header:"Avg Score"})]})]})]})})};O()(D());var L=function(e){var t=e.BUWise;console.log(t);var s=(0,l.useRef)([]),n=(0,l.useState)({}),a=(0,c.Z)(n,2),r=a[0],i=a[1];(0,l.useEffect)((function(){!function(){var e=[],n=[];console.log(n),t.map((function(t){-1!=t.id&&(e.push(t.dept),console.log(t.dept),n.push(parseFloat(t.score)),console.log(t.score,"---------score"))})),console.log(e),s.current=e;var a={credits:{enabled:!1},chart:{type:"column",width:600,options3d:{enabled:!0,alpha:8,beta:12,viewDistance:25,depth:70}},title:{text:"CSAT BU Metrics"},xAxis:{categories:s.current},yAxis:{allowDecimals:!1,min:0,title:{text:"Average Score"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y}},plotOptions:{column:{stacking:"normal"}},series:[{name:"Average Score",color:"orange",data:n,stack:"first",legendIndex:1}],exporting:{buttons:{contextButton:{symbolStrokeWidth:1,symbolFill:"#a4edba",symbolStroke:"#330033"}}},responsive:{rules:[{condition:{maxWidth:2e3}}]}};i(a)}()}),[t]);var o=(0,l.useState)(!1),d=(0,c.Z)(o,2),u=d[0],m=d[1];return(0,P.jsx)("div",{children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"col-md-12 mt-3  customCard card",children:(0,P.jsx)(I(),{highcharts:D(),options:r})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{className:"btn btn-primary mb-2",onClick:function(){return m(!u)},children:"View/Close Data Table"}),u&&(0,P.jsxs)(y.w,{value:t,showGridlines:!0,stripedRows:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactDataTable",children:[(0,P.jsx)(S.s,{field:"dept",header:"BU"}),(0,P.jsx)(S.s,{field:"score",header:"Avg Score"})]})]})]})})};O()(D());var H=function(e){var t=e.feedbackWise;console.log(t),(0,l.useRef)([]);var s=(0,l.useState)({}),n=(0,c.Z)(s,2),a=n[0],r=n[1],i=(0,l.useState)(!1),o=(0,c.Z)(i,2),d=o[0],u=o[1];return(0,l.useEffect)((function(){!function(){var e={credits:{enabled:!1},chart:{type:"bar",width:600,options3d:{enabled:!0,alpha:8,beta:12,viewDistance:25,depth:70}},title:{text:"CSAT Feedback Sent Vs Recieved Metrics"},xAxis:{categories:t.map((function(e){return e.project}))},yAxis:{allowDecimals:!1,min:0,title:{text:"Projects"}},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y}},plotOptions:{column:{stacking:"normal"}},series:[{name:"Feedback Sent",color:"orange",data:t.map((function(e){return e.feedbackSent})),stack:"first",legendIndex:1},{name:"Feedback Recived",color:"#7cb5ec",data:t.map((function(e){return e.feedbackRec})),stack:"first",legendIndex:1}],exporting:{buttons:{contextButton:{symbolStrokeWidth:1,symbolFill:"#a4edba",symbolStroke:"#330033"}}},responsive:{rules:[{condition:{maxWidth:2e3}}]}};r(e)}()}),[t]),(0,P.jsx)("div",{children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"col-md-12 mt-3 customCard card",children:(0,P.jsx)(I(),{highcharts:D(),options:a})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{className:"btn btn-primary mb-2",onClick:function(){return u(!d)},children:"View/Close Data Table"}),d&&(0,P.jsxs)(y.w,{value:t,showGridlines:!0,stripedRows:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactDataTable",children:[(0,P.jsx)(S.s,{field:"project",header:"Project"}),(0,P.jsx)(S.s,{field:"feedbackSent",header:"Feedback Sent"}),(0,P.jsx)(S.s,{field:"feedbackRec",header:"Feedback Recieved"})]})]})]})})},V=s(72920),G=s(83854);var Y=function(){var e=(0,l.useState)(new Date),t=(0,c.Z)(e,2),s=(t[0],t[1],(0,l.useState)(!1)),o=(0,c.Z)(s,2),x=o[0],f=o[1],b=(0,l.useState)([]),S=(0,c.Z)(b,2),y=S[0],N=S[1],_=(0,l.useState)(h.UdN),C=(0,c.Z)(_,2),w=C[0],k=C[1],Z=(0,l.useState)([]),T=(0,c.Z)(Z,2),M=T[0],A=T[1],W=(0,l.useState)([]),D=(0,c.Z)(W,2),F=D[0],I=D[1],U=(0,l.useState)([]),O=(0,c.Z)(U,2),Y=O[0],z=(O[1],(0,l.useState)([])),K=(0,c.Z)(z,2),Q=K[0],q=K[1],J=(0,l.useState)(1),X=(0,c.Z)(J,2),$=X[0],ee=X[1],te=(0,l.useState)([]),se=(0,c.Z)(te,2),ne=(se[0],se[1],(0,l.useState)([{}])),ae=(0,c.Z)(ne,2),re=ae[0],ie=ae[1],ce=j.N.baseUrl,le=(0,l.useState)([]),oe=(0,c.Z)(le,2),de=oe[0],ue=oe[1],me=(0,l.useState)([]),he=(0,c.Z)(me,2),ve=he[0],xe=he[1],pe=(0,l.useState)([]),je=(0,c.Z)(pe,2),fe=je[0],ge=je[1],be=(0,l.useState)([]),Se=(0,c.Z)(be,2),ye=Se[0],Ne=Se[1],_e=(0,l.useState)({metric:-1}),Ce=(0,c.Z)(_e,2),we=Ce[0],ke=Ce[1],Ze=(0,l.useState)(!1),Te=(0,c.Z)(Ze,2),Me=(Te[0],Te[1]),Ae=(0,l.useState)(!1),Pe=(0,c.Z)(Ae,2),Re=Pe[0],We=Pe[1];console.log(we.metric);var De=new Date,Fe=localStorage.getItem("resId"),Ie=new Date(De.getFullYear(),De.getMonth(),1),Ue=g()(Ie).format("yyyy-MM-DD"),Oe=((0,l.useRef)(null),{action:1,BU:"",customer:-1,projStg:1,project:-1,csatMonth:Ue,duration:3,status:-1}),Be=(0,l.useState)(Oe),Ee=(0,c.Z)(Be,2),Le=Ee[0],He=Ee[1],Ve=function(e){var t=e.target,s=t.id,n=t.value;"action"==s&&ee(n),He((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},s,n))}))},Ge=(0,l.useState)(!1),Ye=(0,c.Z)(Ge,2),ze=Ye[0],Ke=Ye[1],Qe=(0,l.useState)(!1),qe=(0,c.Z)(Qe,2),Je=qe[0],Xe=qe[1],$e=(0,l.useState)(!1),et=(0,c.Z)($e,2),tt=et[0],st=et[1];(0,l.useEffect)((function(){nt()}),[tt]);var nt=function(){Xe(!0),"Metrics"==$?(p()({method:"get",url:ce+"/governancems/Csat/GetProjectWiseCsatMetric?selectedMonth=".concat(Le.csatMonth)}).then((function(e){console.log("Project Wise Metrics Data:>>>>>>",e.data),ue(e.data),Me(!0),Xe(!1)})),p()({method:"get",url:ce+"/governancems/Csat/GetBUWiseCsatMetric?selectedMonth=".concat(Le.csatMonth)}).then((function(e){console.log("BU Wise Metrics Data:>>>>>>",e.data),ge(e.data),Me(!0),Xe(!1)})),p()({method:"get",url:ce+"/governancems/Csat/GetPracticeWiseCsatMetric?selectedMonth=".concat(Le.csatMonth)}).then((function(e){console.log("Practice Wise Metrics Data:>>>>>>",e.data),xe(e.data),Me(!0),Xe(!1)})),p()({method:"get",url:ce+"/governancems/Csat/GetCsatFeedbackSentRecMetrics?selectedMonth=".concat(Le.csatMonth)}).then((function(e){console.log("Feedback Wise Metrics Data:>>>>>>",e.data),Ne(e.data),Me(!0),Xe(!1)}))):p()({method:"post",url:ce+"/governancems/Csat/getPcqaCsatData",data:{customer:Le.customer,projects:Le.project,month:Le.csatMonth,ProjStatus:"1,1028"==Le.status?-1:Le.status,loggedUser:localStorage.getItem("resId"),isPCQA:Re,prjStage:Le.projStg,isWhat:"isSearch",units:""==Le.BU?"170,211,123,82,168,207,212,18,213,49,149,208,243":Le.BU,type:Le.action,reportDur:2==$?Le.duration:""}}).then((function(e){var t=e.data.data;ie(t),Xe(!1),Ke(!0)}))},at=(0,l.useState)([]),rt=(0,c.Z)(at,2),it=rt[0],ct=rt[1],lt=(0,l.useState)([]),ot=(0,c.Z)(lt,2),dt=ot[0],ut=ot[1],mt=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:ce+"/CostMS/cost/getDepartments"});case 2:t=e.sent,s=(s=t.data).filter((function(e){return e.value>=0})),A(s),I(s),a=[],s.forEach((function(e){a.push(e.value)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:ce+ +"/governancems/Csat/getBuAccountsByRoleBookings?buIds=".concat(Le.BU)});case 2:t=e.sent,s=t.data,q(s),a=[],s.forEach((function(e){a.push(e.value)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){!function(){var e=[];e.push({value:1,label:"New"},{value:1028,label:"Sent For Survey"}),ct(e),ut(e.filter((function(e){return e.value>0})));var t=[];e.forEach((function(e){e.value>=0&&t.push(e.value)})),He((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"status",t.toString()))}))}(),mt(),ht(),p()({method:"get",url:ce+"/ProjectMS/Audit/getProjectNameandId"}).then((function(e){var t=e.data;N(t)})),p().get(ce+"/governancems/Csat/isPCQAorCSATAdmin?userId=".concat(Fe)).then((function(e){console.log("isPCQA:--",e.data),We(e.data)})).catch((function(e){return console.log(e)}))}),[]),(0,l.useEffect)((function(){ht()}),[Le.BU]),console.log("displayTable=====",ze),console.log("type:===",$),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"col-md-12",children:(0,P.jsxs)("div",{className:"pageTitle",children:[(0,P.jsx)("div",{className:"childOne"}),(0,P.jsx)("div",{className:"childTwo",children:(0,P.jsx)("h2",{children:"CSAT"})}),(0,P.jsx)("div",{className:"childThree"})]})}),(0,P.jsxs)("div",{className:"group mb-3 customCard",children:[(0,P.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,P.jsx)("h2",{children:"Search Filters"}),(0,P.jsx)("div",{className:"helpBtn",children:(0,P.jsx)(V.Z,{pdfname:"CSATGovernance.pdf",name:"CSAT Help"})}),(0,P.jsx)("div",{onClick:function(){f(!x),k(x?h.UdN:h.NR5)},children:(0,P.jsx)("span",{children:w})})]}),(0,P.jsx)(v.V9,{visible:!x,children:(0,P.jsxs)("div",{className:"group-content row",children:[(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"action",children:"Action"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{onChange:Ve,id:"action",disabled:!Re,children:[(0,P.jsx)("option",{value:1,children:"Initiation"}),(0,P.jsx)("option",{value:2,children:"Report"}),(0,P.jsx)("option",{value:"Metrics",children:"Metrics"})]})})]})}),"Metrics"==$?"":(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"businessUnit",children:"Business Unit"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsx)(u.NU,{className:"multiselect",id:"BU",options:M,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:F,disabled:!1,onChange:function(e){I(e);var t=[];e.forEach((function(e){t.push(e.value)})),He((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"BU",t.toString()))}))}})})]})}),(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"customer",children:"Customer"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{onChange:Ve,id:"customer",children:[(0,P.jsx)("option",{value:-1,children:"<< All >>"}),null===Q||void 0===Q?void 0:Q.map((function(e){return(0,P.jsx)("option",{value:e.customerId,children:e.customer},e.customerId)}))]})})]})}),(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"projStg",children:"Project Stage"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{onChange:Ve,defaultValue:1,id:"projStg",children:[(0,P.jsx)("option",{value:-1,children:"<< All >>"}),(0,P.jsx)("option",{value:0,children:"New"}),(0,P.jsx)("option",{value:5,children:"Opportunity"}),(0,P.jsx)("option",{value:1,children:"In Progress"}),(0,P.jsx)("option",{value:3,children:"Withdreawn"}),(0,P.jsx)("option",{value:4,children:"On Hold"}),(0,P.jsx)("option",{value:6,children:"Pending Invoice"}),(0,P.jsx)("option",{value:2,children:"Completed(Last 1 Year)"})]})})]})}),(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"project",children:"Project"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("div",{className:"autoComplete-container",children:[(0,P.jsx)(m.ReactSearchAutocomplete,{items:y,type:"Text",name:"prjId",id:"prjId",className:"error AutoComplete",onSelect:function(e){He((function(t){return(0,i.Z)((0,i.Z)({},t),{},{project:e.id})}))},showIcon:!1,placeholder:"Type minimum 3 characters"}),(0,P.jsxs)("span",{children:[" ",Y.name]})]})})]})})]}),(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"csatMonth",children:"CSAT Month"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsx)(d(),{id:"csatMonth",selected:new Date(Le.csatMonth),dateFormat:"MMM-yyyy",showMonthYearPicker:!0,onChange:function(e){He((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"csatMonth",g()(e).format("yyyy-MM-DD")))}))}})})]})}),1==$||"Metrics"==$?"":(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"duration",children:"Duration(Month)"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{defaultValue:3,onChange:Ve,id:"duration",children:[(0,P.jsx)("option",{value:"1",children:"1"}),(0,P.jsx)("option",{value:"2",children:"2"}),(0,P.jsx)("option",{value:"3",children:"3"}),(0,P.jsx)("option",{value:"4",children:"4"}),(0,P.jsx)("option",{value:"5",children:"5"}),(0,P.jsx)("option",{value:"6",children:"6"})]})})]})}),"Metrics"==$?(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"metric",children:"Metric Type"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsxs)("select",{onChange:function(e){var t=e.target,s=t.id,n=t.value;ke((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},s,n))}))},id:"metric",children:[(0,P.jsx)("option",{value:-1,children:"<< All >>"}),(0,P.jsx)("option",{value:1,children:"Project Wise CSAT Metrics"}),(0,P.jsx)("option",{value:2,children:"BU Wise CSAT Metrics"}),(0,P.jsx)("option",{value:3,children:"Practice Wise CSAT Metrics"}),(0,P.jsx)("option",{value:4,children:"Feedback sent vs Recieved"})]})})]})}):(0,P.jsx)("div",{className:"col-md-3 mb-2",children:(0,P.jsxs)("div",{className:"form-group row",children:[(0,P.jsx)("label",{className:"col-5",htmlFor:"status",children:"Status"}),(0,P.jsx)("span",{className:"col-1 p-0",children:":"}),(0,P.jsx)("div",{className:"col-6",children:(0,P.jsx)(u.NU,{id:"status",className:"multiselect",options:it,hasSelectAll:!0,value:dt,disabled:!1,onChange:function(e){ut(e);var t=[];e.forEach((function(e){t.push(e.value)})),He((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"status",t.toString()))}))}})})]})}),(0,P.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:(0,P.jsxs)("button",{className:"btn btn-primary ",onClick:function(){return nt()},children:[(0,P.jsx)(h.U41,{})," Search"]})})]})})]}),Je&&(0,P.jsx)(G.Z,{handleAbort:function(){return Xe(!1)}}),(0,P.jsxs)("div",{className:"col-md-12 row",children:["2"!=$&&"1"!=$||!ze?"":(0,P.jsx)(R,{data:re,setData:ie,isPCQA:Re,loggedUserId:Fe,setSearchTrigger:st,searchTrigger:tt}),"Metrics"==$?(0,P.jsxs)(P.Fragment,{children:["1"==we.metric?(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(B,{projWise:de})}):"","2"==we.metric?(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(L,{BUWise:fe})}):"",3==we.metric?(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(E,{practiceWise:ve})}):"",4==we.metric?(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(H,{feedbackWise:ye})}):"",-1==we.metric?(0,P.jsxs)(P.Fragment,{children:[de.length>0&&(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(B,{projWise:de})}),fe.length>0&&(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(L,{BUWise:fe})}),ve.length>0&&(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(E,{practiceWise:ve})}),ye.length>0&&(0,P.jsx)("div",{className:"col-md-6",children:(0,P.jsx)(H,{feedbackWise:ye})})]}):""]}):""]})]})}}}]);
//# sourceMappingURL=6717.3993c8e0.chunk.js.map