"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[554],{40554:function(e,s,t){t.r(s),t.d(s,{default:function(){return W}});var l=t(4942),a=t(1413),i=t(29439),n=t(72791),c=t(36167),r=t(56355);t(72572);var o=t(78983),d=t(74569),u=t.n(d),h=t(59962),p=t.n(h),m=t(59513),j=t.n(m),g=t(72426),x=t.n(g),f=t(34831),v=t(47477),N=t(11167),y=t(78820),S=t(70828),b=t(7692),Z=t(32125),C=t(17425),k=t(16856),P=t(48068),_=t(83854),w=t(73220),T=t(80184),D=function(e){var s=e.deletePopup,t=e.setDeletePopup,l=(e.setEditedData,e.editedData),a=e.handleClick,i=e.setDeleteMessage,n=e.setDelMsg,c=f.N.baseUrl;return(0,T.jsx)("div",{children:(0,T.jsx)(p(),{children:(0,T.jsxs)(o.Tk,{visible:s,size:"xs",className:"ui-dialog",onClose:function(){return t(!1)},children:[(0,T.jsx)(o.p0,{className:"",children:(0,T.jsx)(o.fl,{children:(0,T.jsx)("span",{className:"",children:"Delete Audit Checkpoint"})})}),(0,T.jsxs)(o.sD,{children:[(0,T.jsx)("h6",{children:"Are you sure you want delete audit checkpoint ?"}),(0,T.jsxs)("div",{className:"btn-container center my-2",children:[(0,T.jsxs)("button",{className:"btn btn-primary",onClick:function(){u()({method:"delete",url:c+"/governancems/AuditCPSetup/deleteAuditCheckPointsById?id=".concat(l.id)}).then((function(e){a(),t(!1),console.log(e.data.status,"response"),console.log(e.data.message,"message"),"true"==e.data.status?i(!0):n(!0),setTimeout((function(){i(!1),n(!1)}),3e3)}))},children:[(0,T.jsx)(y.YK6,{})," Delete"," "]}),(0,T.jsxs)("button",{className:"btn btn-secondary",onClick:function(){t(!1)},children:[(0,T.jsx)(S.sQZ,{})," Cancel"," "]})]})]})]})})})},A=function(e){var s=e.editPopup,t=e.setEditPopup,c=(e.editId,e.handleClick),d=e.editedData,h=e.setEditAddmsg,p=(0,n.useState)(null),m=(0,i.Z)(p,2),g=m[0],v=m[1],N=(0,n.useState)(null),b=(0,i.Z)(N,2),C=b[0],k=b[1],P=(0,n.useState)(null),_=(0,i.Z)(P,2),D=_[0],A=_[1],M=(0,n.useState)(null),F=(0,i.Z)(M,2),W=(F[0],F[1]),E=(0,n.useState)(!1),U=(0,i.Z)(E,2),I=U[0],V=U[1],R=(0,n.useRef)([]),L=f.N.baseUrl,O=(0,n.useState)(d),Y=(0,i.Z)(O,2),B=Y[0],z=Y[1];return(0,n.useEffect)((function(){v(x()(d.valid_from)._d),A(""==d.valid_till?"":x()(d.valid_till)._d)}),[d],[B],[B.validFrom]),(0,T.jsx)("div",{children:(0,T.jsxs)(o.Tk,{visible:s,size:"lg",className:"ui-dialog ",onClose:function(){return t(!1)},style:{border:"0px"},children:[(0,T.jsx)(o.p0,{className:"hgt22",children:(0,T.jsx)(o.fl,{children:(0,T.jsx)("span",{className:"ft16",children:"Edit Check Point Dates"})})}),(0,T.jsx)(o.sD,{children:(0,T.jsxs)("div",{children:[I?(0,T.jsxs)("div",{className:"statusMsg error",children:[" ",(0,T.jsx)(y.CSE,{})," Please select the valid values for highlighted fields"," "]}):"",(0,T.jsxs)("div",{className:"group-content row",children:[(0,T.jsx)("div",{className:"col-6",children:(0,T.jsxs)("div",{className:"form-group row ",children:[(0,T.jsxs)("label",{className:"col-5",children:["Valid From",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1",children:":"}),(0,T.jsx)("span",{className:"col-6",children:(0,T.jsx)("div",{className:"datepicker cancel",ref:function(e){R.current[0]=e},children:(0,T.jsx)(j(),{id:"validFrom",className:"cancel",selected:g,showMonthDropdown:!0,dateFormat:"MMM-yyyy",showMonthYearPicker:!0,defaultValue:x()(d.valid_from)._d,dropdownMode:"select",onChange:function(e){k(e),console.log(C,"line no-----------------date"),v(e),z((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,l.Z)({},"validFrom",x()(e).format("yyyy-MM-DD")))}))},onKeyDown:function(e){}})})})]})}),(0,T.jsx)("div",{className:"col-6",children:(0,T.jsxs)("div",{className:"form-group row ",children:[(0,T.jsx)("label",{className:"col-5",children:"Valid Till"}),(0,T.jsx)("span",{className:"col-1",children:":"}),(0,T.jsx)("span",{className:"col-6",children:(0,T.jsx)("div",{className:"datepicker cancel",children:(0,T.jsx)(j(),{id:"validTill",className:"cancel",selected:D,showMonthDropdown:!0,showMonthYearPicker:!0,dateFormat:"MMM-yyyy",minDate:g,defaultValue:x()(d.valid_till)._d,dropdownMode:"select",onChange:function(e){A(e),z((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,l.Z)({},"validTill",x()(e).format("yyyy-MM-DD")))}))},onKeyDown:function(e){e.preventDefault()}})})})]})})]}),(0,T.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:[(0,T.jsxs)("button",{className:"btn btn-primary ",onClick:function(){!function(){if((0,w.Z)(R),""==d.project_type||""==d.project_phase){if((0,Z.Z)(R))V(!0)}else V(!1),u()({method:"post",url:L+"/governancems/AuditCPSetup/postAuditCheckPoints",data:{id:d.id,projectType:d.project_type,projectPhase:d.project_phase,checkPoint:d.check_point,initiationWeightage:d.initiation_weightage,steadyStateWeightage:d.steady_state_weightage,closureWeightage:d.closure_weightage,isoDetails:d.iso_details,isActive:1,validFrom:null==B.validFrom?x()(d.valid_from).format("yyyy-MM-DD"):""==B.validFrom?"":B.validFrom,validTill:" "!==B.validTill?B.validTill:x()(d.valid_till).format("yyyy-MM-DD")},headers:{"Content-Type":"application/json"}}).then((function(e){var s=e.data;console.log("success",s),W(s),t(!1),c(),h(!0),setTimeout((function(){h(!1)}),3e3)}))}()},children:[(0,T.jsx)(r.TvB,{}),"\xa0Save"," "]}),(0,T.jsxs)("button",{className:"btn btn-primary ",onClick:function(){t(!1)},children:[(0,T.jsx)(S.sQZ,{}),"Cancel"]})]})]})})]})})},M=function(e){var s=e.addPopup,t=e.projectType,c=e.projectPhase,d=e.setaddPopup,h=e.handleClick,p=e.setAddmsg,m=(0,n.useState)(null),g=(0,i.Z)(m,2),v=g[0],N=g[1],S=(0,n.useState)(null),b=(0,i.Z)(S,2),C=b[0],k=b[1],P=(0,n.useState)([]),_=(0,i.Z)(P,2),w=(_[0],_[1]),D=(0,n.useState)(new Date),A=(0,i.Z)(D,2),M=(A[0],A[1]),F=(0,n.useState)(new Date),W=(0,i.Z)(F,2),E=(W[0],W[1]),U=(0,n.useState)(!1),I=(0,i.Z)(U,2),V=I[0],R=I[1],L=(0,n.useRef)([]),O=(0,n.useState)({projectType:"",projectPhase:"",checkPoint:"",initiationWeightage:"",steadyStateWeightage:"",closureWeightage:"",isoDetails:"",isActive:1,validFrom:"",validTill:""}),Y=(0,i.Z)(O,2),B=Y[0],z=Y[1],K=f.N.baseUrl;console.log(B,"popup");return(0,T.jsx)("div",{children:(0,T.jsxs)(o.Tk,{visible:s,size:"lg",className:"ui-dialog ",onClose:function(){return d(!1)},style:{border:"0px"},children:[(0,T.jsx)(o.p0,{className:"hgt22",children:(0,T.jsx)(o.fl,{children:(0,T.jsx)("span",{className:"ft16",children:"Add Check Point"})})}),(0,T.jsx)(o.sD,{children:(0,T.jsxs)("div",{children:[V?(0,T.jsxs)("div",{className:"statusMsg error",children:[" ",(0,T.jsx)(y.CSE,{})," Please select the valid values for highlighted fields"," "]}):"",(0,T.jsxs)("div",{className:"group-content row",children:[(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Type",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6",children:(0,T.jsxs)("select",{className:"text textfield",id:"projectType",onChange:function(e){var s=e.target,t=s.value,i=s.id;z((0,a.Z)((0,a.Z)({},B),{},(0,l.Z)({},i,t)))},ref:function(e){L.current[0]=e},children:[(0,T.jsx)("option",{value:"",children:" <<Please Select>>"}),t.map((function(e){return(0,T.jsxs)("option",{value:e.value,children:[" ",e.label]})}))]})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Phase",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6",children:(0,T.jsxs)("select",{className:"text textfield",id:"projectPhase",onChange:function(e){var s=e.target,t=s.value,i=s.id;z((0,a.Z)((0,a.Z)({},B),{},(0,l.Z)({},i,t)))},ref:function(e){L.current[1]=e},children:[(0,T.jsx)("option",{value:"",children:" <<Please Select>>"}),c.map((function(e){return(0,T.jsxs)("option",{value:e.value,children:[" ",e.label]})}))]})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Audit Checkpoints",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 textfield",ref:function(e){L.current[2]=e},children:(0,T.jsx)("input",{type:"Text",id:"checkPoint",placeholder:"Check Point",onChange:function(e){var s=e.target,t=s.value;s.id;z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"checkPoint",t))}))}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["ISO 9001:2015",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 textfield",ref:function(e){L.current[3]=e},children:(0,T.jsx)("input",{type:"Text",id:"isoDetails",placeholder:"ISO Details",onChange:function(e){var s=e.target,t=s.value;s.id;z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"isoDetails",t))}))}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Initiation Weightage ",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 textfield",ref:function(e){L.current[4]=e},children:(0,T.jsx)("input",{type:"Text",id:"initiationWeightage",placeholder:"Initiation Weightage",onChange:function(e){var s=e.target.value;/^[0-9]*\.?[0-9]*$/.test(s)||(e.target.value=s.replace(/[^0-9.]/g,"")),z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"initiationWeightage",s))}))}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Steady State Weightage",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 textfield",ref:function(e){L.current[5]=e},children:(0,T.jsx)("input",{type:"Text",id:"steadyStateWeightage",placeholder:"Steady State Weightage",onChange:function(e){var s=e.target.value;/^[0-9]*\.?[0-9]*$/.test(s)||(e.target.value=s.replace(/[^0-9.]/g,"")),z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"steadyStateWeightage",s))}))}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Closure Weightage",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 textfield",ref:function(e){L.current[6]=e},children:(0,T.jsx)("input",{type:"Text",id:"closureWeightage",placeholder:"Closure Weightage",onChange:function(e){var s=e.target.value;/^[0-9]*\.?[0-9]*$/.test(s)||(e.target.value=s.replace(/[^0-9.]/g,"")),z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"closureWeightage",s))}))}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsxs)("label",{className:"col-5",children:["Valid From",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6 datepicker",ref:function(e){L.current[7]=e},children:(0,T.jsx)(j(),{name:"validFrom",id:"validFrom",selected:v,dateFormat:"MMM-yyyy",showMonthYearPicker:!0,onChange:function(e){N(e),z((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,l.Z)({},"validFrom",x()(e).format("yyyy-MM-DD")))})),M(e)},placeholderText:"Valid From",onKeyDown:function(e){e.preventDefault()}})})]}),(0,T.jsxs)("div",{className:"form-group row mb-2",children:[(0,T.jsx)("label",{className:"col-5",children:"Valid Till"}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("span",{className:"col-6",children:(0,T.jsx)(j(),{name:"validTill",id:"validTill",selected:C,minDate:v,onChange:function(e){k(e),z((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,l.Z)({},"validTill",x()(e).format("yyyy-MM-DD")))})),E(e)},dateFormat:"MMM-yyyy",showMonthYearPicker:!0,placeholderText:"Valid Till",onKeyDown:function(e){e.preventDefault()}})})]}),(0,T.jsxs)("div",{className:"col-md-12",align:"center",children:[" ",(0,T.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){console.log(B),(0,Z.Z)(L)?R(!0):u()({method:"post",url:K+"/governancems/AuditCPSetup/postAuditCheckPoints",data:{projectType:B.projectType,projectPhase:B.projectPhase,checkPoint:B.checkPoint,initiationWeightage:B.initiationWeightage,steadyStateWeightage:B.steadyStateWeightage,closureWeightage:B.closureWeightage,isoDetails:B.isoDetails,isActive:1,validFrom:B.validFrom,validTill:B.validTill},headers:{"Content-Type":"application/json"}}).then((function(e){var s=e.data;console.log("success",s),w(s),d(!1),h(),p(!0),setTimeout((function(){p(!1)}),3e3),R(!1)}))},children:[(0,T.jsx)(r.TvB,{}),"\xa0Save"," "]})," "]})]})]})})]})})};function F(e){var s=e.setUploadPopUp,t=e.uploadpopUp,l=e.handleClick,a=f.N.baseUrl,c=(0,n.useState)([]),d=(0,i.Z)(c,2),h=d[0],p=d[1],m=(0,n.useState)(!1),j=(0,i.Z)(m,2),g=j[0],x=j[1],v=(0,n.useState)([]),N=(0,i.Z)(v,2),S=N[0],Z=N[1];console.log(g);var k=(0,n.useState)([]),_=(0,i.Z)(k,2),w=_[0],D=_[1],A=(0,n.useState)(0),M=(0,i.Z)(A,2),F=M[0],W=M[1],E=(0,n.useState)(!1),U=(0,i.Z)(E,2),I=U[0],V=U[1],R=(0,n.useState)(!1),L=(0,i.Z)(R,2),O=(L[0],L[1],localStorage.getItem("resId")),Y=(0,n.useState)(!1),B=(0,i.Z)(Y,2),z=B[0],K=B[1],X=(0,n.useState)(!1),$=(0,i.Z)(X,2),Q=$[0],q=$[1],G=(0,n.useState)(!1),H=(0,i.Z)(G,2),J=H[0],ee=H[1];return(0,T.jsx)("div",{children:(0,T.jsxs)(o.Tk,{alignment:"center",backdrop:"static",size:"lg",visible:t,className:"ui-dialog",onClose:function(){s(!1)},children:[(0,T.jsx)(o.p0,{style:{cursor:"all-scroll"},children:(0,T.jsx)(o.fl,{children:(0,T.jsx)("span",{children:"Add Check Points"})})}),(0,T.jsxs)(o.sD,{children:[I&&(0,T.jsxs)("div",{className:"statusMsg success",children:[(0,T.jsx)(b.hXj,{}),"Data Uploaded successfully"]}),g&&(0,T.jsxs)("div",{className:"statusMsg error",children:[(0,T.jsx)(y.CSE,{}),h]}),Q&&(0,T.jsxs)("div",{className:"statusMsg error",children:[(0,T.jsx)(y.CSE,{}),"Please select a file to upload"]}),J&&(0,T.jsxs)("div",{className:"statusMsg error",children:[(0,T.jsx)(y.CSE,{}),"Please select a valid file"]}),(0,T.jsxs)("div",{className:"mod-md-12 row",children:[(0,T.jsx)("div",{className:"col-8",children:(0,T.jsxs)("div",{className:"statusMsg warning mb-3",style:{color:"#746d26",fontSize:"12px"},children:[(0,T.jsx)(C.tbY,{})," Click on Template Button to download the audit check list template."]})}),(0,T.jsx)("div",{className:"col-2"}),(0,T.jsx)("div",{className:"group-content col-2 row",children:(0,T.jsxs)("button",{style:{marginLeft:"auto"},className:"btn btn-primary float-end mt-1",onClick:function(){!function(){var e=a+"/CommonMS/document/downloadFile?documentId=74755190";u()({url:e,method:"GET",responseType:"blob"}).then((function(e){var s=e.headers["content-type"],t=new Blob([e.data],{type:s}),l=window.URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.setAttribute("download","Audit CheckPoints".concat(".xlsx")),document.body.appendChild(a),a.click()}))}()},children:[(0,T.jsx)(r.aBF,{})," Template"]})})]}),(0,T.jsxs)("div",{className:"mod-md-12 row",children:[(0,T.jsx)("div",{className:"col-md-6",children:(0,T.jsx)("input",{type:"file",name:"file",className:"fileUpload unique1 form-control",id:"file",onChange:function(e){console.log("in on file change handler"),console.log(e.target.files[0],"e.target.files[0]"),D(e.target.files[0]),console.log(e.target.files[0],"data")}},F)}),(0,T.jsx)("div",{className:"group-content col-2 row mb-2",children:(0,T.jsxs)("button",{style:{marginLeft:"auto"},className:"btn btn-primary float-end",onClick:function(){V(!1),u().postForm(a+"/SalesMS/pmo/uploadAuditCheckpoints?loggedUserId=".concat(O),{file:w},{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data;if(W((function(e){return e+1})),D([]),console.log(t),"success"==t.status)V(!0),s(!1),l();else if("Please select a file to upload"==t.message)q(!0),setTimeout((function(){q(!1)}),2e3),V(!1),ee(!1),x(!1),K(!1),console.log(t.Finaldata.data);else if("Please select a valid file"==t.message||"Unsupported file format"==t.message)ee(!0),q(!1),V(!1),x(!1),K(!1),console.log(t.Finaldata.data);else if("Please remove the Duplicates"==t.message){var a;x(!0),ee(!1),q(!1),V(!1),p(t.message),Z(null===t||void 0===t||null===(a=t.Finaldata)||void 0===a?void 0:a.data),K(!0)}else p("");setTimeout((function(){V(!1)}),2e3)}))},children:[(0,T.jsx)(P.Z,{})," Upload"]})})]}),(0,T.jsx)("div",{className:"mod-md-1"}),(0,T.jsx)("div",{className:"mod-md-10 row",children:z&&(0,T.jsxs)("table",{className:"table table-bordered table-striped attainTable ",style:{width:"100%"},children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{className:"fs10 ",style:{backgroundColor:"#f2f5f6"},children:[(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"S. No"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Phase"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Type"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Checkpoints"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Iso Details"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Initiation Weightage"}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Steady State Weightage"}),(0,T.jsxs)("th",{style:{textAlign:"center"},className:"ellipsis",children:["Closure Weightage"," "]}),(0,T.jsx)("th",{style:{textAlign:"center"},className:"ellipsis",children:"Comments"})]})}),(0,T.jsx)("tbody",{children:null===S||void 0===S?void 0:S.map((function(e,s){return(0,T.jsxs)("tr",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)"},children:[(0,T.jsx)("td",{children:s+1}),(0,T.jsx)("td",{children:e.project_type}),(0,T.jsx)("td",{children:e.project_phase}),(0,T.jsx)("td",{children:e.checkpoint}),(0,T.jsx)("td",{children:e.iso_details}),(0,T.jsx)("td",{style:{textAlign:"right"},children:e.initiation_weightage}),(0,T.jsx)("td",{style:{textAlign:"right"},children:e.steady_state_weightage}),(0,T.jsx)("td",{style:{textAlign:"right"},children:e.closure_weightage}),(0,T.jsx)("td",{children:e.comments})]},s)}))})]})}),(0,T.jsx)("div",{className:"mod-md-1 ml-2"})]})]})})}var W=function(){var e,s=(0,n.useState)(!1),t=(0,i.Z)(s,2),d=t[0],h=t[1],p=(0,n.useState)(r.UdN),m=(0,i.Z)(p,2),j=m[0],g=m[1],x=(0,n.useState)([]),S=(0,i.Z)(x,2),P=(S[0],S[1]),W=(0,n.useState)([]),E=(0,i.Z)(W,2),U=E[0],I=E[1],V=(0,n.useState)([]),R=(0,i.Z)(V,2),L=R[0],O=R[1],Y=(0,n.useState)([]),B=(0,i.Z)(Y,2),z=B[0],K=B[1],X=(0,n.useState)(!1),$=(0,i.Z)(X,2),Q=$[0],q=$[1],G=(0,n.useState)(!1),H=(0,i.Z)(G,2),J=H[0],ee=H[1],se=(0,n.useState)(!1),te=(0,i.Z)(se,2),le=te[0],ae=te[1],ie=(0,n.useState)([]),ne=(0,i.Z)(ie,2),ce=ne[0],re=ne[1],oe=(0,n.useState)([]),de=(0,i.Z)(oe,2),ue=de[0],he=de[1],pe=(0,n.useState)([]),me=(0,i.Z)(pe,2),je=me[0],ge=me[1],xe=(0,n.useState)([]),fe=(0,i.Z)(xe,2),ve=fe[0],Ne=(fe[1],(0,n.useState)([])),ye=(0,i.Z)(Ne,2),Se=ye[0],be=ye[1],Ze=(0,n.useState)("add"),Ce=(0,i.Z)(Ze,2),ke=Ce[0],Pe=Ce[1],_e=(0,n.useState)([]),we=(0,i.Z)(_e,2),Te=we[0],De=we[1],Ae=(0,n.useState)(!1),Me=(0,i.Z)(Ae,2),Fe=Me[0],We=(Me[1],(0,n.useState)(!1)),Ee=(0,i.Z)(We,2),Ue=Ee[0],Ie=(Ee[1],(0,n.useState)(!1)),Ve=(0,i.Z)(Ie,2),Re=Ve[0],Le=Ve[1],Oe=(0,n.useState)(!1),Ye=(0,i.Z)(Oe,2),Be=Ye[0],ze=Ye[1],Ke=(0,n.useState)(!1),Xe=(0,i.Z)(Ke,2),$e=Xe[0],Qe=Xe[1],qe=(0,n.useState)(),Ge=(0,i.Z)(qe,2),He=Ge[0],Je=Ge[1],es=(0,n.useState)(!1),ss=(0,i.Z)(es,2),ts=ss[0],ls=ss[1],as=f.N.baseUrl,is=(0,n.useState)(!1),ns=(0,i.Z)(is,2),cs=ns[0],rs=ns[1],os=(0,n.useState)(!1),ds=(0,i.Z)(os,2),us=ds[0],hs=ds[1],ps=(0,n.useRef)(null),ms=(0,n.useState)(!1),js=(0,i.Z)(ms,2),gs=js[0],xs=js[1],fs=function(e){e.expanded;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(r.qL$,{className:"chevronIcon"})})},vs=function(e,s){var t=e.map((function(e){return e.value})),l=s.map((function(e){return e.value}));return t.length===l.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")},Ns=(0,n.useRef)([]),ys={prjType:"-1",prjPhase:"-1",isSearch:"1"},Ss=(0,n.useState)(ys),bs=(0,i.Z)(Ss,2),Zs=bs[0],Cs=bs[1];(0,n.useEffect)((function(){}),[Te]),console.log(ce,"lione no---------------------322");var ks=function(){if((0,w.Z)(Ns),""==Zs.prjType||""==Zs.prjPhase){if((0,Z.Z)(Ns))return void ls(!0)}else ls(!1),rs(!0),ps.current=new AbortController,u()({method:"post",url:as+"/governancems/AuditCPSetup/getCustProjects",signal:ps.current.signal,data:{prjType:Zs.prjType,prjPhase:Zs.prjPhase,isSearch:1},headers:{"Content-Type":"application/json"}}).then((function(e){var s=e.data;console.log(s,"line no------48");ge(s);var t=[];s.forEach((function(e,s){e.sno=s+1,t.push(e)})),I([{sno:"SNo",proj_type:"Type",proj_phase:"Phase",check_point:"Audit Checkpoints",iso_details:"ISO 9001:2015",initiation_weightage:"Initiation Weightage",steady_state_weightage:"Steady State Weightage",closure_weightage:"Closure Weightage",valid_from:"Valid From",valid_till:"Valid Till",Action:"Action"}].concat(t)),ls(!1),rs(!1)}))};(0,n.useEffect)((function(){P([{sno:"SNo",type:"Type",phase:"phase",auditCheckpoint:"Audit Checkpoint",iso:"ISO 9001:2015",initiationWeightage:"Initiation Weightage",steadyStateWeightage:"Steady State Weightage",closureWeightage:"Closure Weightage",validFrom:"Valid From",validTill:"Valid Till",action:"Action"}]),ks(),u().get(as+"/governancems/AuditCPSetup/getProjectPhase").then((function(e){var s=[],t=e.data;t.length>0&&t.forEach((function(e){var t={label:e.lkup_name,value:e.id};s.push(t)})),O(s),K(s)})).catch((function(e){return console.log(e)})),u().get(as+"/governancems/AuditCPSetup/getProjectTypes").then((function(e){var s=[],t=e.data;t.length>0&&t.forEach((function(e){var t={label:e.lkup_name,value:e.id};s.push(t)})),re(s),he(s)})).catch((function(e){return console.log(e)}))}),[]),(0,n.useEffect)((function(){U[0]&&be(JSON.parse(JSON.stringify(U[0])))}),[U]);var Ps=function(e){je[0];return(0,T.jsx)("div",{align:"center",children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.QML,{"data-toggle":"tooltip",title:"Edit Scope",color:"black",cursor:"pointer",type:"edit",size:"1.2em",onClick:function(){De(e),Je(e.id),ee(!0),Pe("edit")}})," ","\xa0",(0,T.jsx)(y.YK6,{className:"ellipsis","data-toggle":"tooltip",title:"Delete Scope",color:"orange",cursor:"pointer",type:"delete",onClick:function(){De(e),ae(!0),Pe("delete")}})]})})},_s=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"center","data-toggle":"tooltip",title:e.sno,children:e.sno})},ws=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"left",title:e.check_point,children:e.check_point})},Ts=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"left",title:e.proj_type,children:e.proj_type})},Ds=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"left",title:e.proj_phase,children:e.proj_phase})},As=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"left",title:e.iso_details,children:e.iso_details})},Ms=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"right",title:e.initiation_weightage,children:e.initiation_weightage})},Fs=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"right",title:e.steady_state_weightage,children:e.steady_state_weightage})},Ws=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"right",title:e.closure_weightage,children:e.closure_weightage})},Es=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"Center",title:e.valid_from,children:e.valid_from})},Us=function(e){return(0,T.jsx)("div",{className:"ellipsis",align:"Center",title:e.valid_till,children:e.valid_till})},Is=null===(e=Object.keys(Se))||void 0===e?void 0:e.map((function(e,s){return(0,T.jsx)(N.sgG,{sortable:!0,body:"sno"==e?_s:"iso_details"==e?As:"proj_type"==e?Ts:"proj_phase"==e?Ds:"initiation_weightage"==e?Ms:"steady_state_weightage"==e?Fs:"closure_weightage"==e?Ws:"valid_from"==e?Es:"valid_till"==e?Us:"Action"==e?Ps:"check_point"==e&&ws,field:e,header:Se[e]},e)}));return console.log(Zs,"line no--------134"),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{children:[Ue?(0,T.jsx)(_.Z,{}):"",Be?(0,T.jsxs)("div",{className:"statusMsg success",children:[(0,T.jsx)(b.hXj,{})," Audit Checkpoint Deleted Successfully !"]}):"",gs?(0,T.jsxs)("div",{className:"statusMsg error",children:[(0,T.jsx)(y.CSE,{})," You cannot delete the checkpoint as it is tagged to a project in compliance audit checklist."]}):"",Re?(0,T.jsxs)("div",{className:"statusMsg success",children:[(0,T.jsx)(b.hXj,{})," Check Point Saved Successfully"]}):"",$e?(0,T.jsxs)("div",{className:"statusMsg success",children:[(0,T.jsx)(b.hXj,{})," Checkpoint updated successfully"]}):"",Fe?(0,T.jsxs)("div",{className:"statusMsg success",children:[(0,T.jsx)(b.hXj,{})," Project Scope Updated successfully"]}):"",ts?(0,T.jsxs)("div",{className:"statusMsg error",children:[" ",(0,T.jsx)(y.CSE,{})," Please select the valid values for highlighted fields"," "]}):"",(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"col-md-12",children:(0,T.jsxs)("div",{className:"pageTitle",children:[(0,T.jsx)("div",{className:"childOne"}),(0,T.jsx)("div",{className:"childTwo",children:(0,T.jsx)("h2",{children:"Audit Check Points List"})}),(0,T.jsx)("div",{className:"childThree"})]})}),(0,T.jsxs)("div",{className:"group mb-3 customCard",children:[(0,T.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,T.jsx)("h2",{children:"Search Filters"}),(0,T.jsx)("div",{onClick:function(){h(!d),g(d?r.UdN:r.NR5)},children:(0,T.jsx)("span",{children:j})})]}),(0,T.jsx)(o.V9,{visible:!d,children:(0,T.jsxs)("div",{className:"group-content row",children:[(0,T.jsx)("div",{className:"col-md-3 mb-2",children:(0,T.jsxs)("div",{className:"form-group row",children:[(0,T.jsxs)("label",{className:"col-5",htmlFor:"projectType",children:["Project Type",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ns.current[0]=e},children:(0,T.jsx)(c.NU,{id:"prjType",options:ce,hasSelectAll:!0,value:ue,disabled:!1,ArrowRenderer:fs,valueRenderer:vs,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<<Please Select>>"},onChange:function(e){he(e);var s=[];e.forEach((function(e){s.push(e.value)})),Cs((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"prjType",s.toString()))}))}})})]})}),(0,T.jsx)("div",{className:"col-md-3 mb-2",children:(0,T.jsxs)("div",{className:"form-group row",children:[(0,T.jsxs)("label",{className:"col-5",htmlFor:"projectPhase",children:["Project Phase ",(0,T.jsx)("span",{className:"error-text",children:"*"})]}),(0,T.jsx)("span",{className:"col-1 p-0",children:":"}),(0,T.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ns.current[1]=e},children:(0,T.jsx)(c.NU,{id:"prjPhase",options:L,hasSelectAll:!0,ArrowRenderer:fs,valueRenderer:vs,value:z,disabled:!1,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<< All>>"},onChange:function(e){K(e);var s=[];e.forEach((function(e){s.push(e.value)})),Cs((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},"prjPhase",s.toString()))}))}})})]})}),(0,T.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:(0,T.jsxs)("button",{className:"btn btn-primary ",onClick:function(){return ks()},children:[(0,T.jsx)(r.U41,{}),"Search"]})})]})})]})]}),(0,T.jsxs)("div",{className:"col-md-12",children:[cs?(0,T.jsx)("div",{className:"loaderBlock",children:(0,T.jsx)(_.Z,{handleAbort:function(){ps.current&&ps.current.abort(),rs(!1)}})}):"",(0,T.jsx)(v.Z,{data:U,headerData:Se,dynamicColumns:Is,setHeaderData:be,linkColumns:je,linkColumnsRoutes:ve,rows:10}),(0,T.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:[(0,T.jsxs)("button",{className:"btn btn-primary ",onClick:function(){q(!0)},children:[(0,T.jsx)(C.p22,{})," Add"]}),(0,T.jsxs)("button",{className:"btn btn-primary ",onClick:function(){hs(!0)},children:[(0,T.jsx)(k.hU2,{})," Upload"]})]})]}),Q?(0,T.jsx)(M,{addPopup:Q,handleChange:function(e){var s=e.target,t=s.id,i=s.value;Cs((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,l.Z)({},t,i))}))},setaddPopup:q,type:ke,editedData:Te,setEditedData:De,editId:He,initialValue:ys,data:U,formData:Zs,setFormData:Zs,projectType:ce,setProjectType:re,selectedProjectType:ue,setSelectedProjectType:he,projectPhase:L,selectedProjectPhase:z,setSelectedProjectPhase:K,handleClick:ks,setAddmsg:Le}):"",J?(0,T.jsx)(A,{editPopup:J,setEditPopup:ee,editId:He,handleClick:ks,data:U,setEditedData:De,editedData:Te,setEditAddmsg:Qe}):"",le?(0,T.jsx)(D,{deletePopup:le,setDeletePopup:ae,setEditedData:De,editedData:Te,handleClick:ks,setDeleteMessage:ze,setDelMsg:xs}):"",us?(0,T.jsx)(F,{setUploadPopUp:hs,uploadpopUp:us,handleClick:ks}):""]})})}}}]);
//# sourceMappingURL=554.6b0ccf62.chunk.js.map