"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8190],{98190:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var n=s(72791),a=s(4942),i=s(1413),r=s(29439),o=s(1063),l=s(37145),c=(s(46175),s(41310),s(50919),s(59513)),d=s.n(c),u=s(34831),m=s(7692),v=s(74569),p=s.n(v),h=s(72426),g=s.n(h),x=s(16856),f=s(78820),j=s(70828),y=s(20860),b=s(80184);var N=function(){var e=(0,n.useState)([]),t=(0,r.Z)(e,2),s=t[0],c=t[1],v=(0,n.useState)([]),h=(0,r.Z)(v,2),N=(h[0],h[1]),_=(0,n.useState)(null),w=(0,r.Z)(_,2),S=w[0],Z=w[1],C=(0,n.useState)(!1),k=(0,r.Z)(C,2),q=k[0],T=k[1],P=(0,n.useState)(!1),E=(0,r.Z)(P,2),M=E[0],Q=E[1],D=(0,n.useState)([]),B=(0,r.Z)(D,2),A=B[0],L=B[1],R=(0,n.useState)(!1),Y=(0,r.Z)(R,2),F=Y[0],z=Y[1],H=(0,n.useState)(!1),O=(0,r.Z)(H,2),U=O[0],W=O[1],X=(0,n.useState)(),G=(0,r.Z)(X,2),I=G[0],J=G[1],K=(0,n.useState)(!1),V=(0,r.Z)(K,2),$=V[0],ee=V[1],te=(0,n.useState)(!1),se=(0,r.Z)(te,2),ne=se[0],ae=se[1],ie=(0,n.useState)(!0),re=(0,r.Z)(ie,2),oe=re[0],le=re[1],ce=(0,n.useState)(!0),de=(0,r.Z)(ce,2),ue=de[0],me=de[1],ve=(0,n.useState)(!1),pe=(0,r.Z)(ve,2),he=pe[0],ge=pe[1],xe=(0,n.useState)(!0),fe=(0,r.Z)(xe,2),je=fe[0],ye=fe[1],be=(0,n.useState)(!0),Ne=(0,r.Z)(be,2),_e=Ne[0],we=Ne[1],Se=(0,n.useState)(""),Ze=(0,r.Z)(Se,2),Ce=Ze[0],ke=Ze[1],qe=(0,n.useState)(""),Te=(0,r.Z)(qe,2),Pe=Te[0],Ee=Te[1],Me=(0,n.useState)(!1),Qe=(0,r.Z)(Me,2),De=Qe[0],Be=Qe[1],Ae=(0,n.useState)(!1),Le=(0,r.Z)(Ae,2),Re=Le[0],Ye=Le[1],Fe=(0,n.useState)(!1),ze=(0,r.Z)(Fe,2),He=ze[0],Oe=ze[1],Ue=(0,n.useState)({survey_name:"",type:"CSAT"}),We=(0,r.Z)(Ue,2),Xe=We[0],Ge=We[1],Ie=(0,n.useState)({pcqa_csat_survey_id:"",question:"",question_code:""}),Je=(0,r.Z)(Ie,2),Ke=Je[0],Ve=Je[1],$e=u.N.baseUrl;(0,n.useEffect)((function(){st(),nt(),tt()}),[]);var et=function(){var e;null===(e=document.getElementsByClassName("p-row-editor-save-icon pi pi-fw pi-check")[0])||void 0===e||e.click()},tt=function(){p()({method:"get",url:$e+"/governancems/Csat/getCsatsurvey"}).then((function(e){var t=e.data;J(t)})).catch((function(e){}))},st=function(){p()({method:"get",url:$e+"/governancems/Csat/getCsatques"}).then((function(e){var t=e.data;c(t)})).catch((function(e){}))},nt=function(){p()({method:"get",url:$e+"/governancems/Csat/getQuestionType"}).then((function(e){var t=e.data;L(t)})).catch((function(e){}))},at=(s.length,function(e){e.preventDefault();var t=e.target.getAttribute("name"),s=e.target.value.trim(),n=(0,i.Z)({},Ke);n[t]=s,Ve(n),Oe(!0)}),it=function(e){return(0,b.jsx)("div",{"data-toggle":"tooltip",title:e.question,children:e.question})},rt=function(e){return(0,b.jsx)("div",{"data-toggle":"tooltip",title:e.lkup_name,children:e.lkup_name})},ot=(0,b.jsx)("div",{className:"newEntryFields",children:(0,b.jsx)("form",{className:"col-md-12",children:(0,b.jsxs)("div",{className:"row px-1 py-2",children:[(0,b.jsx)("div",{className:"col-9",children:(0,b.jsx)("input",{type:"text",name:"survey_name",required:!0,onChange:function(e){e.preventDefault();var t=e.target.getAttribute("name"),s=e.target.value.trim(),n=(0,i.Z)({},Xe);n[t]=s,Ge(n),Ye(!0)},placeholder:"Enter Survey Question"})}),(0,b.jsx)("div",{className:"col-3",children:(0,b.jsx)(d(),{name:"date",id:"date",className:"disableField",selected:new Date,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,disabled:!0,showYearDropdown:!0})})]})})}),lt=(0,b.jsx)("div",{className:"newEntryFields",children:(0,b.jsx)("form",{className:"col-md-12",children:(0,b.jsxs)("div",{className:"row px-1 py-2",children:[(0,b.jsx)("div",{className:"col-9",children:(0,b.jsx)("input",{type:"text",name:"question",required:!0,onChange:at,placeholder:"Enter Survey Question"})}),(0,b.jsx)("div",{className:"col-3",children:(0,b.jsx)("select",{name:"response_type",id:"response_type",onChange:at,children:A.map((function(e){return(0,b.jsxs)("option",{value:e.val,children:[" ",e.lkup_name]})}))})})]})})});return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)("div",{className:"col-md-12",children:De?(0,b.jsxs)("div",{className:"statusMsg error",children:[" ",(0,b.jsx)(f.CSE,{})," Please give Unique Name"]}):""}),Re&&(Ye(!1),ge(!0),we(!1),void ye(!1)),He&&(Oe(!1),ae(!0),me(!1),void le(!1)),(0,b.jsx)("div",{className:"col-md-12",children:$?(0,b.jsxs)("div",{className:"statusMsg error",children:[" ",(0,b.jsx)(f.CSE,{})," Please select the valid values for highlighted fields"]}):""}),(0,b.jsx)("div",{className:"col-md-12",children:F?(0,b.jsxs)("div",{className:"statusMsg success",children:[" ",(0,b.jsx)(m.hXj,{}),"CSAT Survey ",Ce," created successfully"]}):""}),(0,b.jsx)("div",{className:"col-md-12",children:U?(0,b.jsxs)("div",{className:"statusMsg success",children:[" ",(0,b.jsx)(m.hXj,{}),"Survey Question ",Pe," created successfully."]}):""}),(0,b.jsxs)("div",{className:"csatTable darkHeader toHead",children:[(0,b.jsxs)(l.w,{value:s,showGridlines:!0,expandedRows:S,onRowToggle:function(e){return Z(e.data)},rowExpansionTemplate:function(e){return(0,b.jsxs)("div",{className:" darkHeader p-2",children:[(0,b.jsxs)(l.w,{value:e.subrows,responsiveLayout:"scroll",header:null,className:"p-grid innercsat customerEngament",pagination:e.subrows.length>0,paginator:e.subrows.length>0,rows:10,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},children:[(0,b.jsx)(o.s,{field:"question",body:it}),(0,b.jsx)(o.s,{field:"lkup_name",body:rt})]}),(0,b.jsx)(b.Fragment,{children:N(e.subrows)}),(0,b.jsx)("div",{className:"newTableEntry",children:(0,b.jsx)("div",{children:!0===M&&(0,b.jsx)("span",{children:lt})})}),(0,b.jsxs)("div",{className:"tableBottomButtons btn-container-events center",children:[(0,b.jsxs)("button",{className:"btn btn-primary p-1","data-toggle":"tooltip",disabled:ne,title:"Add new row",onClick:function(){Q(!0),ae(!0),me(!1),le(!1),Ve((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},"pcqa_csat_survey_id",e.id))}))},children:[(0,b.jsx)(x.WZt,{size:"1.2em"})," Add"]}),(0,b.jsxs)("button",{className:"btn btn-primary p-1",disabled:oe,onClick:function(){!function(){if(""==Ke.question||" "==Ke.question||void 0==Ke.question){for(var e=document.getElementsByName("question"),t=0;t<e.length;t++)e[t].classList.add("error-block");return ee(!0),le(!1),me(!1),ae(!0),void setTimeout((function(){ee(!1)}),3e3)}p()({method:"post",url:$e+"/governancems/Csat/saveInnerSurveyQue",data:{pcqa_csat_survey_id:Ke.pcqa_csat_survey_id,question:Ke.question,question_code:"",response_type:void 0==(null===Ke||void 0===Ke?void 0:Ke.response_type)?"160":null===Ke||void 0===Ke?void 0:Ke.response_type,status:1}}).then((function(e){st(),Ee(null===Ke||void 0===Ke?void 0:Ke.question),tt(),Q(!1),Ve((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},"response_type","160"))})),W(!0),setTimeout((function(){W(!1)}),3e3),le(!0),ae(!1),me(!0),Ve({})}))}(),et()},"data-toggle":"tooltip",title:"Save row",children:[(0,b.jsx)(y.UQg,{size:"0.7em"}),(0,b.jsx)("span",{className:"ml-1",children:" Save "})]}),(0,b.jsxs)("button",{className:"btn btn-primary p-1",disabled:ue,onClick:function(){Q(!1),function(){var e;null===(e=document.getElementsByClassName("p-row-editor-cancel p-link")[0])||void 0===e||e.click(),Ve({}),ae(!1),me(!0),le(!0)}()},"data-toggle":"tooltip",title:"Cancel row editing",children:[(0,b.jsx)(j.sQZ,{size:"0.6em"}),(0,b.jsx)("span",{className:"ml-1",children:"Cancel"})]})]})]})},pagination:!0,paginator:!0,rows:15,className:"primeReactDataTable ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[15,25,50],children:[(0,b.jsx)(o.s,{expander:function(e){var t;return(null===(t=e.subrows)||void 0===t?void 0:t.length)>=0}}),(0,b.jsx)(o.s,{field:"survey_name",header:"Survey/Question",sortable:!0,body:function(e){return(0,b.jsx)("div",{"data-toggle":"tooltip",title:e.survey_name,children:e.survey_name})},alignHeader:"center"}),(0,b.jsx)(o.s,{sortable:!0,field:"date",header:"Created On/Question type",body:function(e){return(0,b.jsx)("div",{title:g()(e.date).format("DD-MMM-YYYY"),children:g()(e.date).format("DD-MMM-YYYY")})},alignHeader:"center"})]}),(0,b.jsx)("div",{className:"newTableEntry",children:!0===q&&(0,b.jsx)("span",{children:ot})}),(0,b.jsxs)("div",{className:"tableBottomButtons btn-container-events center",children:[(0,b.jsxs)("button",{className:"btn btn-primary p-1","data-toggle":"tooltip",disabled:he,title:"Add new row",onClick:function(){T(!0),ge(!0),we(!1),ye(!1)},variant:"contained",children:[(0,b.jsx)(x.WZt,{size:"1.2em"})," Add"]}),(0,b.jsxs)("button",{className:"btn btn-primary p-1",disabled:je,onClick:function(){!function(){var e=I.some((function(e){return e.survey_name==Xe.survey_name}));if(void 0!=s&&e){for(var t=document.getElementsByName("survey_name"),n=0;n<t.length;n++)t[n].classList.add("error-block");return Be(!0),ye(!1),we(!1),ge(!0),void setTimeout((function(){Be(!1)}),3e3)}if(""==Xe.survey_name||" "==Xe.survey_name){for(var a=document.getElementsByName("survey_name"),i=0;i<a.length;i++)a[i].classList.add("error-block");return ee(!0),void setTimeout((function(){ee(!1)}),3e3)}p()({method:"post",url:$e+"/governancems/Csat/saveSurvey",data:Xe}).then((function(e){st(),tt(),T(!1),ke(null===Xe||void 0===Xe?void 0:Xe.survey_name),z(!0),setTimeout((function(){z(!1)}),3e3),ye(!0),we(!0),ge(!1)}))}(),et()},"data-toggle":"tooltip",title:"Save row",children:[(0,b.jsx)(y.UQg,{size:"0.7em"}),(0,b.jsx)("span",{className:"ml-1",children:" Save "})]}),(0,b.jsxs)("button",{className:"btn btn-primary p-1",disabled:_e,onClick:function(){T(!1),function(){var e;null===(e=document.getElementsByClassName("p-row-editor-cancel p-link")[0])||void 0===e||e.click(),we(!0),ge(!1),ye(!0)}()},"data-toggle":"tooltip",title:"Cancel row editing",variant:"contained",children:[(0,b.jsx)(j.sQZ,{size:"0.6em"}),(0,b.jsx)("span",{className:"ml-1",children:"Cancel"})]})]})]})]})};var _=function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"col-md-12",children:(0,b.jsxs)("div",{className:"pageTitle",children:[(0,b.jsx)("div",{className:"childOne"}),(0,b.jsx)("div",{className:"childTwo",children:(0,b.jsx)("h2",{children:"CSAT Survey Questions"})}),(0,b.jsx)("div",{className:"childThree"})]})}),(0,b.jsx)(N,{})]})}}}]);
//# sourceMappingURL=8190.d69b8ea4.chunk.js.map