"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8589],{52846:function(e,l,i){i.d(l,{Z:function(){return g}});var n=i(93433),t=i(1413),r=i(4942),s=i(29439),a=i(72791),o=i(11683),c=i(49177),d=i(53824),u=i(56355),p=i(16876),v=i(80184);function g(e){var l={Employee:(0,v.jsx)("img",{src:c,alt:"(fte_active_icon)",style:{height:"12px"},title:"Employee"}),Contractor:(0,v.jsx)("img",{src:d,alt:"(subk_active_icon)",style:{height:"12px"},title:"Contractor"})},i=e.data,g=e.expandedCols,h=(e.colExpandState,(0,a.useState)([])),m=(0,s.Z)(h,2),x=m[0],b=m[1],f=(0,a.useState)(null),j=(0,s.Z)(f,2),y=j[0],R=j[1],w=(0,a.useState)({}),A=(0,s.Z)(w,2),C=A[0],N=A[1],Z=(0,a.useState)(!1),T=(0,s.Z)(Z,2),V=T[0],S=(T[1],(0,a.useState)([])),k=(0,s.Z)(S,2),E=k[0],_=k[1],O=(0,a.useState)(!1),P=(0,s.Z)(O,2),B=P[0],F=P[1],G=(0,a.useState)(),M=(0,s.Z)(G,2),z=M[0],I=M[1],H=(0,a.useState)({}),U=(0,s.Z)(H,2),K=U[0],D=U[1],L=(0,a.useState)(null),$=(0,s.Z)(L,2),W=$[0],q=$[1],J=function(e){var l=String(e);if(!0===l.includes(".")){if(!0===l.includes(".00")){var i,n=l,t=(null!=(s=Number(n))&&(null===(i=s)||void 0===i?void 0:i.toFixed(0))).split(".");return t[0]=t[0].replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","),t.join(".")}n=l;var r,s,a=(null!=(s=Number(n))&&(null===(r=s)||void 0===r?void 0:r.toFixed(2))).split(".");return a[0]=a[0].replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","),a.join(".")}return null!=l&&(null===l||void 0===l?void 0:l.replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","))};(0,a.useEffect)((function(){Q()}),[i]),(0,a.useEffect)((function(){_(K),D(K)}),[K]);var Q=function(){var e,n,t,r,a,o,c,d,p=(null===i||void 0===i?void 0:i.utilizationTableData)||(null===i||void 0===i?void 0:i.benchUtilizationTableData)||(null===i||void 0===i?void 0:i.tableData),g=null;null!==i&&void 0!==i&&null!==(e=i.benchUtilizationColumns)&&void 0!==e&&e.includes("'")||null!==i&&void 0!==i&&null!==(n=i.utilizationcolumns)&&void 0!==n&&n.includes("'")||null!==i&&void 0!==i&&null!==(t=i.columns)&&void 0!==t&&t.includes("'")?g=(null===i||void 0===i||null===(o=i.benchUtilizationColumns)||void 0===o?void 0:o.replaceAll("'",""))||(null===i||void 0===i||null===(c=i.utilizationcolumns)||void 0===c?void 0:c.replaceAll("'",""))||(null===i||void 0===i||null===(d=i.columns)||void 0===d?void 0:d.replaceAll("'","")):g=(null===i||void 0===i?void 0:i.benchUtilizationColumns)||(null===i||void 0===i?void 0:i.utilizationcolumns);for(var h=null===(r=g)||void 0===r?void 0:r.split(","),m=[],x={},f={},j=0;j<(null===h||void 0===h?void 0:h.length);j++){var y=h[j].trim(),w=p[0];f[y]=w[y]}Object.entries(f).filter((function(e){var l=(0,s.Z)(e,2),i=l[0];return"string"===typeof l[1]&&(null===i||void 0===i?void 0:i.includes("name"))||(null===i||void 0===i?void 0:i.includes("rcount"))||(null===i||void 0===i?void 0:i.includes("Hrs"))||(null===i||void 0===i?void 0:i.includes("capacityGross"))||(null===i||void 0===i?void 0:i.includes("Revenue"))||(null===i||void 0===i?void 0:i.includes("GM"))||(null===i||void 0===i?void 0:i.includes("Cost"))})).forEach((function(e){var l;return x[null===(l=e[1])||void 0===l?void 0:l.split("-")[0]]=e[0]}));var A=Object.entries(x);N(Object.assign.apply(Object,[{}].concat([])));var C=null===p||void 0===p?void 0:p.filter((function(e){return 0==e.id}));null===A||void 0===A||A.map((function(e,l){var i=(0,s.Z)(e,2),n=i[0],t=i[1];m.push({accessorKey:t,header:n,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,v.jsxs)("div",{className:t.includes("name")||t.includes("rcount")?"mixer":"",title:n,children:[n,t.includes("name")||t.includes("rcount")?"":(0,v.jsx)(u.DAO,{className:"tableInfoIcon",onClick:function(e){q(e.currentTarget),I(n),F(!0)},children:""})]})}})}));var Z=C?Object.entries(C[0]):null;null===(a=Z)||void 0===a||a.sort();var T=["Revenue","AssRevenue","ActRevenue","ApprRevenue","RecRevenue","AvgCost","NAvgCost","RRCost","NRRCost","TrueCost","AcGM","NAcGM","RRGM","NRRGM","TcGM"];null!==Z&&(Z=Z.sort((function(e,l){return T.indexOf(e[0])-T.indexOf(l[0])}))),m.map((function(e){var i=m.indexOf(e),n=[];Z.map((function(t,r){var a=(0,s.Z)(t,2),o=a[0],c=a[1],d=o.includes("GM")?"GM":o.includes("capacity")||o.includes("gross")?"capacity":o.includes("allocations")?"allocations":o.includes("billAlloc")?"billAlloc":o.includes("billAct")?"billAct":o.includes("billAss")?"billAss":o.includes("billAppr")?"billAppr":o.includes("Cost")?"Cost":o.includes("Revenue")?"Revenue":null;if(null!=d){if(e.accessorKey.includes(d)){var u={id:o,header:null==c||0==c?"":(0,v.jsx)("div",{className:"center-align",children:"PR (Bill+Ovrh)"==c?(0,v.jsxs)("div",{title:"PR (Role)",children:[" ","PR (Role)"]}):"RR"==c?(0,v.jsxs)("div",{title:"RR (Role)",children:[" ","RR (Role)"]}):(0,v.jsxs)("div",{title:c,children:[" ",c]})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,v.jsx)("span",{children:"name"==i.column.id?(0,v.jsxs)("span",{title:i.getValue(),children:[l[i.row.original.name],(0,v.jsx)("b",{children:i.getValue()})]}):o.includes("Revenue")||o.includes("Cost")?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{title:J(i.getValue()),children:(0,v.jsxs)("span",{children:["$",(0,v.jsx)("span",{style:{float:"right"},children:J(i.getValue())})]})})}):o.includes("GM")?(0,v.jsxs)("div",{class:"align right",title:J(i.getValue()),children:[J(i.getValue()),"%"]}):(0,v.jsxs)("div",{class:"align right",title:J(i.getValue()),children:[J(i.getValue())," "]})})}};n.push(u),m[i].columns=n}}else if(e.accessorKey.includes(o)){var p={id:o,header:null==c||0==c?(0,v.jsx)("span",{className:"center-align",title:c,children:c}):(0,v.jsx)("div",{className:c.includes(null)||c.includes("")&&"nullCol",children:"PR (Bill+Ovrh)"==c?(0,v.jsxs)("div",{title:"PR (Role)",children:[" ","PR (Role)"]}):"RR"==c?(0,v.jsxs)("div",{title:"RR (Role)",children:[" ","RR (Role)"]}):(0,v.jsxs)("div",{title:c,children:[" ",c]})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,v.jsx)("span",{children:"name"==i.column.id?(0,v.jsxs)("span",{title:i.getValue(),children:[l[i.row.original.name],(0,v.jsx)("b",{children:i.getValue()})]}):(0,v.jsx)("div",{class:"align right",title:J(i.getValue()),children:J(i.getValue())})})}};m[i].columns=[p]}}))})),R(m);var V=[];null===p||void 0===p||p.map((function(e){return-1!=e.id&&-2!=e.id?V.push(e):""}));var S=Y(V,{children:"subRows"});b(S.slice(1,S.length))};(0,a.useEffect)((function(){V?N({}):X()}),[V]);var X=function(){var e=[];E.map((function(l){var i=(0,s.Z)(l,2),n=i[0];i[1];g.includes(n)&&e.push((0,r.Z)({},n,!1))})),N(Object.assign.apply(Object,[{}].concat(e)))},Y=function(e,l){l=(0,t.Z)({id:"id",parentId:"parentId",children:"subRows"},l);var i={},s=[],a=l.children;return e.forEach((function(e){var n=e[l.id],s=e[l.parentId];i[n]=(0,t.Z)((0,t.Z)((0,r.Z)({},a,[]),e),i[n]),i[s]=i[s]||(0,r.Z)({},a,[]),i[s][a].push(i[n])})),Object.values(i).forEach((function(e){"undefined"===typeof e[l.id]&&s.push.apply(s,(0,n.Z)(e[a]))})),s};return(0,v.jsxs)("div",{className:"materialReactExpandableTable mfrTable darkHeader ",children:[x.length?(0,v.jsx)(o.ZP,{columns:y,data:x,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableColumnFilterModes:!0,enableSorting:!1,filterFromLeafRows:!0,state:{columnVisibility:(0,t.Z)({},C)},defaultColumn:{minSize:40,maxSize:1e3,size:40},muiSearchTextFieldProps:{placeholder:"search",sx:{minWidth:"300px"},variant:"standard"},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td:first-of-type":{borderLeft:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px",maxWidth:"150px"},"& td:nth-of-type(even)":{backgroundColor:"aliceblue"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"},"& th:first-of-type":{borderLeft:"1px solid #ccc"}}}}):null,B?(0,v.jsx)(p.Z,{infoPopUp:B,setInfoPopUp:F,iconName:z,setIconName:I,anchorEl:W,setAnchorEl:q}):""]})}},15475:function(e,l,i){i.d(l,{Z:function(){return y}});var n=i(93433),t=i(1413),r=i(4942),s=i(29439),a=i(72791),o=i(11683),c=i(13400),d=i(49177),u=i(34911),p=i(56637),v=i(53824),g=i(48462),h=i(59170),m=i(78820),x=i(56355),b=i(16876),f=i(11087),j=i(80184);function y(e){var l={Employee:(0,j.jsx)("img",{src:d,alt:"(fte_active_icon)",style:{height:"12px"},title:"Employee"}),Contractor:(0,j.jsx)("img",{src:v,alt:"(subk_active_icon)",style:{height:"12px"},title:"Contractor"}),fteActive:(0,j.jsx)("img",{src:d,alt:"(fte_active_icon)",style:{height:"12px"},title:"Active Employee"}),fteNotice:(0,j.jsx)("img",{src:p,alt:"(fte_notice_icon)",style:{height:"12px"},title:"Employee in notice period"}),fteInactive:(0,j.jsx)("img",{src:u,alt:"(fte_inactive_icon)",style:{height:"12px",marginTop:"-5px"},title:"Ex-Employee"}),subkActive:(0,j.jsx)("img",{src:v,alt:"(subk_active_icon)",style:{height:"12px"},title:"Active Contractor"}),subk0:(0,j.jsx)("img",{src:g,alt:"(subk_inactive_icon)",style:{height:"12px",marginTop:"-5px"},title:"Ex-Contractor"}),subk2:(0,j.jsx)("img",{src:h,alt:"(subk_notice_icon)",style:{height:"12px"},title:"Contractor in notice period"})},i=e.data,y=e.expandedCols,R=e.colExpandState,w=(0,a.useState)([]),A=(0,s.Z)(w,2),C=A[0],N=A[1],Z=(0,a.useState)(null),T=(0,s.Z)(Z,2),V=T[0],S=T[1],k=(0,a.useState)({}),E=(0,s.Z)(k,2),_=E[0],O=E[1],P=(0,a.useState)(!1),B=(0,s.Z)(P,2),F=B[0],G=B[1],M=(0,a.useState)([]),z=(0,s.Z)(M,2),I=z[0],H=z[1],U=(0,a.useState)({}),K=(0,s.Z)(U,2),D=K[0],L=K[1],$=(0,a.useState)(!1),W=(0,s.Z)($,2),q=W[0],J=W[1],Q=(0,a.useState)(),X=(0,s.Z)(Q,2),Y=X[0],ee=X[1],le=(0,a.useState)(null),ie=(0,s.Z)(le,2),ne=ie[0],te=ie[1],re=function(e){var l;if((n=String(e)).includes(".")){var i,n;if(n.includes(".00"))return null===(i=n=parseFloat(e))||void 0===i?void 0:i.toLocaleString();var t,r,s=Number(n),a=(null!=s&&(null===s||void 0===s?void 0:s.toFixed(2))).split(".");return a[0]=null===(t=a[0])||void 0===t?void 0:t.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,"),a[1]=null===(r=a[1])||void 0===r?void 0:r.replace(/(\d{3})(?=\d)/g,"$1,"),a.join(".")}return null===(l=n=parseFloat(e))||void 0===l?void 0:l.toLocaleString()};(0,a.useEffect)((function(){re(se())}),[i]),(0,a.useEffect)((function(){H(D),L(D)}),[D]);var se=function(){var e,n,t,r,a=null===i||void 0===i?void 0:i.tableData,o=null;null!==i&&void 0!==i&&null!==(e=i.columns)&&void 0!==e&&e.includes("'")?o=null===i||void 0===i||null===(r=i.columns)||void 0===r?void 0:r.replaceAll("'",""):o=null===i||void 0===i?void 0:i.columns;for(var d=null===(n=o)||void 0===n?void 0:n.split(","),u=[],p={},v={},g=0;g<(null===d||void 0===d?void 0:d.length);g++){var h=d[g].trim(),b=a[0];v[h]=b[h]}Object.entries(v).filter((function(e){var l=(0,s.Z)(e,2),i=(l[0],l[1]);return"string"===typeof i&&i.includes("^&")})).forEach((function(e){return p[e[1].split("^&")[0]]=e[0]}));var y=Object.entries(p);O(Object.assign.apply(Object,[{}].concat([])));var w=null===a||void 0===a?void 0:a.filter((function(e){return-1==e.id}));null===y||void 0===y||y.map((function(e,l){var i=(0,s.Z)(e,2),n=i[0],t=i[1];u.push({accessorKey:t,header:n,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,j.jsxs)("div",{className:t.includes("name")||t.includes("rcount")?"mixer":"",title:n,children:[n,t==R[2]?(0,j.jsx)(c.Z,{onClick:function(){G((function(e){return!e}))},children:(0,j.jsx)(m.bBv,{})}):t.includes("name")||t.includes("rcount")?"":(0,j.jsx)(x.DAO,{className:"tableInfoIcon",onClick:function(e){te(e.currentTarget),ee(n),J(!0)},children:""})]})}})}));var A=w?Object.entries(w[0]):null;null===(t=A)||void 0===t||t.sort();var C=["Revenue","AssRevenue","ActRevenue","ApprRevenue","RecRevenue","AvgCost","NAvgCost","RRCost","NRRCost","TrueCost","AcGM","NAcGM","RRGM","NRRGM","TcGM"];null!==A&&(A=A.sort((function(e,l){return C.indexOf(e[0])-C.indexOf(l[0])}))),u.map((function(e){var i=u.indexOf(e),n=[];A.map((function(t,r){var a=(0,s.Z)(t,2),o=a[0],c=a[1],d=o.includes("GM")?"GM":o.includes("capacity")||o.includes("gross")?"capacity":o.includes("allocations")?"allocations":o.includes("billAlloc")?"billAlloc":o.includes("billAct")?"billAct":o.includes("billAss")?"billAss":o.includes("billAppr")?"billAppr":o.includes("Cost")?"Cost":o.includes("Revenue")?"Revenue":null;if(null!=d){if(e.accessorKey.includes(d)){var p={id:o,header:null==c||0==c?"":(0,j.jsx)("div",{className:"center-align",children:(0,j.jsx)("div",{title:c,children:c})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,j.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"name"==i.column.id&&null!=i.row.original?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{title:i.getValue().split("^&")[0],children:"2"==i.row.original.lvl&&"Summary"!=i.row.original.name||"2"==i.row.original.lvl&&"Summary"==i.row.original.name?"2"==i.row.original.lvl&&"FTE"==i.row.original.resTyp.split("^&^&")[0]?(0,j.jsx)("div",{children:i.row.original.resTyp.split("^&^&")[0]}):"2"==i.row.original.lvl&&"Contractor"==i.row.original.resTyp.split("^&^&")[0]?(0,j.jsx)("div",{className:"align right",children:i.row.original.resTyp.split("^&^&")[0]}):(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resTyp.split("^&^&")[2]],(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.row.original.resTyp.split("^&^&")[3]),target:"_blank",children:i.row.original.resTyp.split("^&^&")[0]})]}):(0,j.jsx)("b",{children:i.getValue().split("^&")[0]})})}):null!=i.getValue()&&(o.includes("Revenue")||o.includes("Cost"))?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{title:re(i.getValue()),children:(0,j.jsxs)("span",{children:["$","2"==i.row.original.lvl?(0,j.jsx)("div",{style:{float:"right"},children:re(i.getValue())}):(0,j.jsx)("b",{style:{float:"right"},children:re(i.getValue())})]})})}):null!=i.getValue()&&(o.includes("GM")||o.includes("Perc"))?(0,j.jsx)(j.Fragment,{children:"2"==i.row.original.lvl?(0,j.jsxs)("div",{class:"align right",title:re(i.getValue()),children:[re(i.getValue())," %"]}):(0,j.jsxs)("b",{class:"align right",title:re(i.getValue()),children:[re(i.getValue())," %"]})}):"2"==i.row.original.lvl?(0,j.jsx)("div",{class:"align right",title:re(i.getValue()),children:re(i.getValue())}):(0,j.jsx)("b",{class:"align right",title:re(i.getValue()),children:re(i.getValue())})})}};n.push(p),u[i].columns=n}}else if(e.accessorKey.includes(o)){var v={id:o,header:null==c||0==c?"":(0,j.jsx)("div",{className:c.includes(null)||c.includes("")&&"center-align",children:(0,j.jsx)("div",{title:c,children:c})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,j.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"name"==i.column.id&&null!=i.row.original?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{title:i.getValue().split("^&")[0],children:"2"==i.row.original.lvl&&"Summary"!=i.row.original.name||"2"==i.row.original.lvl&&"Summary"==i.row.original.name?"2"==i.row.original.lvl&&"FTE"==i.row.original.resTyp.split("^&^&")[0]?(0,j.jsx)("span",{style:{color:"rgba(66, 144, 99, 0.9)",float:"right"},children:i.row.original.resTyp.split("^&^&")[0]}):"2"==i.row.original.lvl&&"Contractor"==i.row.original.resTyp.split("^&^&")[0]?(0,j.jsx)("span",{style:{color:"#f88f2e",float:"right"},children:i.row.original.resTyp.split("^&^&")[0]}):(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resTyp.split("^&^&")[2]],(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.row.original.resTyp.split("^&^&")[3]),target:"_blank",children:i.row.original.resTyp.split("^&^&")[0]})]}):(0,j.jsx)("b",{children:i.getValue().split("^&")[0]})})}):"2"==i.row.original.lvl?(0,j.jsx)("div",{className:"align right",title:re(i.getValue()),children:re(i.getValue())}):(0,j.jsx)("b",{className:"align right",title:re(i.getValue()),children:re(i.getValue())})})}};u[i].columns=[v]}}))})),S(u);var Z=[];null===a||void 0===a||a.map((function(e){return-1!=e.id&&-2!=e.id?Z.push(e):""})),N(oe(Z,{children:"subRows"}))};(0,a.useEffect)((function(){F?O({}):ae()}),[F]);var ae=function(){var e=[];I.map((function(l){var i=(0,s.Z)(l,2),n=i[0];i[1];y.includes(n)&&e.push((0,r.Z)({},n,!1))})),O(Object.assign.apply(Object,[{}].concat(e)))},oe=function(e,l){l=(0,t.Z)({id:"uniqueId",parentId:"parentId",children:"subRows"},l);var i={},s=[],a=l.children;return e.forEach((function(e){var n=e[l.id],s=e[l.parentId];i[n]=(0,t.Z)((0,t.Z)((0,r.Z)({},a,[]),e),i[n]),i[s]=i[s]||(0,r.Z)({},a,[]),i[s][a].push(i[n])})),Object.values(i).forEach((function(e){"undefined"===typeof e[l.id]&&s.push.apply(s,(0,n.Z)(e[a]))})),s};return(0,j.jsxs)("div",{className:"materialReactExpandableTable revenueForecastBuCustomer darkHeader",children:[C.length?(0,j.jsx)(o.ZP,{columns:V,data:C,enableExpandAll:!1,enableExpanding:!0,enablePagination:!1,enableRowVirtualization:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,t.Z)({},_),columnPinning:{right:["total"]}},state:{columnVisibility:(0,t.Z)({},_)},defaultColumn:{minSize:110,maxSize:1e3,size:110},muiTableContainerProps:{sx:{"&":{maxHeight:"40vh"}}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td:first-of-type":{borderLeft:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px",maxWidth:"150px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"},"& th:first-of-type":{borderLeft:"1px solid #ccc"}}}}):null,q?(0,j.jsx)(b.Z,{infoPopUp:q,setInfoPopUp:J,iconName:Y,setIconName:ee,anchorEl:ne,setAnchorEl:te}):""]})}},39349:function(e,l,i){i.d(l,{Z:function(){return y}});var n=i(93433),t=i(1413),r=i(4942),s=i(29439),a=i(72791),o=i(11683),c=i(13400),d=i(49177),u=i(34911),p=i(56637),v=i(53824),g=i(48462),h=i(59170),m=i(78820),x=i(56355),b=(i(15886),i(16876)),f=i(11087),j=i(80184);function y(e){var l={Employee:(0,j.jsx)("img",{src:d,alt:"(fte_active_icon)",style:{height:"12px"},title:"Employee"}),Contractor:(0,j.jsx)("img",{src:v,alt:"(subk_active_icon)",style:{height:"12px"},title:"Contractor"}),fteActive:(0,j.jsx)("img",{src:d,alt:"(fte_active_icon)",style:{height:"12px"},title:"Active Employee"}),fteInactive:(0,j.jsx)("img",{src:u,alt:"(fte_inactive_icon)",style:{height:"12px",marginTop:"-5px"},title:"Ex-Employee"}),fteNotice:(0,j.jsx)("img",{src:p,alt:"(fte_notice_icon)",style:{height:"12px"},title:"Employee in notice period"}),subkActive:(0,j.jsx)("img",{src:v,alt:"(subk_active_icon)",style:{height:"12px"},title:"Active Contractor"}),subk0:(0,j.jsx)("img",{src:g,alt:"(subk_inactive_icon)",style:{height:"12px",marginTop:"-5px"},title:"Ex-Contractor"}),subk2:(0,j.jsx)("img",{src:h,alt:"(subk_notice_icon)",style:{height:"12px"},title:"Contractor in notice period"})},i=e.data,y=e.expandedCols,R=e.colExpandState,w=e.setTimeOnSearch,A=e.timeOnSearch,C=(0,a.useState)([]),N=(0,s.Z)(C,2),Z=N[0],T=N[1],V=(0,a.useState)(null),S=(0,s.Z)(V,2),k=S[0],E=S[1],_=(0,a.useState)({}),O=(0,s.Z)(_,2),P=O[0],B=O[1],F=(0,a.useState)(!1),G=(0,s.Z)(F,2),M=G[0],z=G[1],I=(0,a.useState)([]),H=(0,s.Z)(I,2),U=H[0],K=H[1],D=(0,a.useState)({}),L=(0,s.Z)(D,2),$=L[0],W=L[1],q=(0,a.useState)(!1),J=(0,s.Z)(q,2),Q=J[0],X=J[1],Y=(0,a.useState)(),ee=(0,s.Z)(Y,2),le=ee[0],ie=ee[1],ne=(0,a.useState)(null),te=(0,s.Z)(ne,2),re=te[0],se=te[1],ae=function(e){var l;if((n=String(e)).includes(".")){var i,n;if(n.includes(".00"))return null===(i=n=parseFloat(e))||void 0===i?void 0:i.toLocaleString();var t,r,s=Number(n),a=(null!=s&&(null===s||void 0===s?void 0:s.toFixed(2))).split(".");return a[0]=null===(t=a[0])||void 0===t?void 0:t.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,"),a[1]=null===(r=a[1])||void 0===r?void 0:r.replace(/(\d{3})(?=\d)/g,"$1,"),a.join(".")}return null===(l=n=parseFloat(e))||void 0===l?void 0:l.toLocaleString()};(0,a.useEffect)((function(){ae(oe())}),[i]),(0,a.useEffect)((function(){K($),W($)}),[$]);var oe=function(){var e,n,t,r,a=null===i||void 0===i?void 0:i.tableData,o=null;null!==i&&void 0!==i&&null!==(e=i.columns)&&void 0!==e&&e.includes("'")?o=null===i||void 0===i||null===(r=i.columns)||void 0===r?void 0:r.replaceAll("'",""):o=null===i||void 0===i?void 0:i.columns;for(var d=null===(n=o)||void 0===n?void 0:n.split(","),u=[],p={},v={},g=0;g<(null===d||void 0===d?void 0:d.length);g++){var h=d[g].trim(),b=a[0];v[h]=b[h]}Object.entries(v).filter((function(e){var l=(0,s.Z)(e,2),i=(l[0],l[1]);return"string"===typeof i&&i.includes("^&")})).forEach((function(e){return p[e[1].split("^&")[0]]=e[0]}));var y=Object.entries(p);B(Object.assign.apply(Object,[{}].concat([])));var w=null===a||void 0===a?void 0:a.filter((function(e){return-1==e.id}));null===y||void 0===y||y.map((function(e,l){var i=(0,s.Z)(e,2),n=i[0],t=i[1];u.push({accessorKey:t,header:n,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,j.jsxs)("div",{className:t.includes("name")||t.includes("rcount")?"mixer":"",title:n,children:[n," ",t==R[2]?(0,j.jsx)(c.Z,{onClick:function(){z((function(e){return!e}))},children:(0,j.jsx)(m.bBv,{})}):t.includes("name")||t.includes("rcount")?"":(0,j.jsx)(x.DAO,{className:"tableInfoIcon",onClick:function(e){se(e.currentTarget),ie(n),X(!0)},children:""})]})}})}));var A=w?Object.entries(w[0]):null;null===(t=A)||void 0===t||t.sort();var C=["Revenue","AssRevenue","ActRevenue","ApprRevenue","RecRevenue","AvgCost","NAvgCost","RRCost","NRRCost","TrueCost","AcGM","NAcGM","RRGM","NRRGM","TcGM"];null!==A&&(A=A.sort((function(e,l){return C.indexOf(e[0])-C.indexOf(l[0])}))),u.map((function(e){var i=u.indexOf(e),n=[];A.map((function(t,r){var a=(0,s.Z)(t,2),o=a[0],c=a[1],d=o.includes("GM")?"GM":o.includes("capacity")||o.includes("gross")?"capacity":o.includes("allocations")?"allocations":o.includes("billAlloc")?"billAlloc":o.includes("billAct")?"billAct":o.includes("billAss")?"billAss":o.includes("billAppr")?"billAppr":o.includes("Cost")?"Cost":o.includes("Revenue")?"Revenue":null;if(null!=d){if(e.accessorKey.includes(d)){var p={id:o,header:null==c||0==c?"":(0,j.jsx)("div",{className:"center-align",children:(0,j.jsxs)("div",{title:c,children:[" ",c]})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,j.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"name"==i.column.id&&null!=i.row.original?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{title:i.getValue().split("^&")[0],children:"3"==i.row.original.lvl&&"practiceRes"==i.row.original.keyterm||"4"==i.row.original.lvl&&"countryRes"==i.row.original.keyterm||"5"==i.row.original.lvl&&"deptRes"==i.row.original.keyterm?(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resource_type]," ",(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.getValue().split("^&")[3]),target:"_blank",children:i.getValue().split("^&")[0]})]}):"6"==i.row.original.lvl&&"Summary"!=i.row.original.name||"5"==i.row.original.lvl&&"PracticeRes"==i.row.original.keyterm||"4"==i.row.original.lvl&&"RevTypRes"==i.row.original.keyterm||"3"==i.row.original.lvl&&"regionRes"==i.row.original.keyterm?(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resTyp.split("^&^&")[2]]," ",(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.getValue().split("^&")[3]),target:"_blank",children:i.getValue().split("^&")[0]})]}):(0,j.jsx)(j.Fragment,{children:i.getValue().split("^&")[0]})})}):null==i.getValue()&&" "==i.getValue()||!o.includes("Revenue")&&!o.includes("Cost")?null==i.getValue()&&" "==i.getValue()||!o.includes("GM")&&!o.includes("Perc")?i.row.original.keyterm.includes("Res")?(0,j.jsx)("div",{class:"align right",title:ae(i.getValue()),children:ae(i.getValue())}):(0,j.jsx)("b",{class:"align right",title:ae(i.getValue()),children:ae(i.getValue())}):(0,j.jsx)(j.Fragment,{children:i.row.original.keyterm.includes("Res")?(0,j.jsxs)("div",{class:"align right",title:ae(i.getValue()),children:[ae(i.getValue())," %"]}):(0,j.jsxs)("b",{class:"align right",title:ae(i.getValue()),children:[ae(i.getValue())," %"]})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{title:ae(i.getValue()),children:(0,j.jsxs)("span",{children:["$",i.row.original.keyterm.includes("Res")?(0,j.jsx)("div",{style:{float:"right"},children:ae(i.getValue())}):(0,j.jsx)("b",{style:{float:"right"},children:ae(i.getValue())})]})})})})}};n.push(p),u[i].columns=n}}else if(e.accessorKey.includes(o)){var v={id:o,header:null==c||0==c?"":(0,j.jsx)("div",{className:c.includes(null)||c.includes("")&&"center-align",children:(0,j.jsxs)("div",{title:c,children:[" ",c]})}),accessorKey:o,Cell:function(e){var i=e.cell;return(0,j.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"name"==i.column.id&&null!=i.row.original?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{title:i.getValue().split("^&")[0],children:"3"==i.row.original.lvl&&"practiceRes"==i.row.original.keyterm||"4"==i.row.original.lvl&&"countryRes"==i.row.original.keyterm||"5"==i.row.original.lvl&&"deptRes"==i.row.original.keyterm?(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resource_type]," ",(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.row.original.keyAttr.split("-res")[1]),target:"_blank",children:i.getValue().split("^&")[0]})]}):"6"==i.row.original.lvl&&"Summary"!=i.row.original.name||"5"==i.row.original.lvl&&"PracticeRes"==i.row.original.keyterm||"4"==i.row.original.lvl&&"RevTypRes"==i.row.original.keyterm||"3"==i.row.original.lvl&&"regionRes"==i.row.original.keyterm?(0,j.jsxs)(j.Fragment,{children:[l[i.row.original.resTyp.split("^&^&")[2]]," ",(0,j.jsx)(f.rU,{to:"/resource/profile/:".concat(i.row.original.keyAttr.split("-res")[1]),target:"_blank",children:i.getValue().split("^&")[0]})]}):i.row.original.keyterm.includes("Res")?(0,j.jsx)("div",{children:i.getValue().split("^&")[0]}):(0,j.jsx)("b",{children:i.getValue().split("^&")[0]})})}):i.row.original.keyterm.includes("Res")?(0,j.jsx)("div",{class:"align right",title:ae(i.getValue()),children:ae(i.getValue())}):(0,j.jsx)("b",{class:"align right",title:ae(i.getValue()),children:ae(i.getValue())})})}};u[i].columns=[v]}}))})),E(u);var N=[];null===a||void 0===a||a.map((function(e){return-1!=e.id&&-2!=e.id?N.push(e):""}));var Z=de(N,{children:"subRows"}).filter((function(e){return 0==(e.lvl>1&&0==e.subRows.length)}));T(Z)};(0,a.useEffect)((function(){M?B({}):ce()}),[M]);var ce=function(){var e=[];U.map((function(l){var i=(0,s.Z)(l,2),n=i[0];i[1];y.includes(n)&&e.push((0,r.Z)({},n,!1))})),B(Object.assign.apply(Object,[{}].concat(e)))},de=function(e,l){l=(0,t.Z)({id:"uniqueId",parentId:"parentId",children:"subRows"},l);var i={},s=[],a=l.children;return e.forEach((function(e){var n=e[l.id],s=e[l.parentId];i[n]=(0,t.Z)((0,t.Z)((0,r.Z)({},a,[]),e),i[n]),i[s]=i[s]||(0,r.Z)({},a,[]),i[s][a].push(i[n])})),Object.values(i).forEach((function(e){"undefined"===typeof e[l.id]&&s.push.apply(s,(0,n.Z)(e[a]))})),s},ue=(0,a.useRef)(null),pe=(0,a.useState)(!0),ve=(0,s.Z)(pe,2),ge=ve[0],he=ve[1];return(0,j.jsxs)("div",{className:"materialReactExpandableTable revenueForecastBuTable darkHeader ",children:[Z.length?(0,j.jsx)(o.ZP,{columns:k,data:Z,enableExpandAll:!1,enableExpanding:!0,enablePagination:!1,enableRowVirtualization:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,t.Z)({},P),columnPinning:{right:["total"]}},rowVirtualizerProps:{onChange:function(){console.log("timeOnSearch>",A,"new Date().getTime()>",(new Date).getTime()),A+1e3<(new Date).getTime()?(w((new Date).getTime()),he(!0),setTimeout((function(){he(!1)}),1e3)):he(!1)}},rowVirtualizerInstanceRef:ue,state:{isLoading:ge,columnVisibility:(0,t.Z)({},P)},defaultColumn:{minSize:110,maxSize:1e3,size:110},muiTableContainerProps:{sx:{"&":{maxHeight:"68vh"}}},muiTableBodyProps:{sx:{"&":{},"& td":{borderRight:"1px solid #ccc",height:"22px",fontSize:"11px",paddingTop:"0px",paddingBottom:"0px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",fontSize:"11px"}}}}):null,Q?(0,j.jsx)(b.Z,{infoPopUp:Q,setInfoPopUp:X,iconName:le,setIconName:ie,anchorEl:re,setAnchorEl:se}):""]})}},16876:function(e,l,i){i(72791);var n=i(95269),t=i(94026),r=(i(49686),i(80184));l.Z=function(e){var l=e.iconName,i=e.anchorEl,s=e.setAnchorEl,a=Boolean(i)?"my-popver":void 0;return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(n.ZP,{id:a,open:Boolean(i),anchorEl:i,onClose:function(){s(!1)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)(t.Z,{children:(0,r.jsx)("div",{children:l.includes("Capacity")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:"Capacity:"})," Total Number of hrs available for utilization in the period under consideration ( month )"," ",(0,r.jsx)("br",{}),"based on the filter criterion used."]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:"Gross Capacity:"})," Standard available hrs of resource in a day * Gross working Days ( Excluding",(0,r.jsx)("br",{})," weekends & Holidays)"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:"Net Capacity:"})," Standard available hrs of resource in a day * Net working days ( Excluding Weekends,",(0,r.jsx)("br",{})," Holidays and Leaves/Timeoffs) Holidays considered are based on the holidays listed in resource calender"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Gross%:"})," [ Gross Capacity - Net Capacity ] * 100 / Gross Capacity"]})]}):l.includes("Allocations")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:"Total Allocations:"}),"Total no of billable & Non billable planned hrs allocated to resource in capacity ",(0,r.jsx)("br",{}),"plan"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Net %:"})," Percentage of allocation hrs over Net Capacity hrs"]})]}):l.includes("Bill Alloc")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Billable Allocations: "}),"Total billable allocation hrs in capacity plan for a resource."]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Net%:"})," Percentage of Bilable allocation hrs over Net Capacity hrs"]})]}):l.includes("Bill Ass")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Billable Assigned:"})," Total billable assigned hrs in task plan for a resource."]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Net %:"})," Percentage of Bilable assignement hrs over Net Capacity hrs"]})]}):l.includes("Bill Act")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Billable Actuals: "}),"Total billable Actuals hrs logged by resource on a billable task."]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Net %: "}),"Percentage of Bilable actual hrs logged over Net Capacity hrs"]})]}):l.includes("Bill Appr")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Billable Approved:"})," Total billable Actuals hrs of resource approved by the PM."]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Net %:"})," Percentage of Bilable approved hrs of project over Net Capacity hrs"]})]}):l.includes("Revenue")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Planned Revenue:"})," Billable allocated hrs * Billing rate of a resource in project"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Assigned Revenue:"}),"Billable assignments on a billable task * Billing rate of a resource in project"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Actual Revenue:"})," Billable actuals logged * billing rate of a resource"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Approved Revenue:"})," Billable approved hrs * billing rate of a resource"]})]}):l.includes("Cost")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Average role cost:"})," average cost rate/hr for a resource based on his designation, County and Unit. This is standard rate provided by finance ",(0,r.jsx)("br",{}),"for all resources"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Role Cost:"})," at Project / Customer level ; Average role cost of a resource * total ",(0,r.jsx)("br",{}),"allocations of a resource in project/s"]}),(0,r.jsxs)("p",{className:"mb-2",children:[(0,r.jsx)("b",{children:" Role Cost: "}),"at other levels ; Average role cost of a resource * Net capacity hrs",(0,r.jsx)("br",{})," of a resource"]})]}):l.includes("GM")?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("b",{children:" GM % (Role) :"})," [Planned revenue - Cost (role) ] / Planned revenue as a %"]}):""})})})})})}},15886:function(){}}]);
//# sourceMappingURL=8589.3189bd8b.chunk.js.map