"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2624],{38679:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ma}});var a=n(72791),l=n(74165),s=n(15861),r=n(4942),i=n(1413),o=n(29439),c=n(36167),d=n(74569),u=n.n(d),m=n(34831),h=n(59513),p=n.n(h),f=(n(68639),n(85339)),v=n(93433),x=n(18083),g=(n(49686),n(47477)),j=n(1063),b=n(4751),y=n(72426),N=n.n(y),S=n(84127),A=n(78820),C=n(7692),Z=n(63521),E=n(14651),w=(n(29944),n(2248)),D=(n(8584),n(80184));var k=function(e){var t,n=(0,a.useState)(!1),l=(0,o.Z)(n,2),s=(l[0],l[1],(0,a.useState)(null)),c=(0,o.Z)(s,2),d=c[0],h=c[1],f=(0,a.useState)(""),g=(0,o.Z)(f,2),y=g[0],k=g[1],I=(0,a.useState)([]),P=(0,o.Z)(I,2),T=(P[0],P[1]),R=(0,a.useState)([]),_=(0,o.Z)(R,2),B=_[0],M=_[1],F=(0,a.useState)([]),U=(0,o.Z)(F,2),Q=U[0],L=U[1],J=(0,a.useState)([]),O=(0,o.Z)(J,2),Y=(O[0],O[1]),H=e.bodyDataa,V=e.flag,z=e.vendorId,G=e.tableTitle,K=e.colorFilter,q=e.summaryData,W=e.validationMsg,X=e.contractIds,$=e.searchHandle,ee=(0,a.useState)([]),te=(0,o.Z)(ee,2),ne=te[0],ae=te[1],le=(0,a.useState)([]),se=(0,o.Z)(le,2),re=se[0],ie=se[1],oe=(0,a.useState)([]),ce=(0,o.Z)(oe,2),de=(ce[0],ce[1]),ue=(0,a.useState)([]),me=(0,o.Z)(ue,2),he=(me[0],me[1]),pe=(0,a.useState)([]),fe=(0,o.Z)(pe,2),ve=fe[0],xe=fe[1],ge=(0,a.useState)(),je=(0,o.Z)(ge,2),be=je[0],ye=je[1],Ne=(0,a.useState)(!1),Se=(0,o.Z)(Ne,2),Ae=Se[0],Ce=Se[1],Ze=(0,a.useRef)(null),Ee=(0,a.useState)(0),we=(0,o.Z)(Ee,2),De=we[0],ke=we[1],Ie=(0,a.useState)([]),Pe=(0,o.Z)(Ie,2),Te=Pe[0],Re=Pe[1],_e=(0,a.useState)({}),Be=(0,o.Z)(_e,2),Me=Be[0],Fe=Be[1],Ue=(0,a.useState)(!1),Qe=(0,o.Z)(Ue,2),Le=Qe[0],Je=Qe[1],Oe=(0,a.useState)(!1),Ye=(0,o.Z)(Oe,2),He=(Ye[0],Ye[1],(0,a.useState)([])),Ve=(0,o.Z)(He,2),ze=Ve[0],Ge=Ve[1],Ke=(0,a.useState)(""),qe=(0,o.Z)(Ke,2),We=qe[0],Xe=qe[1],$e=K[0],et=K[1],tt=K[2],nt=["<<Please Select>>",q[0].contract,q[0].contract_hire,q[0].freelancer,q[0].fixed_bid,q[0].offered,q[0].on_exit_path,q[0].conv_in_prog,q[0].awaiting_conv],at=["<<Please Select>>",q[2].name,q[3].name];(0,a.useEffect)((function(){u().get("http://10.11.12.149:8090/VendorMS/vendor/getVendorsNameandId").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.name,value:e.id};t.push(n)})),Re(t)})).catch((function(e){return console.log(e)}))}),[]),(0,a.useEffect)((function(){De&&Ze.current&&Ze.current.scrollIntoView({behavior:"instant"})}),[De]);var lt=new Date,st=lt.getFullYear(),rt=lt.getMonth(),it=lt.getDate(),ot=new Date(st,rt,it-7),ct=N()(lt).format("yyyy-MM-DD"),dt={buIds:"-1",country:"-1",fromDate:N()(ot).format("yyyy-MM-DD"),toDate:ct,lkKey:"total_hc",skillId:"0",isExport:"0",vendorId:z,page:"",custId:"0",projId:"0",buId:"0"},ut=((0,a.useRef)(null),[{employee_number:"Emp ID",resource_name:"Name",start_date:"DOJ",department:"Dept",supervisor:"Supervisor",skills:"Skill",projects:"Projects",bill_allocs:"Billable Allocs",bill_rate:"Bill Rate",pay_rate:"Pay Rate",gm_perc:"GM%",alloc_end_date:"Alloc End Date",contract_end_date:"Contract End Date",ad_contract_end_date:"AD Expiry Date",vendor_name:"Vendor Name",contract_type:"Contract Type",skill_type:"Skill Type"}]),mt=m.N.baseUrl;(0,a.useEffect)((function(){ae(["XLS"])}),[]);var ht="total_hc"==G?"Total HC Details":"contract"==G?"Contract Details":"contract_hire"==G?"Contract 2 Hire Details":"freelancer"==G?"Freelancer Details":"fixed_bid"==G?"Fixed Bid Details":"offered"==G?"Offered Details":"on_exit_path"==G?"On Exit Path Details":"conv_in_prog"==G?"Conv in Prog Details":"awaiting Conv - DP/CL Details";(0,a.useEffect)((function(){u()({method:"post",url:mt+"/VendorMS/management/getVendManagementResourceDtls",data:dt}).then((function(e){e=e.data;for(var t=[{employee_number:"Emp ID",resource_name:"Name",start_date:"DOJ",department:"Dept",supervisor:"Supervisor",skills:"Skill",projects:"Projects",bill_allocs:"Billable Allocs",bill_rate:"Bill Rate($)",pay_rate:"Pay Rate($)",gm_perc:"GM%",alloc_end_date:"Alloc End Date",contract_end_date:"Contract End Date",ad_contract_end_date:"AD Expiry Date",vendor_name:"Vendor Name",contract_type:"Contract Type",skill_type:"Skill Type"}],n=[],a=[],l=0;l<e.length;l++)0==l?n.push(e[l]):a.push(e[l]);1==V?(M(t.concat(H)),L(t.concat(H)),Y(t.concat(H)),de(H),T(H)):(M(t.concat(a)),L(t.concat(a)),Y(t.concat(a)),de(a),T(a))})).catch((function(e){console.log(e)}))}),[z]),(0,a.useEffect)((function(){1===V&&(M(ut.concat(H)),L(ut.concat(H)),Y(ut.concat(H)))}),[H,ht]),(0,a.useEffect)((function(){!function(){var e=null;if((null===H||void 0===H?void 0:H.length)>0){e=H.map((function(e){var t;return null===(t=e.alloc_contract_date_icon)||void 0===t?void 0:t.split("~")[0]}));var t=(0,v.Z)(new Set(e));he(t)}}()}),[H]);var pt=(0,D.jsxs)("div",{className:"legend red",children:[(0,D.jsx)("div",{className:"legendCircle "}),(0,D.jsx)("div",{className:"legendTxt",children:"Alloc End Date > Contract End Dt "})]}),ft=(0,D.jsxs)("div",{className:"legend green",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsx)("div",{className:"legendTxt",children:" Alloc End Date = Contract End Dt "})]}),vt=(0,D.jsxs)("div",{className:"legend amber",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsx)("div",{className:"legendTxt",children:" Alloc End Date < Contract End Dt "})]}),xt=(0,D.jsx)("div",{className:"row",children:(0,D.jsxs)("div",{className:"legendContainer",children:["#da4832"==$e?pt:"#3dbb49"==$e?ft:"#FF0"==$e?vt:"","#da4832"==et?pt:"#3dbb49"==et?ft:"#FF0"==et?vt:"","#da4832"===tt?pt:"#3dbb49"==tt?ft:"#FF0"==tt?vt:""]})}),gt=function(e){return(0,D.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.department,children:e.department})},jt=function(e){return(0,D.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.supervisor,children:e.supervisor})},bt=function(e){return(0,D.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.projects,children:e.projects})},yt=function(e){return(0,D.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.skills,children:e.skills})},Nt=function(e){return(0,D.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.alloc_end_date,children:e.alloc_end_date})},St=function(e){return(0,D.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.alloc_contract_date_icon,children:e.alloc_contract_date_icon})},At=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.employee_number,children:e.employee_number})},Ct=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_allocs,children:(0,D.jsx)("div",{className:"align right",children:e.bill_allocs})})},Zt=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_rate,children:(0,D.jsx)("div",{className:"align right",children:e.bill_rate})})},Et=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.pay_rate,children:(0,D.jsx)("div",{className:"align right",children:e.pay_rate})})},wt=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.gm_perc,children:(0,D.jsx)("div",{className:"align right",children:e.gm_perc})})},Dt=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.alloc_end_date,children:e.alloc_end_date})},kt=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.vendor_name,children:e.vendor_name})},It=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.contract_type,children:e.contract_type})},Pt=function(e){return(0,D.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.start_date,children:e.start_date})},Tt=function(e){return(0,D.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.skill_type,children:e.skill_type})},Rt=function(e){return(0,D.jsx)("div",{className:"align center",title:e.ad_contract_end_date,children:e.ad_contract_end_date})},_t=function(e){return(0,D.jsxs)("div",{className:"legendContainer  ellipsis",onClick:function(t){!function(e,t){k(t)}(0,e.resource_name),ye(e.resource_id),h(t.currentTarget),Ce(!1)},children:[" ","#da4832~^Alloc End Date > Contract End Dt"==e.alloc_contract_date_icon?(0,D.jsxs)("div",{className:"legend red",children:[(0,D.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date > Contract End Dt"}),(0,D.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",to:b.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#3dbb49~^Alloc End Date = Contract End Dt"==e.alloc_contract_date_icon||"#3dbb49~^No Contract End Dt"==e.alloc_contract_date_icon?(0,D.jsxs)("div",{className:"legend green",to:b.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,D.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date = Contract End Dt"}),(0,D.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#FF0~^Alloc End Date < Contract End Dt"==e.alloc_contract_date_icon?(0,D.jsxs)("div",{className:"legend amber",to:b.J2,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,D.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date < Contract End Dt"}),(0,D.jsx)("div",{className:"ellipsis ","data-toggle":"popoverLink",title:e.resource_name,to:b.J2,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):""," "]})},Bt=function(e,t,n){console.log(B,"dataonchnge"),Je(!1);var a=(0,v.Z)(B),l=a.findIndex((function(t){return t.employee_number===e.employee_number}));a[l]=(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},t,n)),M(a)};(0,a.useEffect)((function(){if(1==Le&&""!=We)return document.addEventListener("click",Mt),function(){document.removeEventListener("click",Mt)};1==Le&&""==We&&Mt()}),[Le][We]);var Mt=function(){console.log(B,"datasahid");var e=(0,v.Z)(B),t=e.findIndex((function(e){return e.resource_id===Me.resource_id}));e[t]=(0,i.Z)((0,i.Z)({},B[t]),{},(0,r.Z)({},"vendor_name","")),M(e),Je(!1)},Ft=function(e,t){var n=e.resource_id,a=ze.some((function(e){return e.resource_id==n})),l=ze.findIndex((function(e){return e.resource_id===n}));return(0,D.jsx)("div",{className:"autoComplete-container cancel",children:(0,D.jsx)("div",{className:1==a&&""==ze[l].vendor_name&&""!=Q[l+1].vendor_name?"error-block":"",children:(0,D.jsx)(Z.ReactSearchAutocomplete,{items:Te,id:"VendorNameId",name:"VendorNameId",type:"text",inputSearchString:""==e.vendor_name||null==e.vendor_name?"":e.vendor_name,onSearch:function(t,n){!function(e,t,n,a){Xe(n),Te.some((function(e){return e.label.toLowerCase()==n.toLowerCase()}))||(Fe(e),Je(!0))}(e,0,t)},onSelect:function(t){Bt(e,"vendor_name",t.label)},fuseOptions:{keys:["label","value"]},resultStringKeyName:"label",showNoResults:!1,showClear:!1,placeholder:"Type to Search",showIcon:!1})})})},Ut=function(e,t){var n=e.resource_id,a=ze.some((function(e){return e.resource_id==n})),l=ze.findIndex((function(e){return e.resource_id===n}));return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("select",{onChange:function(t){return Bt(e,"contract_type",t.target.value)},className:1!=a||""!=ze[l].contract_type&&"<<Please Select>>"!=ze[l].contract_type||""==Q[l+1].contract_type?"":"error-block",children:nt.map((function(t){return(0,D.jsx)("option",{value:t,selected:t==e.contract_type,children:t},t)}))})})},Qt=function(e,t){var n=e.resource_id,a=ze.some((function(e){return e.resource_id==n})),l=ze.findIndex((function(e){return e.resource_id===n}));return(0,D.jsx)("div",{children:(0,D.jsx)("select",{className:1!=a||""!=ze[l].skill_type&&"<<Please Select>>"!=ze[l].skill_type||""==Q[l+1].skill_type?"":"error-block",onChange:function(t){return Bt(e,"skill_type",t.target.value)},children:at.map((function(t){return(0,D.jsx)("option",{value:t,selected:t==e.skill_type,children:t},t)}))})})},Lt=function(e,t){var n=e.resource_id,a=ze.some((function(e){return e.resource_id==n})),l=ze.findIndex((function(e){return e.resource_id===n}));return(0,D.jsx)("div",{children:(0,D.jsx)("span",{children:e.contract_end_date?(0,D.jsx)(p(),{className:1==a&&""==ze[l].contract_end_date&&""!=Q[l+1].contract_end_date?"error-block":"",dateFormat:"dd-MMM-yyyy",onKeyDown:function(e){e.preventDefault()},selected:N()(e.contract_end_date).toDate(),showMonthDropdown:!0,showYearDropdown:!0,onChange:function(t){return Bt(e,"contract_end_date",N()(t).format("YYYY-MM-DD"))}}):(0,D.jsx)(p(),{className:1==a&&""==ze[l].contract_end_date&&""!=Q[l+1].contract_end_date?"error-block":"",dateFormat:"dd-MMM-yyyy",onKeyDown:function(e){e.preventDefault()},placeholderText:"Select Date",showMonthDropdown:!0,showYearDropdown:!0,onChange:function(t){return Bt(e,"contract_end_date",N()(t).format("YYYY-MM-DD"))}})})})},Jt=null===(t=Object.keys(re))||void 0===t?void 0:t.map((function(e,t){return"vendor_name"==e?(0,D.jsx)(j.s,{sortable:!0,field:e,header:re[e],style:{width:"10rem"},body:Ft},e):"contract_type"==e?(0,D.jsx)(j.s,{sortable:!0,field:e,header:re[e],style:{width:"10rem"},body:Ut},e):"skill_type"==e?(0,D.jsx)(j.s,{sortable:!0,field:e,header:re[e],style:{width:"10rem"},body:Qt},e):"contract_end_date"==e?(0,D.jsx)(j.s,{sortable:!0,field:e,header:re[e],style:{width:"10rem"},body:Lt},e):(0,D.jsx)(j.s,{sortable:!0,body:"ad_contract_end_date"==e?Rt:"alloc_contract_date_icon"==e?St:"alloc_end_date"==e?Nt:"employee_number"==e?At:"skills"==e?yt:"projects"==e?bt:"department"==e?gt:"supervisor"==e?jt:"bill_allocs"==e?Ct:"bill_rate"==e?Zt:"pay_rate"==e?Et:"gm_perc"==e?wt:"alloc_end_date"==e?Dt:"vendor_name"==e?kt:"contract_type"==e?It:"start_date"==e?Pt:"skill_type"==e?Tt:"resource_name"==e&&_t,field:e,header:re[e]},e)})),Ot=function(e){W(e)},Yt=(0,a.useState)(new Date),Ht=(0,o.Z)(Yt,2),Vt=Ht[0],zt=(Ht[1],new Date(Vt.getFullYear(),Vt.getMonth(),1),localStorage.getItem("resId"));(0,a.useEffect)((function(){en()}),[be]);var Gt=N()(Vt).format("yyyy-MM-DD"),Kt={fromDate:N()(Gt).startOf("month").format("YYYY-MM-DD"),toDate:N()(Gt).startOf("month").add("month",0).format("YYYY-MM-DD")},qt=(0,a.useState)(Kt),Wt=(0,o.Z)(qt,2),Xt=Wt[0],$t=Wt[1],en=function(e,t){xe([]),u()({method:"post",url:mt+"/revenuemetricsms/metrics/getResourceTable",data:{Src:"project",Typ:"allocations",ObjectId:be,FromDt:Xt.toDate,AllocType:"billable",PrjSource:"-1",contTerms:"28,27,752,606,26,25,1024,612,608,609,610,611,750",engComps:"-1",cslIds:"-1",dpIds:"-1",UserId:zt}}).then((function(e){xe(e.data)}))},tn=(0,a.useState)(!1),nn=(0,o.Z)(tn,2),an=nn[0],ln=nn[1];return(0,a.useEffect)((function(){an?en():ln(!0)}),[Xt.toDate,an]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("p",{className:"font-weight-bold Vendor-sub-heading pb-0",children:[ht,":"]}),(0,D.jsx)("div",{className:"mb-2",children:xt}),(0,D.jsxs)("div",{className:"totalHeadCountTable",children:[(0,D.jsx)(w.Z,{data:B,rows:10,dynamicColumns:Jt,headerData:re,setHeaderData:ie,exportData:ne,fileName:"ResourceVendorManagement"}),d&&(0,D.jsx)(x.Z,{handleClose:function(){h(!1)},anchorEl:d,name:y,LinkId:be,setAllocationTable:Ce,setAnchorEl:h,setGraphKey1:ke}),Ae&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"col-md-12 mt-2",children:(0,D.jsxs)("div",{className:"collapseHeader revForcast",children:[(0,D.jsx)("div",{className:"leftSection",children:(0,D.jsx)("span",{children:y})}),(0,D.jsx)("div",{className:"rightSection",style:{paddingLeft:"865px"},children:(0,D.jsxs)("span",{className:"ml-2 chevronContainer",ref:Ze,children:[(0,D.jsx)(A.euR,{cursor:"pointer",size:"2em",onClick:function(){$t((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"fromDate",N()(Xt.fromDate).subtract("month",1).format("YYYY-MM-DD")))})),$t((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"toDate",N()(Xt.toDate).subtract("month",1).format("YYYY-MM-DD")))}))}}),(0,D.jsx)("span",{children:N()(Xt.toDate).format("MMM-YYYY")}),(0,D.jsx)(A.EnJ,{cursor:"pointer",size:"2em",onClick:function(){$t((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"fromDate",N()(Xt.fromDate).add("month",1).format("YYYY-MM-DD")))})),$t((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"toDate",N()(Xt.toDate).add("month",1).format("YYYY-MM-DD")))}))}})]},De)}),(0,D.jsx)(C.czh,{fontSize:"20px",style:{backgroundColor:"#c6c0c0",cursor:"pointer"},onClick:function(){Ce(!1)}})]})}),(0,D.jsx)(S.Z,{linkId:be,data:ve,expandedCols:[],colExpandState:[]})]}),(0,D.jsx)("div",{className:"col-md-12 my-5",align:"center",children:(0,D.jsxs)("button",{className:"btn btn-primary",onClick:function(){!function(e){var t=[],n=[],a=!0;if(1==function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var a=e[n],l=t[n];for(var s in a)if(a.hasOwnProperty(s)&&a[s]!==l[s])return!1}return!0}(B,Q))Ot("noChange");else{var l=0;console.log(B,"datanotvalid");for(var s={},r=function(e){var r=B[e].vendor_name,i=Q[e].vendor_name,o=B[e].contract_end_date,c=B[e].skill_type,d=B[e].contract_type;if(""!=i&&(""==r||"<<Please Select>>"==d||"<<Please Select>>"==c||""==o)||""==i&&(""!=r||""!=d||""!=c||""!=o))l++,console.log(B[e],"dadasahid"),n.push(B[e]),1==l&&(Ot("notValid"),a=!1);else{var u,m=B[e],h=Q[e];Object.is(m,h)||(s.id=B[e].resource_id,s.ContractEndDate=N()(B[e].contract_end_date,"DD-MMM-YYYY").format("YYYY-MM-DD"),s.VendorId=B[e].vendor_id,null===Object||void 0===Object||null===(u=Object.keys(X))||void 0===u||u.forEach((function(t){X[t].lkup_name==B[e].contract_type&&(s.ContractTypeId=X[t].id)})),s.SkillTypeId="Core"==B[e].skill_type?1310:1311,t.push(s))}},i=1;i<B.length;i++)r(i);Ge(n),a&&(u()({method:"post",url:mt+"/VendorMS/management/updateVendManagementResourceDtls",data:t}).then((function(e){e.data,Ot("save")})).catch((function(e){})),$())}}()},children:[(0,D.jsx)(E.CLo,{}),"Save"]})})]})]})},I=n(83854),P=n(33439);var T=function(e){var t=e.summaryDataNw,n=e.formData,l=e.formattedFromDate,s=e.toDateFromDate,r=e.setRefresh,i=(e.refresh,e.validationM),c=e.alldepartments,d=e.allcountries,h=e.abortController,p=e.setValidation;console.log(h,"abortController");var v=(0,a.useState)([]),x=(0,o.Z)(v,2),g=x[0],j=x[1],b=(0,a.useState)(null),y=(0,o.Z)(b,2),N=y[0],S=y[1],A=(0,a.useState)(null),C=(0,o.Z)(A,2),Z=C[0],E=C[1],w=(0,a.useState)(!1),I=(0,o.Z)(w,2),T=I[0],R=I[1],_=(0,a.useState)([]),B=(0,o.Z)(_,2),M=B[0],F=B[1],U=(0,a.useState)([]),Q=(0,o.Z)(U,2),L=Q[0],J=Q[1],O=(0,a.useState)([]),Y=(0,o.Z)(O,2),H=(Y[0],Y[1]),V=(0,a.useState)(),z=(0,o.Z)(V,2),G=z[0],K=z[1],q=(0,a.useState)([]),W=(0,o.Z)(q,2),X=W[0],$=W[1],ee=(0,a.useState)([{}]),te=(0,o.Z)(ee,2),ne=te[0],ae=te[1],le=(0,a.useState)(!1),se=(0,o.Z)(le,2),re=(se[0],se[1],(0,a.useState)(t)),ie=(0,o.Z)(re,2),oe=ie[0],ce=ie[1],de=(0,a.useState)(!1),ue=(0,o.Z)(de,2),me=ue[0],he=ue[1];console.log(G),console.log(g);var pe=m.N.baseUrl,fe=["name","total_hc","contract","contract_hire","freelancer","fixed_bid","offered","on_exit_path","conv_in_prog","awaiting_conv"];(0,a.useEffect)((function(){xe()}),[oe]),(0,a.useEffect)((function(){}),[j]),(0,a.useEffect)((function(){R(!0),r(!1)}),[g]);var ve=function(e,t){p(""),he(!1),r(!1);var a,i={};i.a=e,i.b=t,a=i,h.current=new AbortController,u()({method:"post",url:pe+"/VendorMS/management/getVendManagementResourceDtls",signal:h.current.signal,data:{buIds:n.buIds,country:n.country,fromDate:l,toDate:s,lkKey:a.a,skillId:a.b,isExport:0,vendorId:-1,page:"vmg",custId:"0",projId:"0",buId:"0"},headers:{"Content-Type":"application/json"}}).then((function(e){e=e.data;for(var t,n=[],a=[],l=0;l<e.length;l++)0==l?n.push(e[l]):a.push(e[l]);F(n),J(a),j(e),H(a),he(!0);var s,r,i="",o=0;s=null===(t=a[0].alloc_contract_date_icon)||void 0===t?void 0:t.split("~")[0],r="",console.log(s,"firstColor");for(var c=0;c<a.length;c++){var d,u=null===(d=a[c].alloc_contract_date_icon)||void 0===d?void 0:d.split("~")[0];if(s!=u&&0==o)r=u,o++;else if(s!=u&&r!=u){i=u;break}}$([s,r,i])})),u().get("http://10.11.12.149:8090/VendorMS/management/getContractTypes").then((function(e){var t=e.data;ae(t),console.log(t,"cidResponse")})).catch((function(e){return console.log(e)})),K(e),console.log(e),console.log(t)},xe=function(){E((function(){return oe.map((function(e,t){var n=[];return fe.forEach((function(a,l){if(0===t){var s=(""+e[a]).includes("^&1")?e[a].replaceAll("^&1"," "):e[a];n.push((0,D.jsx)("th",{style:{textAlign:"center"},title:e[a],children:s},l))}})),(0,D.jsx)("tr",{children:n},t)}))})),S((function(){return oe.slice(1).map((function(e,t){var n=[];return fe.forEach((function(a,l){0===t?n.push((0,D.jsx)("td",{align:l>0?"right":"left",children:(0,D.jsx)("b",{children:(0,D.jsx)("span",{style:{cursor:l>0&&0!=e[a]?"pointer":"",color:0!=l&&0!=e[a]?"#2e88c5":""},onClick:function(){l>0&&0!=e[a]&&ve(a,e.id)},className:"summary",title:e[a],children:e[a]})})})):n.push((0,D.jsx)("td",{align:l>0?"right":"left",children:(0,D.jsx)("span",{style:{cursor:l>0&&0!=e[a]?"pointer":"",color:0!=l&&0!=e[a]?"#2e88c5":""},onClick:function(){l>0&&0!=e[a]&&ve(a,e.id)},title:e[a],children:e[a]})}))})),(0,D.jsx)("tr",{style:{backgroundColor:1===t?"#f5d5a7 ":0===t?"#f4f4f4":"#d8eaeac4"},children:n},t)}))}))};return(0,D.jsxs)("div",{className:"my-3 darkHeader",children:[(0,D.jsxs)("table",{className:"table table-bordered table-striped htmlTable ",children:[(0,D.jsx)("thead",{children:Z}),(0,D.jsx)("tbody",{children:N})]}),(0,D.jsxs)("div",{children:[console.log(L),!0===T&&1==me&&"view"==n.viewBy?(0,D.jsx)(f.Z,{setRefresh:r,refresh:P.Z,tableTitle:G,flag:1,headerData:M,bodyDataa:L,setBodyData:J,colorFilterR:X}):"",!0===T&&1==me&&"Edit"==n.viewBy?(0,D.jsx)(k,{setRefresh:r,refresh:P.Z,tableTitle:G,flag:1,headerData:M,bodyDataa:L,setBodyData:J,colorFilter:X,summaryData:oe,validationMsg:function(e){i(e)},contractIds:ne,searchHandle:function(){console.log("issuesolve"),u()({method:"post",url:pe+"/VendorMS/management/getVendManagementSummary",data:{buIds:c,country:d,fromDate:l,toDate:s,isExport:0},headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data,"response.data"),ce(e.data)}))}}):""]})]})},R=n(78983),_=n(56355),B=n(38262),M=n(72920);var F=function(e){var t,n,d=N()().subtract(7,"days").format("DD-MMM-YYYY"),h=(0,a.useState)(N()(d)._d),f=(0,o.Z)(h,2),v=f[0],x=f[1],g=(0,a.useState)(!1),j=(0,o.Z)(g,2),b=j[0],y=j[1],S=(0,a.useState)(new Date),C=(0,o.Z)(S,2),Z=C[0],E=C[1],w=(0,a.useState)([]),k=(0,o.Z)(w,2),P=k[0],F=k[1],U=(0,a.useState)([]),Q=(0,o.Z)(U,2),L=Q[0],J=Q[1],O=(0,a.useState)([]),Y=(0,o.Z)(O,2),H=Y[0],V=Y[1],z=(0,a.useState)([]),G=(0,o.Z)(z,2),K=G[0],q=G[1],W=(0,a.useState)(!1),X=(0,o.Z)(W,2),$=X[0],ee=X[1],te=(0,a.useState)([]),ne=(0,o.Z)(te,2),ae=ne[0],le=ne[1],se=(0,a.useState)(!1),re=(0,o.Z)(se,2),ie=re[0],oe=re[1],ce=(0,a.useState)(_.UdN),de=(0,o.Z)(ce,2),ue=de[0],me=de[1],he=(0,a.useState)(!1),pe=(0,o.Z)(he,2),fe=pe[0],ve=pe[1],xe=(0,a.useState)(!1),ge=(0,o.Z)(xe,2),je=ge[0],be=ge[1],ye=(0,a.useState)(),Ne=(0,o.Z)(ye,2),Se=Ne[0],Ae=Ne[1],Ce=(0,a.useState)(!1),Ze=(0,o.Z)(Ce,2),Ee=(Ze[0],Ze[1],(0,a.useState)(!1)),we=(0,o.Z)(Ee,2),De=we[0],ke=we[1],Ie=(0,a.useState)([]),Pe=(0,o.Z)(Ie,2),Te=Pe[0],Re=Pe[1],_e=(0,a.useState)([]),Be=(0,o.Z)(_e,2),Me=Be[0],Fe=Be[1],Ue=(0,a.useRef)(null),Qe=localStorage.getItem("resId"),Le=(0,a.useState)([]),Je=(0,o.Z)(Le,2),Oe=Je[0],Ye=Je[1],He=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},Ve=function(e,t){return e.length===P.length||e.length===H.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},ze=(0,a.useState)({buIds:"",country:"",fromDate:"",toDate:"",viewBy:"view"}),Ge=(0,o.Z)(ze,2),Ke=Ge[0],qe=Ge[1],We=m.N.baseUrl;(0,a.useEffect)((function(){var e=[];P.forEach((function(t){e.push(t.value)})),qe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"country",e.toString()))}))}),[P]);var Xe=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:We+"/CostMS/cost/getDepartments"});case 2:t=e.sent,(n=t.data).push({value:0,label:"Non-Revenue Units"}),V(n),q(n.filter((function(e){return 0!=e.value}))),a=[],n.forEach((function(e){0!=e.value&&a.push(e.value)})),qe((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"buIds",a.toString()))}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){Xe(),u().get(We+"/CostMS/cost/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};t.push(n)})),F(t),J(t)})).catch((function(e){return console.log(e)})),u()({method:"GET",url:We+"/CommonMS/master/getMenus?loggedUserId=".concat(Qe)}).then((function(e){e.data.forEach((function(e){"Vendors"===e.display_name&&Ye([e])}))}))}),[]);var $e=N()(v).format("YYYY-MM-DD"),et=N()(Z).format("YYYY-MM-DD");(0,a.useEffect)((function(){}),[ae]),(0,a.useEffect)((function(){K.length===H&&(document.getElementsByClassName("dropdown-heading-value")[0].children[0].innerText="<<All>>")}),[]);var tt=function(e){console.log(e.current,"targetElementRef");var t=document.body,n=document.documentElement;Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);e.current&&e.current.scrollIntoView({top:0,behavior:"instant",block:"start",inline:"nearest"})};console.log(ae,"summaryData");var nt=(0,a.useRef)(null),at=function(){nt.current&&nt.current.abort(),be(!1)};return(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{ref:Ue,children:"noChange"==De?(0,D.jsxs)("div",{className:"statusMsg error",children:[(0,D.jsx)(A.CSE,{}),"No Modifications found to save"]}):"notValid"==De?(0,D.jsxs)("div",{className:"statusMsg error",children:[(0,D.jsx)(A.CSE,{}),"Please select valid values for highlighted fields"]}):"save"==De&&(0,D.jsxs)("div",{className:"statusMsg success",children:[(0,D.jsx)(_.l_A,{})," Proposal saved successfully"]})}),b?(0,D.jsx)("div",{className:"errMsg",children:(0,D.jsx)("span",{children:"Please Select Mandatory Fields"})}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Resource Vendor Management"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:Oe,currentScreenName:["Resource Vendor Management"]}),(0,D.jsxs)("div",{class:"group mb-3 customCard",children:[(0,D.jsxs)("div",{class:"group-content row mb-2",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{})}),(0,D.jsx)("div",{onClick:function(){oe(!ie),me(ie?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:ue})})]}),(0,D.jsx)(R.V9,{visible:!ie,children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"form-group row mt-2",children:[(0,D.jsx)("div",{className:"col-md-3 mb-2 ",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("label",{className:"col-5 ",children:["Business Unit\xa0",(0,D.jsx)("span",{className:"required error-text",children:"*"})," "]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 ",id:"bussinessUnit",children:(0,D.jsx)(c.NU,{id:"buIds",ArrowRenderer:He,options:H,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:K,valueRenderer:Ve,disabled:!1,onChange:function(e){q(e);var t=[];e.forEach((function(e){t.push(e.value)})),qe((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"buIds",t.toString()))}))}})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row ",children:[(0,D.jsxs)("label",{className:"col-5  ",children:["Country \xa0",(0,D.jsx)("span",{className:"required error-text",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{id:"countryids",children:(0,D.jsx)(c.NU,{id:"country",ArrowRenderer:He,options:P,hasSelectAll:!0,value:L,disabled:!1,valueRenderer:Ve,onChange:function(e){J(e);var t=[];e.forEach((function(e){t.push(e.value)})),qe((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"country",t.toString()))}))}})})})]})}),(0,D.jsxs)("div",{className:"col-md-3 mb-2 row",children:[(0,D.jsxs)("label",{className:"col-5 ",children:["From \xa0",(0,D.jsx)("span",{className:"required error-text",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 ",children:(0,D.jsx)(p(),{dateFormat:"dd-MMM-yyyy",selected:v,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return function(e,t){x(e);var n=e,a=new Date;E(n>a?n:a)}(e)},onKeyDown:function(e){e.preventDefault()}})})]}),(0,D.jsxs)("div",{className:"col-md-3 mb-2 row",children:[(0,D.jsxs)("label",{className:"col-5 ",children:["To\xa0",(0,D.jsx)("span",{className:"required error-text",children:"*"})," "]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)(p(),{dateFormat:"dd-MMM-yyyy",minDate:v,selected:Z,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return function(e){E(e)}(e)},onKeyDown:function(e){e.preventDefault()}})})]}),(0,D.jsx)("div",{className:"col-md-3 mb-2 ",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("label",{className:"col-5 ",children:"Action"}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 ",id:"action",children:(0,D.jsxs)("select",{onChange:function(e){qe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"viewBy",e.target.value))}))},children:[(0,D.jsx)("option",{value:"view",children:"View"}),(0,D.jsx)("option",{edit:"edit",children:"Edit"})]})})]})})]}),(0,D.jsx)("div",{className:"col-md-12 mb-2",align:"center",children:(0,D.jsxs)("button",{className:"btn btn-primary",onClick:function(){oe(!ie),me(ie?_.UdN:_.NR5),ke(!0),Ae(Ke);var e=document.getElementById("bussinessUnit").children[0].children[0].classList,a=document.getElementById("countryids").children[0].children[0].classList;if(0===Ke.buIds.length&&!1===e.contains("txtBoxBorderColor")&&e.add("txtBoxBorderColor"),0===Ke.country.length&&!1===a.contains("txtBoxBorderColor")&&a.add("txtBoxBorderColor"),Ke.buIds.length>0&&e.contains("txtBoxBorderColor")&&e.remove("txtBoxBorderColor"),Ke.country.length>0&&a.contains("txtBoxBorderColor")&&a.remove("txtBoxBorderColor"),0!==Ke.buIds.length&&0!==Ke.country.length){y(!1),ve(!1),ee(!1);var l=Ke.buIds.split(",");t=l.length===H.length?"-1":Ke.buIds,Re(t);var s=Ke.country.split(",");n=s.length===P.length?"-1":Ke.country,Fe(n),nt.current=new AbortController,u()({method:"post",url:We+"/VendorMS/management/getVendManagementSummary",signal:nt.current.signal,data:{buIds:t,country:n,fromDate:$e,toDate:et,isExport:0},headers:{"Content-Type":"application/json"}}).then((function(e){le(e.data),ve(!1),setTimeout((function(){ke(!1)}),3e3),ee(!0)}))}else y(!0)},children:[(0,D.jsx)(_.U41,{}),"Search"]})})]})})]}),fe?(0,D.jsx)(I.Z,{handleAbort:at}):"",je?(0,D.jsx)(I.Z,{handleAbort:at}):"",!0===$?(0,D.jsx)(T,{setRefresh:be,refresh:je,formData:Se,summaryDataNw:ae,formattedFromDate:$e,toDateFromDate:et,validationM:function(e){ke(e),tt(Ue)},setValidation:ke,alldepartments:Te,allcountries:Me,abortController:nt}):""]})]})};var U=function(){return(0,D.jsx)("div",{children:(0,D.jsx)(F,{})})},Q=n(80479),L=n(32125);var J=function(e){var t,n,l=(0,a.useState)([]),s=(0,o.Z)(l,2),d=s[0],h=s[1],f=(0,a.useState)([]),v=(0,o.Z)(f,2),x=v[0],g=v[1],j=(0,a.useState)([]),b=(0,o.Z)(j,2),y=b[0],S=b[1],A=(0,a.useState)([]),C=(0,o.Z)(A,2),Z=C[0],E=C[1],w=(0,a.useState)(new Date),k=(0,o.Z)(w,2),P=k[0],T=k[1],M=(0,a.useState)([]),F=(0,o.Z)(M,2),U=F[0],J=F[1],O=(0,a.useState)(!1),Y=(0,o.Z)(O,2),H=Y[0],V=Y[1],z=(0,a.useState)(!1),G=(0,o.Z)(z,2),K=G[0],q=G[1],W=(0,a.useRef)(null),X=(0,a.useRef)([]),$=(0,a.useState)(!1),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],ae=(0,a.useState)(_.UdN),le=(0,o.Z)(ae,2),se=le[0],re=le[1],ie=(0,a.useState)(!1),oe=(0,o.Z)(ie,2),ce=oe[0],de=oe[1],ue=(0,a.useState)(!1),me=(0,o.Z)(ue,2),he=me[0],pe=me[1],fe=localStorage.getItem("resId"),ve=(0,a.useState)([]),xe=(0,o.Z)(ve,2),ge=xe[0],je=xe[1],be=m.N.baseUrl,ye=function(e,t){return e.length===y.length||e.length===d.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},Ne=N()(P).startOf("month").format("yyyy-MM-DD"),Se={vendorList:"",month:Ne,duration:"6",countryIds:"",summary:"vendor"},Ae=(0,a.useState)(Se),Ce=(0,o.Z)(Ae,2),Ze=Ce[0],Ee=Ce[1],we=function(e){var t=e.target,n=t.id,a=t.value;Ee((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n,a))}))};(0,a.useEffect)((function(){var e=[];y.forEach((function(t){e.push(t.value)})),Ee((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"country",e.toString()))}))}),[y]);var De=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})};return(0,a.useEffect)((function(){var e=[];d.forEach((function(t){e.push(t.value)})),Ee((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"vendor",e.toString()))}))}),[d]),(0,a.useEffect)((function(){u().get("http://10.11.12.149:8090/CostMS/cost/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};t.push(n)})),S(t),E(t)})).catch((function(e){return console.log(e)})),u().get("http://10.11.12.149:8090/VendorMS/vendor/getVendorsNameandId").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.name,value:e.id};t.push(n)})),h(t),g(t)})).catch((function(e){return console.log(e)})),u()({method:"GET",url:be+"/CommonMS/master/getMenus?loggedUserId=".concat(fe)}).then((function(e){e.data.forEach((function(e){"Vendors"===e.display_name&&je([e])}))}))}),[]),(0,a.useEffect)((function(){1==he&&q(!1)}),[he]),(0,D.jsxs)("div",{children:[ce?(0,D.jsx)("div",{className:"statusMsg error",children:(0,D.jsx)("span",{children:"Please Select Mandatory Fields"})}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Resource Vendor Performance"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:ge,currentScreenName:["Resource Vendor Performance"]}),(0,D.jsxs)("div",{class:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{onClick:function(){ne(!te),re(te?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:se})})]}),(0,D.jsx)(R.V9,{visible:!te,children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"group-content row mt-2",children:[(0,D.jsx)("div",{className:"col-md-3 mb-2 ",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("label",{className:"col-5 ",children:["Vendors",(0,D.jsx)("span",{className:"required error-text ml-1",children:" *"})," "]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 multiselect",ref:function(e){X.current[0]=e},id:"Vendors",children:(0,D.jsx)(c.NU,{ArrowRenderer:De,id:"Vendors",options:d,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:x,disabled:!1,valueRenderer:ye,onChange:function(e){g(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ee((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"vendorList",t.toString()))}))}})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("label",{className:"col-5",children:"Month "}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 ",children:(0,D.jsx)(p(),{id:"month",selected:N()(P)._d,onChange:function(e){!function(e){T(e)}(e)},dateFormat:"MMM-yyyy",showMonthYearPicker:!0,onKeyDown:function(e){e.preventDefault()}})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("label",{className:"col-md-5",children:"Duration "}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{id:"duration",onChange:function(e){return we(e)},name:"duration",className:"col-md-12 col-sm-12 col-xs-12 ",defaultValue:"6",children:[(0,D.jsx)("option",{value:"1",children:"1"}),(0,D.jsx)("option",{value:"2",children:"2"}),(0,D.jsx)("option",{value:"3",children:"3"}),(0,D.jsx)("option",{value:"4",children:"4"}),(0,D.jsx)("option",{value:"5",children:"5"}),(0,D.jsx)("option",{value:"6",children:"6"})]})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsxs)("label",{className:"col-5 ",children:["Country",(0,D.jsx)("span",{className:"required error-text ml-1",children:" *"})," "]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6 multiselect",ref:function(e){X.current[1]=e},id:"countryids",children:(0,D.jsx)(c.NU,{ArrowRenderer:De,id:"country",options:y,hasSelectAll:!0,value:Z,disabled:!1,valueRenderer:ye,onChange:function(e){E(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ee((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"countryIds",t.toString()))}))},labelledBy:"countries"})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("label",{className:"col-5 ",children:"ViewBy "}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{id:"summary",onChange:function(e){return we(e)},name:"summary",defaultValue:"vendor",children:[(0,D.jsx)("option",{value:"vendor",children:"Vendor"}),(0,D.jsx)("option",{value:"customer",children:"Customer"}),(0,D.jsx)("option",{value:"bu",children:"BU"})]})})]})})]}),(0,D.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 my-2 btn-container center",children:(0,D.jsxs)("button",{className:"btn btn-primary",onClick:function(){pe(!1),Ee((function(e){return(0,i.Z)((0,i.Z)({},e),{},{month:Ne})})),V(!0),(0,L.Z)(X)?de(!0):(t=Z.length===y.length?"-1":Ze.countryIds,n=x.length===d.length?"-1":Ze.vendorList,W.current=new AbortController,u()({method:"post",url:"http://10.11.12.149:8090/VendorMS/performance/getVendorperformance",signal:W.current.signal,data:{vendorList:n,month:Ne,duration:Ze.duration,countryIds:t,summary:Ze.summary},headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;ne(!te),J(t),pe(!0)})).catch((function(e){console.log(e)})),q(!0))},children:[(0,D.jsx)(_.U41,{}),"Search"]})})]})})]}),K?(0,D.jsx)(I.Z,{handleAbort:function(){W.current&&W.current.abort(),q(!1)}}):"",!0===H&&1==he?(0,D.jsx)(Q.Z,{performanceData:U,formData:Ze}):""]})},O=n(37762),Y=n(11683),H=n(13400),V=n(49177),z=n(34911),G=n(56637),K=n(53824),q=n(48462),W=n(59170);function X(e){var t={fte0:(0,D.jsx)("img",{src:z,alt:"(fte_inactive_icon)",style:{height:"12px",float:"left"},title:"Ex-Employee"}),fte1:(0,D.jsx)("img",{src:V,alt:"(fte_active_icon)",style:{height:"12px",float:"left"},title:"Active Employee"}),fte2:(0,D.jsx)("img",{src:G,alt:"(fte_notice_icon)",style:{height:"12px",float:"left"},title:"Employee in notice period"}),subk0:(0,D.jsx)("img",{src:q,alt:"(subk_inactive_icon)",style:{height:"12px",float:"left"},title:"Ex-Contractor"}),subk1:(0,D.jsx)("img",{src:K,alt:"(subk_active_icon)",style:{height:"12px",width:"auto",float:"left"},title:"Active Contractor",size:"1em"}),subk2:(0,D.jsx)("img",{src:W,alt:"(subk_notice_icon)",style:{height:"12px",float:"left"},title:"Contractor in notice period"})},n=e.data,l=e.expandedCols,s=e.colExpandState,c=(0,a.useState)([]),d=(0,o.Z)(c,2),u=d[0],m=d[1],h=(0,a.useState)(null),p=(0,o.Z)(h,2),f=p[0],x=p[1],g=(0,a.useState)({}),j=(0,o.Z)(g,2),b=j[0],y=j[1],N=(0,a.useState)(!1),S=(0,o.Z)(N,2),A=S[0],Z=S[1],E=(0,a.useState)([]),w=(0,o.Z)(E,2),k=(w[0],w[1]),I=function(e){var t=String(e);if(t.includes(".")){var n=Number(t),a=(null!=n&&n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:20})).split(".");return a[0]=a[0].replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","),a[1]=a[1].padEnd(2,"0"),a.join(".")}return null!=t&&parseFloat(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:20}).replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,",")},P=function(e){return"number"===typeof e?Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:20}):e};(0,a.useEffect)((function(){R()}),[n.tableData]);var T=0,R=function(){var e,a,i="";i=1==A&&T>0?"expanded":"";var c,d=n.tableData,u=null;null!==n&&void 0!==n&&null!==(e=n.columns)&&void 0!==e&&e.includes("'")?u=null===n||void 0===n||null===(c=n.columns)||void 0===c?void 0:c.replaceAll("'",""):u=null===n||void 0===n?void 0:n.columns;for(var h=null===(a=u)||void 0===a?void 0:a.split(","),p=[],f=[],v={},g=0;g<(null===h||void 0===h?void 0:h.length);g++){var j=h[g].trim(),b=n.tableData[0];v[j]=b[j]}var N=Object.entries(v).map((function(e){var t=(0,o.Z)(e,2),n=t[0],a=t[1];return"string"===typeof a&&a.includes("^&")?[n,a]:"Total^&1^&1"===n?["total","Total"]:null})).filter((function(e){return null!==e}));k(N),N.map((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];l.includes(n)&&f.push((0,r.Z)({},n,!1))})),y(Object.assign.apply(Object,[{}].concat(f))),N.map((function(e,n){var a=(0,o.Z)(e,2),l=a[0],r=a[1];p.push({accessorKey:l,header:r.split("^&")[0],enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,D.jsxs)("div",{children:[r.split("^&")[0]," ",l==s[2]?(0,D.jsx)("span",{className:"expandIcon ".concat(i),children:(0,D.jsx)(H.Z,{onClick:function(){Z((function(e){return!e}))},children:(0,D.jsx)(C.lU2,{})})}):""]})},Cell:function(e){var n=e.cell,a=(null!==n.getValue()?n.getValue():"").replace(/\^&\d+\^&\d+/g,"");return(0,D.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:"name"===n.column.id&&0===n.row.original.projectId?a:l.includes("_")&&l.split("_")[2]?I(a):l.includes("total")?I(n.row.original.total):P(a),className:l.includes("_wk")?l.split("_wk")[3]%2===0?"even":"odd":l.includes("total")?"total":"",children:"name"==n.column.id&&0==n.row.original.lvl?(0,D.jsx)(D.Fragment,{children:n.getValue()}):"name"==n.column.id&&1==n.row.original.lvl?(0,D.jsx)("div",{className:"rescolor",children:(0,D.jsx)(D.Fragment,{children:n.getValue()})}):"name"==n.column.id&&2==n.row.original.lvl?(0,D.jsxs)("div",{className:"childRow",children:[t[n.row.original.empStatus],(0,D.jsx)(D.Fragment,{children:n.getValue()})]}):l.includes("_")&&l.split("_")[2]&&0===n.row.original.projectId?(0,D.jsx)(D.Fragment,{children:P(I(n.getValue()))}):l.includes("total")&&0===n.row.original.projectId?(0,D.jsxs)(D.Fragment,{children:[" ",I(n.row.original.total)]}):n.row.original.emp_cadre&&2===n.row.original.lvl&&0===n.row.original.projectId?(0,D.jsx)("div",{children:(0,D.jsx)(D.Fragment,{children:n.getValue()})}):"emp_cadre"==n.column.id&&0===n.row.original.projectId?(0,D.jsx)("div",{className:"cadreColor",children:(0,D.jsx)(D.Fragment,{children:n.getValue()})}):"supervisor"==n.column.id&&0==n.row.original.projectId?(0,D.jsx)("div",{className:"supervisorColor",children:(0,D.jsx)(D.Fragment,{children:n.getValue()})}):(0,D.jsx)("div",{className:"gChildRow",children:a})})}})})),x(p);var S=[];null===d||void 0===d||d.map((function(e,t){return t>0&&-1!=e.id?S.push(e):""})),m(M(S,{children:"subRows"}))};(0,a.useEffect)((function(){A?_():B()}),[A]);var _=function(){T++,R(),y({})},B=function(){R()},M=function(e,t){t=(0,i.Z)({id:"uniqueId",parentId:"parentId",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId];n[a]=(0,i.Z)((0,i.Z)((0,r.Z)({},l,[]),e),n[a]),n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a};return console.log(u),(0,D.jsx)("div",{className:"materialReactExpandableTable nbWorkTable darkHeader toHead",children:u.length?(0,D.jsx)(Y.ZP,{columns:f,data:u,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,i.Z)({},b),enablePinning:!0},state:{columnVisibility:(0,i.Z)({},b)},defaultColumn:{minSize:40,maxSize:1e3,size:40},enableStickyHeader:!0,muiTableContainerProps:{sx:{maxHeight:"50vh",width:"auto",maxWidth:"fit-content"}},muiTableBodyProps:{sx:{"&":{},"& td":{borderRight:"1px solid #ccc",height:"22px",fontSize:"11px",paddingTop:"0px",paddingBottom:"0px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",fontSize:"13px",padding:"0px 8px",fontWeight:"bold"}}}}):null})}var $=n(17425),ee=n(25415),te=n.n(ee),ne=n(39126);var ae=function(){var e=m.N.baseUrl,t=(0,a.useState)(!1),n=(0,o.Z)(t,2),r=n[0],i=n[1],d=(0,a.useState)(_.UdN),h=(0,o.Z)(d,2),p=h[0],f=h[1],v=(0,a.useState)(!1),x=(0,o.Z)(v,2),g=x[0],j=x[1],b=(0,a.useState)(!1),y=(0,o.Z)(b,2),S=(y[0],y[1],(0,a.useState)([])),C=(0,o.Z)(S,2),Z=C[0],E=C[1],w=(0,a.useState)([]),k=(0,o.Z)(w,2),P=k[0],T=k[1],F=(0,a.useState)([]),U=(0,o.Z)(F,2),Q=U[0],J=U[1],Y=(0,a.useState)([]),H=(0,o.Z)(Y,2),V=H[0],z=H[1],G=(0,a.useState)("6,5,3,8,7,1,2,0"),K=(0,o.Z)(G,2),q=K[0],W=K[1],ee=(0,a.useState)("188,189,191,804,805,1031"),ae=(0,o.Z)(ee,2),le=ae[0],se=ae[1],re=(0,a.useState)("170,211,123,82,168,207,212,18,213,49,149,208,243"),ie=(0,o.Z)(re,2),oe=ie[0],ce=ie[1],de=function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")},ue=(0,a.useState)([]),me=(0,o.Z)(ue,2),he=(me[0],me[1]),pe=(0,a.useState)([]),fe=(0,o.Z)(pe,2),ve=(fe[0],fe[1]),xe=(0,a.useState)([]),ge=(0,o.Z)(xe,2),je=ge[0],be=ge[1],ye=(0,a.useState)([]),Ne=(0,o.Z)(ye,2),Se=(Ne[0],Ne[1]),Ae=(0,a.useState)([]),Ce=(0,o.Z)(Ae,2),Ze=(Ce[0],Ce[1],(0,a.useState)([])),Ee=(0,o.Z)(Ze,2),we=(Ee[0],Ee[1]),De=(0,a.useState)([]),ke=(0,o.Z)(De,2),Ie=ke[0],Pe=ke[1],Te=(0,a.useState)("188,189,191,804,805,1031"),Re=(0,o.Z)(Te,2),_e=(Re[0],Re[1],(0,a.useState)(!1)),Be=(0,o.Z)(_e,2),Me=Be[0],Fe=Be[1],Ue=(0,a.useState)(!1),Qe=(0,o.Z)(Ue,2),Le=Qe[0],Je=Qe[1],Oe=(0,a.useRef)([]),Ye=localStorage.getItem("resId"),He=Ie||[],Ve=[],ze=/^(\d{2}-[A-Za-z]{3}-\d{2}\^&\d\^&\d)$/;function Ge(e){var t=e.split("_"),n=t[0],a=t[1],l=t[2];return"".concat(n,"-").concat(a,"-").concat(l)}He.forEach((function(e){for(var t in e)if(t.endsWith("_wk")&&parseFloat(e[t])>0&&"Resource"!==e.resource){var n=e.resource,a=t.replace(/_wk$/,""),l=e[t];Ve.push({department:e.department,filteredResources:n,project:e.project,name:e.name,emp_cadre:e.emp_cadre,supervisor:e.supervisor,filteredDates:Ge(a),filteredHours:l})}}));var Ke=[];He.forEach((function(e){if("0"!==e.id)for(var t in e)t.endsWith("_wk")&&parseFloat(e[t])>0&&!ze.test(e[t])&&Ke.push(e[t])}));var qe=[];He.forEach((function(e){for(var t in e)if(t.endsWith("_wk")&&parseFloat(e[t])>0){var n=e.resource;n&&"Resource"!==n&&qe.push(n)}}));var We=(0,a.useState)([]),Xe=(0,o.Z)(We,2),$e=Xe[0],et=Xe[1];(0,a.useEffect)((function(){tt()}),[]);var tt=function(){u()({method:"GET",url:e+"/CommonMS/master/getMenus?loggedUserId=".concat(Ye)}).then((function(e){var t=e.data,n=e.data[3].subMenus[3].url_path.replace(/::/g,"/");nt(n),t.forEach((function(e){"Utilisation Metrics"===e.display_name&&et([e])}))}))},nt=function(t){u()({method:"get",url:e+"/CommonMS/security/authorize?url=".concat(t,"&userId=").concat(Ye)}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){}))},at=[{value:188,label:"Non Billable Shadow"},{value:189,label:"Non Billable Enablement"},{value:191,label:"Non Billable Utilized"},{value:804,label:"Billable Client Prep"},{value:805,label:"Non Billable Non Utilized"},{value:1031,label:"Non-billable Innov"}],lt=(0,a.useState)(at),st=(0,o.Z)(lt,2),rt=st[0],it=st[1],ot=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(){var n,a,s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()({url:e+"/CostMS/cost/getDepartments"});case 2:n=t.sent,(a=n.data).push({value:999,label:"Non-Revenue Units"}),T(a),E(a.filter((function(e){return 999!=e.value}))),s=[],a.forEach((function(e){999!=e.value&&s.push(e.value)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ct=(0,a.useState)([]),dt=(0,o.Z)(ct,2),ut=dt[0],mt=dt[1],ht=N()(new Date).format("yyyy-MM-DD"),pt=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})};(0,a.useEffect)((function(){u().get(e+"/CostMS/cost/getCountries").then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.country_name}}));be(t),Se(t)})).catch((function(e){})),u().get(e+"/CostMS/cost/getDepartments").then((function(e){var t=e.data.map((function(e){return{value:e.value,label:e.label}}));he(t),ve(t)})).catch((function(e){})),ot(),u().get(e+"/dashboardsms/Dashboard/getCountry").then((function(e){var t=e.data;t.length>0&&t.forEach((function(e){var t={label:e.country_name,value:e.id};je.push(t)})),z(je),J(je)})).catch((function(e){return console.log(e)}))}),[]);var ft=(0,a.useRef)(null);return(0,D.jsxs)("div",{children:[Me?(0,D.jsxs)("div",{className:"statusMsg error",children:[" ",(0,D.jsx)(A.CSE,{})," Please select valid values for highlighted fields"]}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"NB Work - 4 Prev. Weeks"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:$e,currentScreenName:["NB Work - 4 Prev. Weeks"]}),(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{pdfname:"NonBillableWorkoperational.pdf",name:"Non Billable Work Help"})}),(0,D.jsx)("div",{onClick:function(){i(!r),f(r?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:p})})]}),(0,D.jsx)(R.V9,{visible:!r,children:(0,D.jsxs)("div",{className:"group-content row",children:[(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"businessunit",children:["Business Unit",(0,D.jsx)("span",{className:" error-text ml-1",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){Oe.current[0]=e},children:(0,D.jsx)(c.NU,{id:"buId",ArrowRenderer:pt,options:P,hasSelectAll:!0,value:Z,valueRenderer:de,disabled:!1,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,onChange:function(e){E(e);var t=[];e.forEach((function(e){t.push(e.value)})),ce(t.toString())}})})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"country",children:["Country ",(0,D.jsx)("span",{className:" error-text ml-1",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){Oe.current[1]=e},children:(0,D.jsx)(c.NU,{id:"countryId",ArrowRenderer:pt,valueRenderer:de,options:V,hasSelectAll:!0,value:Q,disabled:!1,onChange:function(e){J(e);var t=[];e.forEach((function(e){t.push(e.value)})),W(t.toString())}})})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"alloctype",children:["Alloc. Type ",(0,D.jsx)("span",{className:" error-text ml-1",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){Oe.current[2]=e},children:(0,D.jsx)(c.NU,{id:"BU",options:at,valueRenderer:de,ArrowRenderer:pt,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:rt,disabled:!1,onChange:function(e){it(e);var t=[];e.forEach((function(e){t.push(e.value)})),se(t.toString())}})})})]})}),(0,D.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 my-2 btn-container center",children:(0,D.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){!function(){var t=(0,L.Z)(Oe);if(t)return Fe(!0),void setTimeout((function(){Fe(!1)}),3e3);!t&&i(!r),f(r?_.UdN:_.NR5),j(!0),u()({method:"post",url:e+"/timeandexpensesms/getNonBillable/getNonBillableWorks?buIds=".concat(oe,"&country=").concat(q,"&allocTypeIds=").concat(le,"&curDt=").concat(ht,"&isExport=0&userId=").concat(Ye)}).then((function(e){var t,n=e.data.tableData,a=null===(t=e.data.columns)||void 0===t?void 0:t.replaceAll("'","").split(",");Pe(n),mt(e.data),Je(!0),we(a),Fe(!1),j(!1)}))}(),Je(!1)},children:[(0,D.jsx)(_.U41,{})," Search"]})})]})}),g?(0,D.jsx)(I.Z,{handleAbort:function(){ft.current&&ft.current.abort(),j(!1)}}):""]}),(0,D.jsx)("div",{children:(0,D.jsx)("div",{children:Le?(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{align:"right",children:(0,D.jsxs)("label",{style:{color:"#9d7c42",fontStyle:"italic"},children:[" ",(0,D.jsx)(ne.Hfo,{style:{marginTop:"-5px"}}),(0,D.jsx)("i",{children:"All numbers are in hours"})]})}),(0,D.jsxs)("div",{className:"mb-2",align:"right",children:[(0,D.jsx)($.WlY,{size:"1.5em",title:"Export to Excel",style:{color:"green",float:"right"},cursor:"pointer",onClick:function(){var e={department:"Department",filteredResources:"Resource",project:"Project",name:"Project Code",emp_cadre:"Cadre",supervisor:"Supervisor",filteredDates:"Week",filteredHours:"Hours"},t=["department","filteredResources","project","name","emp_cadre","supervisor","filteredDates","filteredHours"],n=(Object.keys(e),Ve.filter((function(e){return""!==e.filteredResources&&""!==e.project&&""!==e.supervisor&&parseFloat(e.filteredHours)>0})).map((function(e){return t.map((function(t){if("name"===t){var n=e.name.match(/\((P[^)]+)\)/),a=e.name;return n?n[1]:a}return"filteredDates"===t?e.filteredDates:"filteredHours"===t?e.filteredHours:"filteredResources"===t?e.filteredResources:e[t]}))}))),a=new(te().Workbook),l=a.addWorksheet("NonBillableWork"),s=t.map((function(t){return e[t]}));l.addRow(s);var r,i=(0,O.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;l.addRow(o)}}catch(c){i.e(c)}finally{i.f()}[1].forEach((function(e){l.getRow(e).font={bold:!0}})),a.xlsx.writeBuffer().then((function(e){saveAs(new Blob([e]),"NonBillableWork.xlsx")}))}}),(0,D.jsx)("br",{})]}),(0,D.jsx)("div",{className:"col-md-12 EngagementDetails ",style:{marginTop:"-20px"},children:(0,D.jsx)(X,{data:ut,expandedCols:["emp_cadre","supervisor"],colExpandState:["0","0","name"]})})]}):""})})]})},le=(n(5636),n(87890)),se=n(64802),re=n(34045),ie=n(40071),oe=n(46175),ce=(n(96048),n(72572),n(57689)),de=n(11087),ue=n(25103),me=n(41310),he=n(37145),pe=n(29718),fe=n.n(pe),ve=n(22804);function xe(e){for(var t,n=/(\d+)\^\^([^,]+)/g,a=[];null!==(t=n.exec(e));){var l=t[1],s=t[2].trim();a.push({id:l,value:s})}return a}var ge=function(){var e,t,n,l,s=(0,a.useRef)(null),d=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},h=(0,a.useState)([]),p=(0,o.Z)(h,2),f=(p[0],p[1]),x=(0,a.useState)([]),g=(0,o.Z)(x,2),b=g[0],y=g[1],N=(0,a.useState)([]),S=(0,o.Z)(N,2),A=S[0],Z=S[1],E=(0,a.useState)([]),w=(0,o.Z)(E,2),k=w[0],P=w[1],T=(0,a.useState)(!1),F=(0,o.Z)(T,2),U=F[0],Q=F[1],J=(0,a.useState)(null),O=(0,o.Z)(J,2),Y=O[0],H=O[1],V=(0,a.useState)(null),z=(0,o.Z)(V,2),G=z[0],K=z[1],q=(0,a.useState)(!0),W=(0,o.Z)(q,2),X=W[0],$=W[1],ee=function(e,t){$(!t)},te=(0,D.jsxs)(oe.E,{children:[(0,D.jsxs)(me.X,{children:[(0,D.jsx)(j.s,{header:(0,D.jsx)("div",{children:"Project Name"}),rowSpan:2,sortable:!0,field:"project_name",sortAscending:X,onSort:ee}),(0,D.jsx)(j.s,{header:"Primary Manager",rowSpan:2,sortable:!0,field:"prj_pm_name",sortAscending:X,onSort:ee}),(0,D.jsx)(j.s,{header:"Notify PM",rowSpan:2,sortable:!0,field:"notify_pms",sortAscending:X,onSort:ee}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:"Comp(%)"}),(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"Project Completed (%) = Actual Hours divided by Planned Hours",field:"prj_compltn",sortAscending:X,onSort:ee})]}),sortable:!0,rowSpan:2}),(0,D.jsx)(j.s,{header:"Terms",rowSpan:2,sortable:!0,field:"ct_term",sortAscending:X,onSort:ee}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["Count",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"        This the Resource Count and the data is populated based on the resources allocated for that particular day\n",field:"res_count",sortAscending:X,onSort:ee})]}),rowSpan:2,sortable:!0}),(0,D.jsx)(j.s,{header:(0,D.jsx)("div",{children:"Efforts(Hrs) "}),colSpan:3}),(0,D.jsx)(j.s,{header:(0,D.jsx)("div",{children:"GM(%)"}),colSpan:3}),(0,D.jsx)(j.s,{header:(0,D.jsx)("div",{children:"Risks"}),colSpan:4}),(0,D.jsx)(j.s,{header:"Audit Details",colSpan:2}),(0,D.jsx)(j.s,{header:"CSAT Details",colSpan:2})]}),(0,D.jsxs)(me.X,{children:[(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["Plan",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"This the Resource Count and the data is populated based on the resources allocated for that particular day\n"})]}),sortable:!0,field:"pln_efforts",body:function(e){var t=e.count>100?"pink":"green";return(0,D.jsx)("div",{style:{backgroundColor:t},children:e.pln_efforts})}}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["EAC",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:" Planned Hours+ Actual Hours- Planned hours Till date"})]}),field:"eac_efforts",sortable:!0}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["Var(%)",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"[(Planned GM \u2013 EAC GM)/Planned GM] *100 "})]}),sortable:!0,field:"var_efforts"}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["Plan",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"(EAC Revenue \u2013 EAC RDC- ODC)/EAC Revenue] *100"})]}),field:"pln_gm",sortable:!0}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["EAC",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:" Planned Hours+ Actual Hours- Planned hours Till date"})]}),sortable:!0,field:"eac_gm"}),(0,D.jsx)(j.s,{header:(0,D.jsxs)(D.Fragment,{children:["Var(%)",(0,D.jsx)(_.DAO,{style:{fontSize:"10px"},className:"tableInfoIcon",title:"[(Planned GM \u2013 EAC GM)/Planned GM] *100 "})]}),sortable:!0,field:"var_gm"}),(0,D.jsx)(j.s,{field:"critical_risks",header:"Crt",sortable:!0}),(0,D.jsx)(j.s,{field:"high_risks",header:"High",sortable:!0}),(0,D.jsx)(j.s,{field:"med_risks",header:"Med",sortable:!0}),(0,D.jsx)(j.s,{field:"low_risks",header:"Low",sortable:!0}),(0,D.jsx)(j.s,{field:"audit_date",header:"Month",sortable:!0}),(0,D.jsx)(j.s,{field:"audit_result",header:"Res",sortable:!0}),(0,D.jsx)(j.s,{field:"csat_date",header:"Month",sortable:!0}),(0,D.jsx)(j.s,{field:"csat_result",header:"Score",sortable:!0})]})]}),ne={contains:{value:null,matchMode:le.a6.CONTAINS}},ae=(0,a.useState)({global:ne.contains}),pe=(0,o.Z)(ae,2),fe=(pe[0],pe[1]),ge=(0,a.useState)([]),je=(0,o.Z)(ge,2),be=je[0],ye=je[1],Ne=(0,a.useState)([]),Se=(0,o.Z)(Ne,2),Ae=Se[0],Ce=Se[1],Ze=(0,a.useState)([]),Ee=(0,o.Z)(Ze,2),we=(Ee[0],Ee[1]);(0,a.useEffect)((function(){be.length>0&&(Ce(be[0]),we(be.splice(1)))}),[be]),(0,a.useEffect)((function(){fe({global:ne.contains})}),[Ae]);var De=(0,a.useState)({global:{value:null,matchMode:le.a6.CONTAINS},name:{value:null,matchMode:le.a6.STARTS_WITH},"country.name":{value:null,matchMode:le.a6.STARTS_WITH},representative:{value:null,matchMode:le.a6.IN},status:{value:null,matchMode:le.a6.EQUALS},verified:{value:null,matchMode:le.a6.EQUALS}}),ke=(0,o.Z)(De,2),Ie=ke[0],Pe=ke[1],Te=(0,a.useState)(""),Re=(0,o.Z)(Te,2),_e=Re[0],Be=Re[1],Me=function(e){var t=e.target.value,n=(0,i.Z)({},Ie);n.global.value=t,Pe(n),Be(t)},Fe=function(e){return null==e?"":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},Ue=function(){var e=zn.map((function(e){return{ProjectName:e.project_name,PrimaryManager:e.prj_pm_name,Comp:e.prj_compltn+"%",Terms:e.ct_term,Count:e.res_count,Plans:Fe(e.pln_efforts),EACs:Fe(e.eac_efforts),Vars:e.var_efforts+"%",Plan:Fe(e.pln_gm),Eac:Fe(e.eac_gm),Var:e.var_gm+"%",Critical:e.critical_risks,High:e.high_risks,Meduim:e.med_risks,Low:e.low_risks,AuditDate:e.audit_date,AuditResult:e.audit_result,CSATDate:e.csat_date,CSATResult:e.csat_result}})),t={Sheets:{tableData:re.utils.json_to_sheet(e)},SheetNames:["tableData"]},n=re.write(t,{bookType:"xlsx",type:"array"});Qe(n,"Project Health")},Qe=function(e,t){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,se.saveAs)(n,t+".xlsx")},Le=(0,D.jsxs)("div",{className:"col-md-12 flex justify-content-end",children:[(0,D.jsxs)("span",{className:"p-input-icon-left",children:[(0,D.jsx)("i",{className:"pi pi-search"}),(0,D.jsx)(ue.o,{value:_e,onChange:Me,placeholder:"Keyword Search"})]}),(0,D.jsx)("span",{children:(0,D.jsx)("i",{style:{fontSize:"20px",marginTop:"5px",marginLeft:"10px"},class:"pi pi-file-excel exportBtn",onClick:Ue,"data-pr-tooltip":"XLS",title:"Export to Excel"})})]}),Je=m.N.baseUrl,Oe=localStorage.getItem("resId"),Ye=(0,a.useState)([]),He=(0,o.Z)(Ye,2),Ve=He[0],ze=He[1],Ge=(0,a.useState)([]),Ke=(0,o.Z)(Ge,2),qe=Ke[0],We=Ke[1],Xe=(0,a.useState)(""),$e=(0,o.Z)(Xe,2),et=($e[0],$e[1]),tt=(0,a.useState)([]),nt=(0,o.Z)(tt,2),at=(nt[0],nt[1],(0,a.useState)([])),lt=(0,o.Z)(at,2),st=lt[0],rt=(lt[1],(0,a.useState)(!1)),it=(0,o.Z)(rt,2),ot=it[0],ct=it[1],dt=(0,a.useState)(),ut=(0,o.Z)(dt,2),mt=(ut[0],ut[1],(0,a.useState)([])),ht=(0,o.Z)(mt,2),pt=ht[0],ft=ht[1],vt=(0,a.useState)([]),xt=(0,o.Z)(vt,2),gt=xt[0],jt=xt[1],bt=gt,yt=(0,a.useState)(!1),Nt=(0,o.Z)(yt,2),St=(Nt[0],Nt[1]),At=(0,a.useState)("28,26,25"),Ct=(0,o.Z)(At,2),Zt=(Ct[0],Ct[1]),Et=bt.map((function(e){return e.value})).join(","),wt=(0,a.useState)(""),Dt=(0,o.Z)(wt,2),kt=(Dt[0],Dt[1]),It=(0,a.useState)(_.UdN),Pt=(0,o.Z)(It,2),Tt=Pt[0],Rt=Pt[1],_t=(0,a.useState)(!1),Bt=(0,o.Z)(_t,2),Mt=Bt[0],Ft=Bt[1],Ut=(0,a.useState)(484),Qt=(0,o.Z)(Ut,2),Lt=(Qt[0],Qt[1]),Jt=(0,a.useState)(!1),Ot=(0,o.Z)(Jt,2),Yt=(Ot[0],Ot[1]),Ht=(0,a.useState)(!1),Vt=(0,o.Z)(Ht,2),zt=Vt[0],Gt=Vt[1],Kt=(0,a.useState)([]),qt=(0,o.Z)(Kt,2),Wt=(qt[0],qt[1],(0,a.useState)([])),Xt=(0,o.Z)(Wt,2),$t=(Xt[0],Xt[1]),en=[{value:"1145",label:"Projects With Allocations"},{value:"1146",label:"Projects Without Allocations"},{value:"1147",label:"Complete(Last 90 Days)"}],tn=(0,a.useState)([{value:"1145",label:"Projects With Allocations"},{value:"1146",label:"Projects Without Allocations"}]),nn=(0,o.Z)(tn,2),an=nn[0],ln=nn[1],sn=[{label:"DACS",value:1},{label:"IM&A",value:3},{label:"QA&TA",value:4},{label:"SSG",value:5},{label:"Prolifics Products",value:6}],rn=(0,a.useState)([{label:"DACS",value:1},{label:"IM&A",value:3},{label:"QA&TA",value:4},{label:"SSG",value:5},{label:"Prolifics Products",value:6}]),on=(0,o.Z)(rn,2),cn=on[0],dn=on[1],un=(0,a.useState)(""),mn=(0,o.Z)(un,2),hn=(mn[0],mn[1],[{value:"28",label:"Billable: Billable: Managed Services (BMS)"},{value:"27",label:"Billable: Not to Exceed (BNE)"},{value:"752",label:"Billable: Opportunity (BO)"},{value:"606",label:"Billable: Staff Aug (BSA)"},{value:"26",label:"Billable: Time and Materials (BTM)"},{value:"25",label:"Billable: Fixed Price (FP)"},{value:"1024",label:"Non-billable: Innovation (NB-I)"},{value:"612",label:"Non-billable: Client Prep (NB-CP)"},{value:"608",label:"Non-billable: Enablement (NB-E)"},{value:"609",label:"Non-billable: Non-Utilized (NB-NU)"},{value:"610",label:"Non-billable: Shadow (NB-S)"},{value:"611",label:"Non-billable: Utilized (NB-U)"},{value:"750",label:"Software Resale (SR)"}]),pn=(0,a.useState)([{value:"28",label:"Billable: Billable: Managed Services (BMS)"},{value:"26",label:"Billable: Time and Materials (BTM)"},{value:"25",label:"Billable: Fixed Price (FP)"}]),fn=(0,o.Z)(pn,2),vn=fn[0],xn=fn[1],gn=(0,a.useState)("1145,1146"),jn=(0,o.Z)(gn,2),bn=(jn[0],jn[1]),yn=(0,a.useState)("6,5,3,8,7,1,2,0"),Nn=(0,o.Z)(yn,2),Sn=(Nn[0],Nn[1]),An=(0,a.useState)([]),Cn=(0,o.Z)(An,2),Zn=Cn[0],En=Cn[1],wn=(0,a.useState)([]),Dn=(0,o.Z)(wn,2),kn=(Dn[0],Dn[1],(0,a.useState)([])),In=(0,o.Z)(kn,2),Pn=In[0],Tn=In[1],Rn=(0,a.useState)([]),_n=(0,o.Z)(Rn,2),Bn=(_n[0],_n[1]),Mn=(0,a.useState)("128283684,116612093,123894900,63975211,1551287,94389335,93991408,1551294,94455985,129937850,76951255,112914302,54142249,1552214,132397598,109428419,94455988,1552593,36504344,1551362,1551376,26087285,116648754,94854626,114461301,97387326,1551399,1551909,94854623,24192899,1551980,1551910,128598943,128467119,94389332,1551929,59706234,82291358,1551944,2853559,1551521,1551952,125931702,63266772,1552011,94854630,112674610,1552012,130225404,1552737,55697033,111974038,118769156,132397596,4511021,3667922,127640293,96188256,111034788,1552059,94389337,1552068,90339052,85615658,97121507,85546349,129404696,2540692,13177220,117718253,97386586,94455984,1552145,1551986,1552149,1552150,94720314,1551965,2838049,85945151,3284412,97387329,92460160,128226785,125322705,63162798,67129169,41019114,1551753,76951256,95324519,1551877,29304173,1552226,1552189,94455982,94921283,76751379,1552198,38904085,119173217,21664192,1552217,1842057,36244913,96055886,1552240,1552252,76751371,112674609,1956839,97387333,52636336,42255432,120584753,1552276,132397597,41317099,69963531,1552292,1552293,94854625,106471491,1552849,96188257,97926363,1552295,94455981,72223410,24275141,98815571,87271863,2853561,1552344,1552345,117682329,118004584,1552363,94389333,3039808,1552359,132397594,94854627,97653997,98214365,128264227,58638638,112573879,90138245,90138244,90138246,90138243,90138241,97386610,128333765,90339053,1552400,1552375,92659540,29433193,80685749,106003070,114529861,130225403,128699085,1760934,43889231,97121510,1552430,111602229,94389334,124522210,41317098,52300271,121428211,98815570,1552454,99417583,132397595,1552486,1552690,1552313,56952600,1552475,132066226,130723112,97387330,97320365,119409379,123522147,67530124,112275294,97121508,1552531,1552539,1552541,14791169,91467597,1552545,26377379,130723113,122385399,76951259,1552564,2623413"),Fn=(0,o.Z)(Mn,2),Un=(Fn[0],Fn[1]),Qn=(0,a.useState)("128283684,123894900,63975211,94389335,1551294,76951255,112914302,1552214,132397598,109428419,94455988,1552593,36504344,1551362,116648754,114461301,97387326,1551399,24192899,1551980,1551910,128598943,94389332,1551929,82291358,1551944,2853559,1551521,1551952,125931702,63266772,1552011,94854630,1552012,1552737,111974038,132397596,4511021,3667922,127640293,96188256,1552059,90339052,85615658,85546349,129404696,13177220,1552149,1552150,2838049,85945151,3284412,97387329,125322705,63162798,67129169,41019114,76951256,1551877,29304173,1552189,94921283,76751379,1552198,1842057,36244913,96055886,1552240,1552252,76751371,97387333,120584753,1552276,132397597,41317099,1552293,106471491,96188257,97926363,94455981,24275141,98815571,87271863,1552363,94389333,1552359,132397594,98214365,128264227,58638638,112573879,90138245,90138246,90138241,97386610,90339053,1552375,92659540,29433193,80685749,106003070,114529861,130225403,128699085,43889231,1552430,111602229,94389334,41317098,52300271,121428211,98815570,1552454,99417583,132397595,1552690,56952600,130723112,97320365,1552539,1552541,14791169,91467597,1552545,26377379,2623413"),Ln=(0,o.Z)(Qn,2),Jn=(Ln[0],Ln[1],(0,a.useState)([])),On=(0,o.Z)(Jn,2),Yn=(On[0],On[1]),Hn=(0,a.useState)([{}]),Vn=(0,o.Z)(Hn,2),zn=Vn[0],Gn=Vn[1],Kn=(null===(e=zn[0])||void 0===e||null===(t=e.notify_pms)||void 0===t||t.split("^^"),(0,a.useRef)([]));(0,a.useEffect)((function(){ye(JSON.parse(JSON.stringify(zn)))}),[zn]);var qn=(0,a.useState)([]),Wn=(0,o.Z)(qn,2),Xn=Wn[0],$n=Wn[1],ea=(0,a.useState)([]),ta=(0,o.Z)(ea,2),na=ta[0],aa=ta[1],la=(0,a.useState)(!1),sa=(0,o.Z)(la,2),ra=sa[0],ia=sa[1],oa=(0,a.useState)("18,82,123,207,208,211,212,243"),ca=(0,o.Z)(oa,2),da=(ca[0],ca[1],(0,a.useState)("18,82,123,207,208,211,212,243")),ua=(0,o.Z)(da,2),ma=(ua[0],ua[1],(0,a.useState)([])),ha=(0,o.Z)(ma,2),pa=ha[0],fa=(ha[1],pa.map((function(e){return e.value})).join(","),(0,ce.TH)()),va=new URLSearchParams(fa.search).get("id"),xa=(0,a.useState)(!1),ga=(0,o.Z)(xa,2),ja=ga[0],ba=ga[1],ya=(0,a.useState)([]),Na=(0,o.Z)(ya,2),Sa=Na[0],Aa=Na[1],Ca=(0,a.useState)([]),Za=(0,o.Z)(Ca,2),Ea=Za[0],wa=Za[1];(0,a.useEffect)((function(){Da()}),[]);var Da=function(){u().get(Je+"/CommonMS/master/getMenus?loggedUserId=".concat(Oe)).then((function(e){var t=e.data.map((function(e){return e.subMenus&&(e.subMenus=e.subMenus.filter((function(e){return"Monthly Revenue Trend"!==e.display_name&&"Revenue & Margin Variance"!==e.display_name&&"Rev. Projections"!==e.display_name&&"Project Timesheet (Deprecated)"!==e.display_name&&"Financial Plan & Review"!==e.display_name}))),e}));t.forEach((function(e){e.display_name===La&&Ma([e])}));var n=t.find((function(e){return"Delivery"===e.display_name})).subMenus.find((function(e){return"Project Health"===e.display_name})),a=n?n.userRoles.includes("690")?690:n.userRoles.includes("641")?641:n.userRoles.includes("908")?908:n.userRoles.includes("46")?46:n.userRoles.includes("126")?126:n.userRoles.includes("911")?911:n.userRoles.includes("686")?686:n.userRoles.includes("909")?909:n.userRoles.includes("307")&&307:null;wa(a)}))};(0,a.useEffect)((function(){u()({method:"get",url:Je+"/dashboardsms/savedsearch/FiltersData?saved_search_id=".concat(null===va?0:va)}).then((function(e){var t=e.data;Aa(t)}))}),[va]);var ka=(0,a.useState)({}),Ia=(0,o.Z)(ka,2),Pa=Ia[0],Ta=Ia[1],Ra=(0,a.useState)([]),_a=(0,o.Z)(Ra,2),Ba=_a[0],Ma=_a[1],Fa=(0,a.useState)([]),Ua=(0,o.Z)(Fa,2),Qa=Ua[0],La=(Ua[1],"Delivery");(0,a.useEffect)((function(){Da()}),[]),(0,a.useEffect)((function(){}),[null===(n=qe[0])||void 0===n?void 0:n.value]),(0,a.useEffect)((function(){Ta((function(){return null!=va?{practiceId:Sa.practiceId,buId:Sa.buId,customer:null===Sa||void 0===Sa?void 0:Sa.customer,BU:Sa.BU,projectStatus:Sa.projectStatus,countryId:Sa.countryId,auditType:+Sa.auditType}:{practiceId:"1,3,4,5,6",buId:"170,211,123,82,168,207,212,18,213,49,149,208,243",customer:"128283684,116612093,123894900,63975211,1551287,94389335,93991408,1551294,94455985,129937850,76951255,112914302,54142249,1552214,132397598,109428419,94455988,1552593,36504344,1551362,1551376,26087285,116648754,94854626,114461301,97387326,1551399,1551909,94854623,24192899,1551980,1551910,128598943,128467119,94389332,1551929,59706234,82291358,1551944,2853559,1551521,1551952,125931702,63266772,1552011,94854630,112674610,1552012,130225404,1552737,55697033,111974038,118769156,132397596,4511021,3667922,127640293,96188256,111034788,1552059,94389337,1552068,90339052,85615658,97121507,85546349,129404696,2540692,13177220,117718253,97386586,94455984,1552145,1551986,1552149,1552150,94720314,1551965,2838049,85945151,3284412,97387329,92460160,128226785,125322705,63162798,67129169,41019114,1551753,76951256,95324519,1551877,29304173,1552226,1552189,94455982,94921283,76751379,1552198,38904085,119173217,21664192,1552217,1842057,36244913,96055886,1552240,1552252,76751371,112674609,1956839,97387333,52636336,42255432,120584753,1552276,132397597,41317099,69963531,1552292,1552293,94854625,106471491,1552849,96188257,97926363,1552295,94455981,72223410,24275141,98815571,87271863,2853561,1552344,1552345,117682329,118004584,1552363,94389333,3039808,1552359,132397594,94854627,97653997,98214365,128264227,58638638,112573879,90138245,90138244,90138246,90138243,90138241,97386610,128333765,90339053,1552400,1552375,92659540,29433193,80685749,106003070,114529861,130225403,128699085,1760934,43889231,97121510,1552430,111602229,94389334,124522210,41317098,52300271,121428211,98815570,1552454,99417583,132397595,1552486,1552690,1552313,56952600,1552475,132066226,130723112,97387330,97320365,119409379,123522147,67530124,112275294,97121508,1552531,1552539,1552541,14791169,91467597,1552545,26377379,130723113,122385399,76951259,1552564,2623413",BU:"28,26,25",projectStatus:"1145,1146",countryId:"6,5,3,8,7,1,2,0",auditType:484}}))}),[Sa]),(0,a.useEffect)((function(){if(null!=va){var e=Ve.filter((function(e){var t;return null===Sa||void 0===Sa||null===(t=Sa.practiceId)||void 0===t?void 0:t.includes(e.value)})),t=sn.filter((function(e){var t;return null===Sa||void 0===Sa||null===(t=Sa.practiceId)||void 0===t?void 0:t.includes(e.value)}));dn(t);var n=pt.filter((function(e){var t;return+(null===Sa||void 0===Sa||null===(t=Sa.buId)||void 0===t?void 0:t.includes(e.value))}));console.log(pt),console.log(Sa.buId),console.log(n);var a=Zn.filter((function(e){var t;return+(null===Sa||void 0===Sa||null===(t=Sa.customer)||void 0===t?void 0:t.includes(e.value))}));console.log(a),console.log(Sa.customer),console.log(Zn);var l=hn.filter((function(e){var t;return null===(t=Pa.BU)||void 0===t?void 0:t.includes(e.value)})),s=Xn.filter((function(e){var t;return null===(t=Pa.countryId)||void 0===t?void 0:t.includes(e.value)})),r=en.filter((function(e){var t;return null===(t=Pa.projectStatus)||void 0===t?void 0:t.includes(e.value)}));ln(r),aa(s),jt(n),We(e),Tn(a),Bn(a),xn(l)}}),[va,Pa.practiceId,null===Pa||void 0===Pa?void 0:Pa.buId,Pa.countryId,Pa.customer,Pa.BU,Pa.projectStatus,null===Sa||void 0===Sa?void 0:Sa.buId,null===Sa||void 0===Sa?void 0:Sa.customer,null===Sa||void 0===Sa?void 0:Sa.practiceId,Zn,pt]),(0,a.useEffect)((function(){Ha()}),[]),(0,a.useEffect)((function(){null==va&&Va()}),[gt]),(0,a.useEffect)((function(){null!==va&&za()}),[null===Sa||void 0===Sa?void 0:Sa.buId]),(0,a.useEffect)((function(){}),[st]),(0,a.useEffect)((function(){null!==va&&setTimeout((function(){Ja()}),4e3)}),[Sa]);var Ja=function(){var e=(0,L.Z)(Kn);1==e&&ct(!0),e||(ct(!1),Oa())},Oa=function(){Yt(!0),Gt(!0),u()({method:"post",url:Je+"/ProjectMS/project/getPracticeDashboard",data:{buId:Sa.buId,practiceId:Sa.practiceId,customerId:Sa.customer,contractTermId:Sa.BU,countryId:Sa.countryId,prjStatus:Sa.projectStatus,toDt:"2023-6-30",auditType:+Sa.auditType},headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;console.log(t.length);var n=[];t.forEach((function(e){var t={id:e.id,value:e.notify_pms};n.push(t),$t(n)})),Gn(t),Yn(t),setTimeout((function(){Ft(!Mt),Rt(Mt?_.UdN:_.NR5),ia(!0),Gt(!1)}),4e3)})),Yt(!1),St(!1)},Ya=function(){Yt(!0),Gt(!0),u()({method:"post",url:Je+"/ProjectMS/project/getPracticeDashboard",data:{buId:Pa.buId,practiceId:Pa.practiceId,customerId:Pa.customer,contractTermId:Pa.BU,countryId:Pa.countryId,prjStatus:Pa.projectStatus,toDt:"2023-6-30",auditType:+Pa.auditType},headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e);var t=e.data;console.log(t.length);var n=[];t.forEach((function(e){var t={id:e.id,value:e.notify_pms};n.push(t),$t(n)})),Gn(t),Yn(t),Gt(!1),Ft(!Mt),Rt(Mt?_.UdN:_.NR5),ia(!0)})),Yt(!1),St(!1)},Ha=function(){u().get(Je+"/dashboardsms/Dashboard/getCountry").then((function(e){var t=[];t.push({value:0,label:"Others"});var n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};t.push(n)})),$n(t),null==va&&aa(t)})).catch((function(e){return console.log(e)}))};(0,a.useEffect)((function(){console.log(Ea),u().get(126==Ea||908==Ea||911==Ea?Je+"/ProjectMS/project/getallPractices":Je+"/ProjectMS/project/userPractice?loggedUserId=".concat(Oe)).then((function(e){console.log(e.data);var t=e.data,n=[];t.forEach((function(e){var t={label:e.group_name,value:e.id};n.push(t),console.log(n),ze(n),null==va&&We(n)}))}))}),[]);var Va=function(){u()({method:"post",url:Je+"/ProjectMS/project/getCustomersByPractice",data:{buId:Et}}).then((function(e){var t=e.data,n=[];t.forEach((function(e){var t={label:e.label,value:e.id};n.push(t)})),En(n),null==va&&Tn(n)})).catch((function(e){}))},za=function(){u()({method:"post",url:Je+"/ProjectMS/project/getCustomersByPractice",data:{buId:null===Sa||void 0===Sa?void 0:Sa.buId}}).then((function(e){var t=e.data,n=[];t.forEach((function(e){var t={label:e.label,value:e.id};n.push(t)})),En(n),null==va&&Tn(n)})).catch((function(e){}))};(0,a.useEffect)((function(){Ga()}),[A,k,b]),console.log(qe.map((function(e){return e.value})).join(" ")),(0,a.useEffect)((function(){null!==va&&u()({method:"get",url:Je+"/ProjectMS/project/getBUbyPractice?projectId=".concat(null===Sa||void 0===Sa?void 0:Sa.practiceId)}).then((function(e){var t=e.data,n=[];t.forEach((function(e){var t={label:e.name,value:e.id};n.push(t)})),ft(n),null===va&&jt(n)})).catch((function(e){}))}),[Sa.practiceId]),(0,a.useEffect)((function(){null==va&&u()({method:"get",url:Je+"/ProjectMS/project/getBUbyPractice?projectId=".concat(qe.map((function(e){return e.value})).join(" "))}).then((function(e){var t=e.data,n=[];t.forEach((function(e){var t={label:e.name,value:e.id};n.push(t)})),ft(n),null===va&&jt(n)})).catch((function(e){}))}),[null===(l=qe[0])||void 0===l?void 0:l.value]);var Ga=function(){u()({method:"post",url:Je+"/ProjectMS/project/updateNotifyPm",data:{id:A,notifyPm:k}}).then((function(e){var t,n,a=e.data,l=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.projectName;y(l),f(a),Q(!0),setTimeout((function(){Q(!1)}),8e3)}))},Ka=(0,a.useState)(10),qa=(0,o.Z)(Ka,2),Wa=qa[0],Xa=(qa[1],(0,a.useState)(0)),$a=(0,o.Z)(Xa,2),el=$a[0],tl=($a[1],Wa),nl=el*tl,al=parseInt(nl)+parseInt(tl),ll=(zn.slice(nl,al).map((function(e,t){return zn.length>0?(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:(0,D.jsxs)("div",{className:"col-md-12 row",children:[(0,D.jsx)("div",{className:"col-md-1",children:e.var_gm<=5?(0,D.jsx)("div",{className:"legendContainer align left",children:(0,D.jsxs)("div",{className:"legend green",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt"})]})}):e.var_gm>=10?(0,D.jsx)("div",{className:"legendContainer align left",children:(0,D.jsxs)("div",{className:"legend red",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt"})]})}):(0,D.jsx)("div",{className:"legendContainer align left",children:(0,D.jsxs)("div",{className:"legend amber",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt"})]})})})," ",(0,D.jsx)("div",{className:"col-md-10 ellipsisHealth ",children:(0,D.jsx)(de.rU,{style:{color:"#495057",textDecoration:"underLine"},title:e.project_name,to:"/project/Overview/:".concat(e.prj_id),target:"_blank",children:(0,D.jsx)("span",{style:{color:"#495057",textDecoration:"underLine"},children:e.project_name})})})]})}),(0,D.jsx)("td",{children:(0,D.jsx)("span",{title:e.prj_pm_name,children:e.prj_pm_name})}),(0,D.jsx)("td",{}),(0,D.jsx)("td",{style:{textAlign:"right",backgroundColor:"red"},title:e.prj_compltn,children:e.prj_compltn}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.ct_term,children:e.ct_term}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.res_count,children:e.res_count}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.pln_efforts,children:e.pln_efforts}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.eac_efforts,children:e.eac_efforts}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.var_efforts,children:e.var_efforts<=5?(0,D.jsx)("div",{style:{color:"green"},children:e.var_efforts}):e.var_efforts>=10?(0,D.jsx)("div",{style:{color:"red"},children:e.var_efforts}):(0,D.jsx)("div",{style:{color:"#ffbf00"},children:e.var_efforts})}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.pln_gm,children:e.pln_gm}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.eac_gm,children:e.eac_gm}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.var_gm,children:e.var_gm<=5?(0,D.jsx)("div",{style:{color:"green"},children:e.var_gm}):e.var_gm>=10?(0,D.jsx)("div",{style:{color:"red"},children:e.var_gm}):(0,D.jsx)("div",{style:{color:"#ffbf00"},children:e.var_gm})}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.critical_risks,children:e.critical_risks<=5?(0,D.jsx)("div",{style:{color:"green"},children:e.critical_risks}):e.critical_risks>=10?(0,D.jsx)("div",{style:{color:"red"},children:e.critical_risks}):(0,D.jsx)("div",{style:{color:"#ffbf00"},children:e.critical_risks})}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.high_risks,children:e.high_risks<=5?(0,D.jsx)("div",{style:{color:"green"},children:e.high_risks}):e.high_risks>=10?(0,D.jsx)("div",{style:{color:"red"},children:e.high_risks}):(0,D.jsx)("div",{style:{color:"#ffbf00"},children:e.high_risks})}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.med_risks,children:e.med_risks}),(0,D.jsx)("td",{style:{textAlign:"right"},title:e.low_risks,children:e.low_risks}),(0,D.jsx)("td",{title:e.audit_date,children:e.audit_date}),(0,D.jsx)("td",{title:e.audit_result,children:e.audit_result}),(0,D.jsx)("td",{title:e.csat_date,children:e.csat_date}),(0,D.jsx)("td",{title:e.csat_result,children:e.csat_result})]}):(0,D.jsx)("td",{colSpan:"10",align:"center",children:"No records found"})}),[]),Math.ceil(zn.length/tl),zn.length,function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return 0!==n.length&&n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")});return(0,D.jsxs)("div",{children:[ot?(0,D.jsxs)("div",{className:"statusMsg error",children:[" ",(0,D.jsxs)("span",{children:[" ",(0,D.jsx)(ie.SZZ,{})," Please select the valid values for highlighted fields"," "]})]}):"",U?(0,D.jsx)("div",{className:"statusMsg success",children:(0,D.jsxs)("span",{children:["NotifyPM updated successfully for ",b]})}):"",ja?(0,D.jsx)("div",{className:"statusMsg success",children:(0,D.jsxs)("span",{className:"errMsg",children:[(0,D.jsx)(C.hXj,{size:"1.4em"})," \xa0 Search created successfully."]})}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Project Health"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:Ba,currentScreenName:["Project Health"]}),(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{pdfname:"ProjectHealth.pdf",name:"Project Health help"})}),(0,D.jsx)("div",{className:"saveBtn",children:(0,D.jsx)(ve.Z,{setEditAddmsg:ba,pageurl:"http://10.11.12.149:3000/#/executive/practiceDashboard",page_Name:"Delivery Dashboard",payload:Pa})}),"\xa0",(0,D.jsx)("div",{onClick:function(){Ft(!Mt),Rt(Mt?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:Tt})})]}),(0,D.jsxs)(R.V9,{visible:!Mt,children:[(0,D.jsxs)("div",{className:"group-content row",children:[908==Ea||911==Ea||126==Ea?(0,D.jsx)("div",{className:" col-md-4 mb-2 className",children:(0,D.jsxs)("div",{className:"form-group row multiselect",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"practice",children:["Practice ",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",ref:function(e){Kn.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"practiceId",options:sn,hasSelectAll:!0,value:cn,disabled:!1,onChange:function(e){dn(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"practiceId",t.toString()))})),et(t.toString())}})})]})}):(0,D.jsx)("div",{className:" col-md-4 mb-2 className",children:(0,D.jsxs)("div",{className:"form-group row multiselect",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"practice",children:["Practice ",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",ref:function(e){Kn.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"practiceId",options:Ve,hasSelectAll:!0,value:qe,disabled:!1,onChange:function(e){We(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"practiceId",t.toString()))})),et(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"bu",children:["BU ",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",ref:function(e){Kn.current[1]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"buId",options:pt,hasSelectAll:!0,value:gt,disabled:!1,onChange:function(e){jt(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"buId",t.toString()))})),kt(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"customer",children:["Customer ",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",ref:function(e){Kn.current[2]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"customer",options:Zn,hasSelectAll:!0,value:Pn,disabled:!1,onChange:function(e){Tn(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"customer",t.toString()))})),Un(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"contractTerms",children:["Contract Terms",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",ref:function(e){Kn.current[3]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"BU",options:hn,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:vn,disabled:!1,onChange:function(e){xn(e);var t=[];e.forEach((function(e){t.push(e.value)})),Zt(t.toString()),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"BU",t.toString()))}))}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"country",children:["Country ",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",ref:function(e){Kn.current[4]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"countryId",options:Xn,hasSelectAll:!0,value:na,disabled:!1,onChange:function(e){aa(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"countryId",t.toString()))})),Sn(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"projectStatus",children:"Project Status"}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",children:(0,D.jsx)(c.NU,{ArrowRenderer:d,valueRenderer:ll,id:"projectStatus",options:en,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:an,disabled:!1,onChange:function(e){ln(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ta((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"projectStatus",t.toString()))})),bn(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"auditType",children:"Audit Type"}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{id:"auditType",onChange:function(e){Lt(e.target.value),Ta((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"auditType",e.target.value))}))},value:Pa.auditType,children:[(0,D.jsx)("option",{value:"484",children:" <<ALL >>"}),(0,D.jsx)("option",{value:"1285",children:"CMMI"}),(0,D.jsx)("option",{value:"478",children:"IQA"}),(0,D.jsx)("option",{value:"1272",children:"ISMS"}),(0,D.jsx)("option",{value:"1284",children:"ISO"}),(0,D.jsx)("option",{value:"477",children:"QCR"})]})})]})})]}),(0,D.jsx)("center",{children:(0,D.jsxs)("button",{type:"button",className:"btn btn-primary mb-3",title:"Search",onClick:function(){var e=(0,L.Z)(Kn);1==e&&ct(!0),e||(ct(!1),Ya())},children:[(0,D.jsx)(_.U41,{})," Search"," "]})})]}),(0,D.jsx)("div",{}),(0,D.jsx)("div",{className:"group mb-3 customCard",children:1==ra?(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"legendContainer",children:[(0,D.jsx)("span",{className:"font-weight-bold",children:"Efforts/GM Variance :"}),(0,D.jsx)("div",{className:"legend red",children:(0,D.jsx)("div",{className:"legendTxt t",children:"10 or Above 10"})}),(0,D.jsx)("div",{className:"legend amber",children:(0,D.jsx)("div",{className:"legendTxt t",children:"Btw 5 and 10 "})}),(0,D.jsx)("div",{className:"legend green",children:(0,D.jsx)("div",{className:"legendTxt t",children:"5 or below 5"})}),(0,D.jsxs)("div",{className:"legendContainer",children:[(0,D.jsx)("span",{className:"font-weight-bold",children:"Risk :"}),(0,D.jsxs)("div",{className:"legend red",children:[(0,D.jsx)("div",{className:"legendCircle ",title:"New"}),(0,D.jsx)("div",{className:"legendTxt",children:"Critical above 1 or High above 5"})]}),(0,D.jsxs)("div",{className:"legend amber",children:[(0,D.jsx)("div",{className:"legendCircle",title:"In Progress"}),(0,D.jsx)("div",{className:"legendTxt",children:"2-5 High or 1 Critical "})]}),(0,D.jsxs)("div",{className:"legend green",children:[(0,D.jsx)("div",{className:"legendCircle ",title:"Completed"}),(0,D.jsxs)("div",{className:"legendTxt",children:["No Critical and High below 2"," "]})]})]})]}),(0,D.jsx)("div",{className:"primeReactTable projectHealthTable darkHeader ",children:(0,D.jsxs)(he.w,{value:zn,sortField:Y,sortOrder:G,onSort:function(e){H(e.sortField),K(e.sortOrder);var t=(0,v.Z)(zn).sort((function(t,n){var a=t[e.sortField],l=n[e.sortField];return a<l?1===e.sortOrder?-1:1:a>l?1===e.sortOrder?1:-1:0}));Gn(t)},editMode:"row",dataKey:"id",onFilter:function(e){return Pe(e.filters)},rows:25,rowsPerPageOptions:[10,25,50],filters:Ie,header:Le,showGridlines:!0,paginator:!0,paginationPerPage:5,headerColumnGroup:te,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},responsiveLayout:"scroll",rowClassName:function(e){return e.prj_compltn>="100"?"highlighted-row":"nonHighlighted-row"},children:[(0,D.jsx)(j.s,{field:"project_name",header:function(){return(0,D.jsx)("div",{style:{backgroundColor:"pink"},children:"project_name"})},sortable:!0,body:function(e){var t=null;return t=e.var_efforts>10||e.var_gm>10?(0,D.jsx)("div",{className:"legendContainer align left",style:{marginRight:"10px"},children:(0,D.jsxs)("div",{className:"legend red",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt",children:(0,D.jsx)(de.rU,{title:e.project_name,to:"/project/Overview/:".concat(e.prj_id),target:"_blank",children:(0,D.jsx)("span",{style:{color:"#495057",textDecoration:"underLine"},children:e.project_name})})})]})}):e.var_efforts>=5&&e.var_efforts<=10||e.var_gm>=5&&e.var_gm<=10?(0,D.jsx)("div",{className:"legendContainer align left",children:(0,D.jsxs)("div",{className:"legend amber",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt",children:(0,D.jsx)(de.rU,{title:e.project_name,to:"/project/Overview/:".concat(e.prj_id),target:"_blank",children:(0,D.jsx)("span",{style:{color:"#495057",textDecoration:"underLine"},children:e.project_name})})})]})}):(0,D.jsx)("div",{className:"legendContainer align left",children:(0,D.jsxs)("div",{className:"legend green",children:[(0,D.jsx)("div",{className:"legendCircle",title:"Risk"}),(0,D.jsx)("div",{className:"legendTxt",children:(0,D.jsx)(de.rU,{title:e.project_name,to:"/project/Overview/:".concat(e.prj_id),target:"_blank",children:(0,D.jsx)("span",{style:{color:"#495057",textDecoration:"underLine"},children:e.project_name})})})]})}),(0,D.jsx)(D.Fragment,{children:t})}}),(0,D.jsx)(j.s,{field:"prj_pm_name",header:"Primary Manager",body:function(e){return(0,D.jsx)("div",{className:"ellipsis",title:e.prj_pm_name,children:e.prj_pm_name})},sortable:!0}),(0,D.jsx)(j.s,{field:"notify_pms",header:"Notify PM",body:function(e){var t,n;return(0,D.jsx)("div",{children:"100"==Qa?(0,D.jsxs)("div",{style:{cursor:"not-allowed"},children:[" ",(0,D.jsx)("select",{onChange:function(t){Z(e.prj_id),P(t.target.value),Ga()},style:{pointerEvents:"none"},children:null===(t=xe(e.notify_pms))||void 0===t?void 0:t.map((function(t){return(0,D.jsx)("option",{defaultValue:e[0],value:t.id,children:t.value})}))})]}):(0,D.jsx)("div",{children:null===e.notify_pms?"":(0,D.jsx)("select",{onChange:function(t){Z(e.prj_id),P(t.target.value),Ga()},children:null===(n=xe(e.notify_pms))||void 0===n?void 0:n.map((function(t){return(0,D.jsx)("option",{defaultValue:e[0],value:t.id,children:t.value})}))})})})}}),(0,D.jsx)(j.s,{field:"prj_compltn",style:{alignItems:"center"},body:function(e){return(0,D.jsx)("div",{title:e.prj_compltn,style:{textAlign:"right"},children:e.prj_compltn})},header:"Comp(%)"}),(0,D.jsx)(j.s,{field:"ct_term",header:"Terms",body:function(e){return(0,D.jsx)("div",{title:e.ct_title,children:e.ct_term})}}),(0,D.jsx)(j.s,{field:"res_count",header:"Count",body:function(e){return(0,D.jsx)("div",{title:e.res_count,style:{textAlign:"right"},children:e.res_count})}}),(0,D.jsx)(j.s,{field:"pln_efforts",header:"Plan",body:function(e){var t,n=e.prj_compltn>="100"?"#fff4fa":"#f2f9f1";return(0,D.jsxs)("div",{title:null===(t=e.pln_efforts)||void 0===t?void 0:t.toFixed(2).replace(/\.\d+$/,".00"),style:{textAlign:"right",backgroundColor:n,height:"28px",paddingTop:"3px"},children:[Math.floor(e.pln_efforts).toLocaleString("en-US"),".00"]})}}),(0,D.jsx)(j.s,{field:"eac_efforts",header:"EAC",className:"complete",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f2f9f1";return(0,D.jsxs)("div",{title:Math.floor(e.eac_efforts).toLocaleString("en-US"),style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px"},children:[Math.floor(e.eac_efforts).toLocaleString("en-US"),".00"]})}}),(0,D.jsx)(j.s,{field:"var_efforts",className:"complete",header:(0,D.jsx)(D.Fragment,{children:'"Var(%)"'}),body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f2f9f1";return(0,D.jsx)("div",{children:e.var_efforts<=5?(0,D.jsx)("div",{title:e.var_efforts,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"green"},children:e.var_efforts}):e.var_efforts>=10?(0,D.jsx)("div",{title:e.var_efforts,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"red"},children:e.var_efforts}):(0,D.jsx)("div",{title:e.var_efforts,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"#ffbf00"},children:e.var_efforts})})}}),(0,D.jsx)(j.s,{field:"pln_gm",header:"Plan",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f2feff";return(0,D.jsx)("div",{title:e.pln_gm,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px"},children:e.pln_gm})},className:"gmRows"}),(0,D.jsx)(j.s,{field:"eac_gm",header:"EAC",className:"gmRows",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f2feff",n=parseFloat(e.eac_gm).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,D.jsx)("div",{title:n,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px"},children:null===e.eac_gm?"":n})}}),(0,D.jsx)(j.s,{field:"var_gm",className:"gmRows",header:(0,D.jsx)(D.Fragment,{children:'"Var(%)"'}),body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f2feff";return(0,D.jsx)("div",{children:e.var_gm<=5?(0,D.jsx)("div",{title:e.var_gm,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"green"},children:e.var_gm}):e.var_gm>=10?(0,D.jsx)("div",{title:e.var_gm,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"red"},children:e.var_gm}):(0,D.jsx)("div",{title:e.var_gm,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"#ffbf00"},children:e.var_gm})})}}),(0,D.jsx)(j.s,{field:"critical_risks",header:"Crt",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f4f8ff";return(0,D.jsx)("div",{children:e.critical_risks<=5?(0,D.jsx)("div",{title:e.critical_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"green"},children:e.critical_risks}):e.critical_risks>=10?(0,D.jsx)("div",{title:e.critical_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"red"},children:e.critical_risks}):(0,D.jsx)("div",{title:e.critical_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"#ffbf00"},children:e.critical_risks})})},className:"riskRows"}),(0,D.jsx)(j.s,{field:"high_risks",header:"High",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f4f8ff";return(0,D.jsx)("div",{children:e.high_risks<=5?(0,D.jsx)("div",{title:e.high_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"green"},children:e.high_risks}):e.high_risks>=10?(0,D.jsx)("div",{title:e.high_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"red"},children:e.high_risks}):(0,D.jsx)("div",{title:e.high_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px",color:"#ffbf00"},children:e.high_risks})})},className:"riskRows"}),(0,D.jsx)(j.s,{field:"med_risks",header:"Med",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f4f8ff";return(0,D.jsx)("div",{title:e.med_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px"},children:e.med_risks})},className:"riskRows"}),(0,D.jsx)(j.s,{field:"low_risks",header:"Low",body:function(e){var t=e.prj_compltn>="100"?"#fff4fa":"#f4f8ff";return(0,D.jsx)("div",{title:e.low_risks,style:{textAlign:"right",backgroundColor:t,height:"28px",paddingTop:"3px"},children:e.low_risks})},className:"riskRows"}),(0,D.jsx)(j.s,{field:"audit_date",header:"Month",style:{textAlign:"right"}}),(0,D.jsx)(j.s,{field:"audit_result",header:"Res",style:{textAlign:"right"}}),(0,D.jsx)(j.s,{field:"csat_date",header:"Month",style:{textAlign:"right"}}),(0,D.jsx)(j.s,{field:"csat_result",header:"Score",style:{textAlign:"right"},body:function(e){return(0,D.jsx)("div",{style:{textAlign:"right"},children:e.csat_result})}})]})})]}):(0,D.jsx)(D.Fragment,{})})]}),zt?(0,D.jsx)(I.Z,{handleAbort:function(){s.current&&s.current.abort(),Gt(!1)}}):""]})},je=n(70828);function be(e){var t=["id"],n={fte0:(0,D.jsx)("img",{src:z,alt:"(fte_inactive_icon)",style:{height:"12px"},title:"Ex-Employee"}),fte1:(0,D.jsx)("img",{src:V,alt:"(fte_active_icon)",style:{height:"12px"},title:"Active Employee"}),fte2:(0,D.jsx)("img",{src:G,alt:"(fte_notice_icon)",style:{height:"12px"},title:"Employee in notice period"}),subk0:(0,D.jsx)("img",{src:q,alt:"(subk_inactive_icon)",style:{height:"12px"},title:"Ex-Contractor"}),subk1:(0,D.jsx)("img",{src:K,alt:"(subk_active_icon)",style:{height:"12px"},title:"Active Contractor"}),subk2:(0,D.jsx)("img",{src:W,alt:"(subk_notice_icon)",style:{height:"12px"},title:"Contractor in notice period"})},l=e.data,s=e.expandedCols,c=e.colExpandState,d=(0,a.useState)([]),u=(0,o.Z)(d,2),m=u[0],h=u[1],p=(0,a.useState)(null),f=(0,o.Z)(p,2),x=f[0],g=f[1],j=(0,a.useState)({}),b=(0,o.Z)(j,2),y=b[0],N=b[1],S=(0,a.useState)(!1),A=(0,o.Z)(S,2),Z=A[0],E=A[1],w=(0,a.useState)([]),k=(0,o.Z)(w,2),I=(k[0],k[1]),P=((new Date).getFullYear(),function(e){var t=String(e);if(1==t.includes(".")){var n=Number(t),a=(null!=n&&(null===n||void 0===n?void 0:n.toFixed(2))).split(".");return a[0]=a[0].replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","),a.join(".")}return null!=t&&(null===t||void 0===t?void 0:t.replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","))});(0,a.useEffect)((function(){R()}),[l.tableData]);var T=0,R=function(){var e,a,i,d="";d=1==Z&&T>0?"expanded":"";var u,m=l.tableData,p=null;null!==l&&void 0!==l&&null!==(e=l.columns)&&void 0!==e&&e.includes("'")?p=null===l||void 0===l||null===(u=l.columns)||void 0===u?void 0:u.replaceAll("'",""):p=null===l||void 0===l?void 0:l.columns;for(var f=null===(a=p)||void 0===a?void 0:a.split(","),x=[],j=[],b={},y=0;y<(null===f||void 0===f?void 0:f.length);y++){var S=f[y].trim(),A=m[0];b[S]=A[S]}var w=Object.entries(b).filter((function(e){var t=(0,o.Z)(e,2),n=t[0],a=t[1];return"string"===typeof a&&a.includes("^&")&&!n.includes("billAmt")}));I(w),w.map((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];s.includes(n)&&j.push((0,r.Z)({},n,!1))})),N(Object.assign.apply(Object,[{}].concat(j)));var k=null===m||void 0===m?void 0:m.filter((function(e){return-1==e.id}));w.map((function(e,t){var n=(0,o.Z)(e,2),a=n[0],l=n[1];x.push({accessorKey:a,header:l.split("^&")[0],enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,D.jsxs)("div",{className:a.includes("name")||a.includes("csl")||a.includes("dp")||a.includes("customer")||a.includes("projects")||a.includes("empId")||a.includes("doj")||a.includes("deptName")||a.includes("supervisor")||a.includes("prjMgr")||a.includes("supervisor")||a.includes("net_capacity")||a.includes("billable_alloc")||a.includes("billable_alloc_per")?"mixer":a.includes("cader")?"mixer cader":"",children:["prjMgr"==a?(0,D.jsx)("span",{children:"Project Manager"}):(0,D.jsxs)(D.Fragment,{children:[" ",l.split("^&")[0]," "]}),a==c[2]?(0,D.jsx)("span",{className:"expandIcon ".concat(d),children:(0,D.jsx)(H.Z,{onClick:function(){E((function(e){return!e}))},children:(0,D.jsx)(C.lU2,{})})}):null]})}})}));var R=k?null===(i=Object.entries(k[0]))||void 0===i?void 0:i.filter((function(e){return!(null!==t&&void 0!==t&&t.includes(e[0]))})):null;x.map((function(e){var t=x.indexOf(e),a=[];R.map((function(l,s){var r=(0,o.Z)(l,2),i=r[0],c=r[1],d=/\d/.test(i.split("_")[0]);if(i.includes("_")&&1==d){var u=i.split("_");if(u=u.slice(0,-1).join("_"),e.accessorKey.includes(u)){var m={id:i,header:null==c||0==c?"":c,accessorKey:i,Cell:function(e){var t=e.cell;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{title:t.getValue(),children:"name"==t.column.id&&null!=t.row.original?(0,D.jsxs)("div",{children:[n[t.row.original.empStatus],(0,D.jsx)("span",{children:t.getValue()})]}):"net_capacity"==i||"billable_alloc"==i||"billable_alloc_per"==i||i.includes("billAmt")||i.includes("nCap")?(0,D.jsx)("div",{className:"numData",children:P(t.getValue())}):"doj"==i?(0,D.jsx)("div",{className:"align center doj",children:t.getValue()}):i.includes("cader")?(0,D.jsx)("div",{className:"align center cader",children:t.getValue()}):t.getValue()})})}};a.push(m),x[t].columns=a}}else if(i==e.accessorKey){var h={id:i,header:null==c||0==c?"":c,accessorKey:i,Header:function(e){e.column;return(0,D.jsx)("div",{className:i.includes("cader")?"cader":"",children:c})},Cell:function(e){var t=e.cell;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{title:t.getValue(),children:"name"==t.column.id&&null!=t.row.original?(0,D.jsxs)("div",{children:[n[t.row.original.empStatus],(0,D.jsx)("span",{children:t.getValue()})]}):"net_capacity"==i||"billable_alloc"==i||"billable_alloc_per"==i||i.includes("billAmt")||i.includes("nCap")?(0,D.jsx)("div",{className:"numData",children:P(t.getValue())}):"doj"==i?(0,D.jsx)("div",{class:"align center doj",children:t.getValue()}):i.includes("cader")?(0,D.jsx)("div",{className:"align center cader",children:t.getValue()}):t.getValue()})})}};x[t].columns=[h]}}))})),g(x);var _=[],B=[];null===m||void 0===m||m.map((function(e){return-1!==e.id?_.push(e):B.push(e)}));var F=M(_,{children:"subRows"}),U=(0,v.Z)(F.slice(2,F.length));h(U)};(0,a.useEffect)((function(){Z?_():B()}),[Z]);var _=function(){T++,R(),N({})},B=function(){R()},M=function(e,t){t=(0,i.Z)({id:"id",parentId:"parentId",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId];n[a]=(0,i.Z)((0,i.Z)((0,r.Z)({},l,[]),e),n[a]),n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a};return(0,D.jsx)("div",{className:"materialReactExpandableTable billableUtilTrendTable darkHeader",style:{marginTop:"20px"},children:m.length?(0,D.jsx)(Y.ZP,{columns:x,data:m,enableExpandAll:!0,enableExpanding:!1,enablePagination:!1,enableRowVirtualization:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,enablePinning:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,i.Z)({},y),columnPinning:{right:["total"],left:["name"]}},state:{columnVisibility:(0,i.Z)({},y)},defaultColumn:{minSize:40,maxSize:1e3,size:130},muiTableContainerProps:{sx:{maxHeight:"70vh",width:"auto",maxWidth:"fit-content"}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"}}}}):null})}var ye=function(){var e=(0,a.useState)(!1),t=(0,o.Z)(e,2),n=t[0],l=t[1],s=(0,a.useState)(_.UdN),d=(0,o.Z)(s,2),h=d[0],f=d[1],x=(0,a.useState)(!1),g=(0,o.Z)(x,2),j=g[0],b=g[1],y=(0,a.useState)([]),S=(0,o.Z)(y,2),C=S[0],Z=S[1],E=(0,a.useState)([]),w=(0,o.Z)(E,2),k=w[0],P=w[1],T=(0,a.useRef)([]),B=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},M=(Bt=new Date).getFullYear(),F=Bt.getMonth(),U=(0,a.useState)([]),Q=(0,o.Z)(U,2),J=Q[0],O=Q[1],Y=(0,a.useState)(!1),H=(0,o.Z)(Y,2),V=H[0],z=H[1],G=(0,a.useState)([]),K=(0,o.Z)(G,2),q=K[0],W=K[1],X=(0,a.useState)("6,5,3,8,7,1,2"),ee=(0,o.Z)(X,2),ae=ee[0],le=ee[1],se=(0,a.useState)([]),re=(0,o.Z)(se,2),ie=(re[0],re[1]),oe=(0,a.useState)([]),ce=(0,o.Z)(oe,2),de=ce[0],ue=ce[1],me=(0,a.useState)([]),he=(0,o.Z)(me,2),pe=he[0],fe=he[1],ve=(0,a.useState)([]),xe=(0,o.Z)(ve,2),ge=xe[0],ye=xe[1],Ne=(0,a.useState)([]),Se=(0,o.Z)(Ne,2),Ae=Se[0],Ce=Se[1],Ze=(0,a.useState)([]),Ee=(0,o.Z)(Ze,2),we=Ee[0],De=Ee[1],ke=(0,a.useState)([]),Ie=(0,o.Z)(ke,2),Pe=Ie[0],Te=Ie[1],Re=(0,a.useState)([]),_e=(0,o.Z)(Re,2),Be=(_e[0],_e[1]),Me=new Date;Me.setFullYear(Me.getFullYear()-1);var Fe=(0,a.useState)(Me),Ue=(0,o.Z)(Fe,2),Qe=Ue[0],Le=Ue[1],Je=(0,a.useState)(""),Oe=(0,o.Z)(Je,2),Ye=Oe[0],He=Oe[1],Ve=(0,a.useState)(12),ze=(0,o.Z)(Ve,2),Ge=ze[0],Ke=ze[1],qe=(0,a.useState)(N()(N()().startOf("month"))._d),We=(0,o.Z)(qe,2),Xe=(We[0],We[1],M=(Xe=new Date).getFullYear(),F=Xe.getMonth(),new Date(M,F-11),new Date(M,F+11)),$e=(0,a.useState)([]),et=(0,o.Z)($e,2),tt=et[0],nt=et[1],at=localStorage.getItem("resId"),lt=(0,a.useState)("-1"),st=(0,o.Z)(lt,2),rt=st[0],it=st[1],ot=(0,a.useState)([]),ct=(0,o.Z)(ot,2),dt=ct[0],ut=ct[1],mt=(0,a.useState)([]),ht=(0,o.Z)(mt,2),pt=(ht[0],ht[1],(0,a.useRef)(null)),ft=(0,a.useState)([]),vt=(0,o.Z)(ft,2),xt=vt[0],gt=vt[1],jt=((new Date).getFullYear(),{BuIds:"",CountryIds:"",FromDate:"",Duration:"",searchType:"",resType:"-1",serarchVals:"",isExport:"0",UserId:at}),bt=(0,a.useState)(jt),yt=(0,o.Z)(bt,2),Nt=yt[0],St=yt[1],At=function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")},Ct=(0,a.useState)({}),Zt=(0,o.Z)(Ct,2),Et=Zt[0],wt=Zt[1],Dt=(0,a.useState)(!1),kt=(0,o.Z)(Dt,2),It=kt[0],Pt=kt[1],Tt=m.N.baseUrl,Rt=N()().subtract(1,"year").date(1).format("YYYY-MM-DD"),_t=function(){var e={BuIds:q.map((function(e){return e.value})).toString(),CountryIds:ae,FromDate:""==Nt.month||void 0==Nt.month?Rt:Nt.month,Duration:Ye,searchType:tt,resType:rt,serarchVals:C,isExport:"0",UserId:at};e.serarchVals="CSL"==tt?pe.map((function(e){return e.value})).toString():"DP"==tt?Pe.map((function(e){return e.value})).toString():Ae.map((function(e){return e.value})).toString(),b(!0),pt.current=new AbortController,u()({method:"post",url:Tt+"/UtilityMS/BillableUtilizationTrend/getbilliableUtilizationTrend",data:e,signal:pt.current.signal}).then((function(e){var t;b(!1);var a=e.data.tableData,s=null===(t=e.data.columns)||void 0===t?void 0:t.replaceAll("'","").split(",");e.data;P(a),wt(e.data),Be(s),Pt(!0),!(0,L.Z)(T)&&l(!n),f(n?_.UdN:_.NR5)})).catch((function(e){console.log("Error :"+e)}))};(0,a.useEffect)((function(){}),[Et]),(0,a.useEffect)((function(){u().get(Tt+"/CostMS/cost/getDepartments").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.label,value:e.value};t.push(n)})),O(t),W(t),ie(t)})).catch((function(e){return console.log(e)})),u().get(Tt+"/ProjectMS/Engagement/customerdata").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.fullName,value:e.id};t.push(n)})),ye(t),Ce(t)})).catch((function(e){return console.log(e)})),u().get(Tt+"/SalesMS/MasterController/getCslDropDownData?userId=".concat(at)).then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.PersonName,value:e.id};t.push(n)})),ue(t),fe(t)})).catch((function(e){return console.log(e)})),u().get(Tt+"/CommonMS/master/getDPDropDownData?userId=".concat(at)).then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.PersonName,value:e.id};t.push(n)})),De(t),Te(t)})),u().get(Tt+"/CommonMS/master/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};t.push(n)}));var a=t.slice().sort((function(e,t){return e.label.localeCompare(t.label)}));ut(a),gt(a)}))}),[]),M=(Bt=new Date).getFullYear(),F=Bt.getMonth();var Bt,Mt=new Date(M+1,F),Ft=new Date(M-5,F);return(0,D.jsxs)("div",{children:[V?(0,D.jsxs)("div",{className:"statusMsg error",children:[(0,D.jsx)(A.CSE,{}),"Please select valid values for highlighted fields"]}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Billable Utilization Trend"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{onClick:function(){l(!n),f(n?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:h})})]}),(0,D.jsxs)(R.V9,{visible:!n,children:[(0,D.jsxs)("div",{className:"group-content row",children:[(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["Business Unit\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6 multiselect",ref:function(e){T.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:B,id:"BuIds",value:q,options:J,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,valueRenderer:At,disabled:!1,onChange:function(e){ie(e),W(e)}})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["Search Type\xa0",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:" col-6",children:(0,D.jsxs)("select",{ref:function(e){T.current[1]=e},className:"error enteredDetails cancel text",id:"SearchType",name:"searchType",onChange:function(e){nt(e.target.value)},children:[(0,D.jsx)("option",{value:"",children:"<<Please Select>>"}),(0,D.jsx)("option",{value:"Customer",children:"Customer"}),(0,D.jsx)("option",{value:"CSL",children:"CSL"}),(0,D.jsx)("option",{value:"DP",children:"Delivery Partner"})]})})]})}),"CSL"==tt?(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["CSL\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){T.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:B,id:"CSL",value:pe,options:de,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,valueRenderer:At,disabled:!1,onChange:function(e){fe(e);var t=[];e.forEach((function(e){t.push(e.value)})),Z(t.toString())}})})})]})}):"","DP"==tt?(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["Delivery Partner\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){T.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:B,id:"dp",value:Pe,valueRenderer:At,options:we,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,onChange:function(e){Te(e);var t=[];e.forEach((function(e){t.push(e.value)})),Z(t.toString())}})})})]})}):"","Customer"==tt?(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["Customer\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"multiselect",ref:function(e){T.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:B,id:"Customer",valueRenderer:At,value:Ae,options:ge,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,onChange:function(e){Ce(e);var t=[];e.forEach((function(e){t.push(e.value)})),Z(t.toString())}})})})]})}):"",(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5 ",htmlFor:"resType",children:"Res. Type"}),(0,D.jsx)("span",{className:"col-1  p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{id:"resType",onChange:function(e){it(e.target.value)},children:[(0,D.jsx)("option",{value:"null",children:"<< All >>"}),(0,D.jsx)("option",{value:"fte",children:"Employee"}),(0,D.jsx)("option",{value:"subK",children:"Contractor"})]})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"resLocation",children:["Res. Location\xa0",(0,D.jsx)("span",{className:" error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1 p-0 ",children:":"}),(0,D.jsx)("div",{className:" multiselect col-6",ref:function(e){T.current[2]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:B,id:"CountryIds",valueRenderer:At,value:xt,options:dt,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,onChange:function(e){gt(e);var t=[];e.forEach((function(e){t.push(e.value)})),le(t.toString())}})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"startMonth",children:"Start Month"}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",style:{zIndex:"3"},children:(0,D.jsx)(p(),{id:"month",selected:Qe,maxDate:Mt,minDate:Ft,onChange:function(e){var t=new Date,n=12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth());Ke(n<0?12:12-n),St((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"month",N()(e).format("yyyy-MM-DD")))})),Le(e),He("")},dateFormat:"MMM-yyyy",showMonthYearPicker:!0})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"duration",children:["Duration\xa0 ",(0,D.jsx)("span",{className:"error-text",children:" *"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{ref:function(e){T.current[3]=e},className:"error enteredDetails cancel text",id:"duration",name:"duration",value:Ye,onChange:function(e){return He(e.target.value)},children:[(0,D.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,v.Z)(Array(Ge)).map((function(e,t){return(0,D.jsx)("option",{value:t+1,children:t+1},t+1)}))]})})]})})]}),(0,D.jsx)("div",{className:" form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:(0,D.jsxs)("button",{className:"btn btn-primary",type:"submit",onClick:function(){var e=(0,L.Z)(T);if(e)return z(!0),void setTimeout((function(){z(!1)}),3e3);e||_t()},children:[(0,D.jsx)(je.Yfv,{})," Search"]})})]}),j?(0,D.jsx)(I.Z,{handleAbort:function(){pt.current&&pt.current.abort(),b(!1)}}):""]}),1==It?(0,D.jsx)("div",{className:"col-12",children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"col-mt-12",style:{height:"10px"},children:(0,D.jsx)("div",{children:(0,D.jsx)("span",{children:(0,D.jsxs)("span",{style:{color:"#9d7c42",fontStyle:"italic"},className:"mb-5",children:[(0,D.jsx)(ne.Hfo,{})," All numbers are in hours"]})})})}),(0,D.jsxs)("div",{className:"mb-2",align:"right",children:[(0,D.jsx)($.WlY,{size:"1.5em",title:"Export to Excel",style:{color:"green",float:"right"},cursor:"pointer",onClick:function(){var e=["resourceId","DpId","empStatus","customerId","id","cslId","lvl","keyAttr","parentId","projectId"],t=["name","csl","dp","customer","projects","empId","doj","cader","deptName","supervisor","prjMgr","net_capacity","billable_alloc","billable_alloc_per"],n=Array.from(new Set(k.slice(2).flatMap((function(e){return Object.keys(e)})).filter((function(e){return e.match(/^\d{4}_\d{2}_\d{2}_/)})))).map((function(e){return e.replace("^&2^&1","").replace("^&1^&2","")})),a=[].concat(t,(0,v.Z)(n)),l=k.slice(2).map((function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var n=(0,o.Z)(t,1)[0];return!e.includes(n)})))}));console.log(l);var s=l.slice(1).map((function(e){return[].concat((0,v.Z)(t.map((function(t){return e[t]?e[t]:""}))),(0,v.Z)(n.map((function(t){return e[t]?e[t]:""}))))})),r=new(te().Workbook),i=r.addWorksheet("ResourceAllocationTrendTable");i.addRow(a).font={bold:!0};for(var c=0;c<s.length;c++)i.addRow(s[c]);[1].forEach((function(e){i.getRow(e).font={bold:!0}})),r.xlsx.writeBuffer().then((function(e){saveAs(new Blob([e]),"ResourceAllocationTrendTable.xlsx")}))}}),(0,D.jsx)("br",{})]}),(0,D.jsx)(be,{data:Et,expandedCols:["csl","dp","customer","projects"],colExpandState:["0","0","name"]})]})}):(0,D.jsx)(D.Fragment,{})]})},Ne="data:image/png;base64,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",Se="data:image/png;base64,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",Ae=n.p+"static/media/DP.b231f9340b045d6dd442.png",Ce="data:image/png;base64,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",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAO5JREFUeNrs2rERwjAMBVB9XQrGYxUmYRXGoxMV3HGAY8XG0XfkKkUS/XeS08QwMzlf79JhmfN+tBa8XU6v62Vw+F/PNqOWHQCl92EUpDegG0gDIZpqaUDEppoaFOGurYERrgwaHFGdRQkQVZmUBLGaTWWSpUTdKGacsiNGlNsOs0foIUaY3XK0EpKQhCQkIQlJSEIScmwICLMjR4sFAtaxmnq0wNiN6Tc72LpR6giYEGujBRZEzR4BA6J2syM6wvPVQmSE9/OLqAgR/xGOZwGLAtgK+Rdot9NB3wIMP6/19jIzxl8jn+sBAAD//wMAY4onaWU1I/UAAAAASUVORK5CYII=",Ee="data:image/png;base64,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",we=n.p+"static/media/DPHead.067a2f36f7fcf5061334.png",De=n.p+"static/media/TP.3906bb0d37418f735473.png",ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAGYktHRAD/AP8A/6C9p5MAAAM2SURBVGhD7ZlfSFNRGMC/TaGIqLceegl7CYoefYwgiJ6j14IoqIcSAknBh4zsJTKxrEH4ZH9eLDWXiAlRitFy1iItZsqam7PcpnPzbu5ud1vn3J27P+663T/n7m6w37jufJdt9/vde+53vouGFAKqGCN5r1pqAnpTE9AbTQUsKzF+0xLNyuiN8SDM+jh+fPxAPXSf3s+PaaPJFRhzRDPJY2a9HIwssCSiC3WBWBLg0XSERFmefGUgmnWiBnWB25ObwCa2z8oUxNC+jqlNEtODqsBPPwdfPLk3LRbJylg8LHz3xklEB6oC7RO5Z1i8NtyZZMiIDtQEeqxhCETRDcCzc2ELsgl4PBMmkXqoCPgiSTBnqszOyQu8mY/CX0aQVQcVgZvvQ5Dkl5PSyWNS6NX2IUQidagWMP+OgTuUQCNpyQu4QhwM2KMkUo4qAVzXTai+y01eoNcWhkhc2XcFVLUSre+CYF1RdxYbD+6Ge2eUtxmKBT4vMnC5z4FGhvQOFTw93wAnjuwlkTwUT6Hmfjf6qz55TMsrNyQVFiVFAu1DHtjYotfYBFkOOt6ukEgesgVc/hgM2gIkokf/zBr88cl/dpAtcPWZExIaPELgX7z23JkOZCBL4KVlHZYC2vT1GCf67b5PfhJJQ7IAg/qc+2PK5qkcusZXYTPTU5VGsgC+vLin15o4KkdNL6RPJUkCUwsMWF30OshSTC+FYcIu7eGnpACuzy18zS8vra+XJa0NJQVuDbghEI5CKsGJbAnNtmCE5Y9diqKtxLybgVNtFhD/BJ1VuBgGdIjxu41w7NA+sqeQolfgQqdNt+Qx+NiXuudIJM6OAj3DDlheE6v55UlewO3bggeDuGkUR1Rgg4lD55DYl8qbvMDDYSf4Q+JthqgAnjrxgl5Nn+QxHFp/Lnb9IFE+BQKj1lX4thgkkYB+yQvgnMyWfyTKkleFOFR4j175yLcNafRPPJc9u4xg7z0J9cbsec+7Ak2muYpNHhNhk3Dd9ItEafIERqa9ZFR5yQuMZnJMI3ITV27ymO3LUp5A89nDUCeiVCnUGQ3QfK6BRGk0+w9Nuajg8y2NmoDe1AT0psoFAP4DUxeblZAW5/IAAAAASUVORK5CYII=",Ie=n.p+"static/media/SQA.b788340abc15bd402948.png";var Pe=function(e){var t=e.data,n=e.expandedCols,l=e.colExpandState,s=e.staticColumns,c=e.setActiveProjectsByCustomer,d=(e.activeProjectsByCustomer,e.setShowcslproject),h=e.setShowacchieDataTable,p=(e.showacchieDataTable,e.setShowcslHieTable),f=(0,a.useState)([]),x=(0,o.Z)(f,2),g=x[0],j=x[1],b=(0,a.useState)(null),y=(0,o.Z)(b,2),N=y[0],S=y[1],A=(0,a.useState)({}),C=(0,o.Z)(A,2),Z=C[0],E=C[1],w=(0,a.useState)(!1),k=(0,o.Z)(w,2),P=k[0],T=k[1],R=(0,a.useState)([]),_=(0,o.Z)(R,2),B=_[0],M=_[1],F=m.N.baseUrl,U=(0,a.useState)(!1),Q=(0,o.Z)(U,2),L=Q[0],J=Q[1],O=(0,a.useRef)(null);(0,a.useEffect)((function(){V()}),[t]);var V=function(){var e,a,i,m,f=t.tableData,v=null;null!==t&&void 0!==t&&null!==(e=t.columns)&&void 0!==e&&e.includes("'")?v=null===t||void 0===t||null===(m=t.columns)||void 0===m?void 0:m.replaceAll("'",""):v=null===t||void 0===t?void 0:t.columns;null==v&&(v=s);for(var x=null===(a=v)||void 0===a?void 0:a.split(","),g=[],b=[],y={},N=0;N<(null===x||void 0===x?void 0:x.length);N++){var A=x[N].trim(),C=f[0];y[A]=C[A]}var Z=Object.entries(y);M(Z),Z.map((function(e){var t=(0,o.Z)(e,2),a=t[0];t[1];n.includes(a)&&b.push((0,r.Z)({},a,!1))})),E(Object.assign.apply(Object,[{}].concat(b))),Z.map((function(e,t){var n=(0,o.Z)(e,2),a=n[0],s=n[1];g.push({accessorKey:a,header:s,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,D.jsxs)("div",{children:[s,console.log(s,"inline------------------155"),a==l[2]?(0,D.jsx)(H.Z,{onClick:function(){T((function(e){return!e}))}}):null]})},Cell:function(e){var t=e.cell;return(0,D.jsx)("div",{children:"role"===t.column.id&&"Click For Projects"===t.getValue()?(0,D.jsx)(de.rU,{onClick:function(e){!function(e){var t=setTimeout((function(){J(!0)}),2e3);u().get(F+"/teamms/Hierarchy/getActiveProjectsByCustomer?CustomerId=".concat(e)).then((function(e){var n=e.data;for(var a in n){var l=n[a];l.label="".concat(l.project_code," - ").concat(l.label)}c(n),clearTimeout(t),J(!1),p(!1),d(!0),h(!0)}))}(t.row.original.customer_id)},children:"Click For Projects"}):"AW"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ce,style:{height:"10px",width:"10px"},title:"Account Owner"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (AW)"]})]}):"CSL"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ne,style:{height:"10px",width:"10px"},title:"CSL"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (CSL)"]})]}):"CSL Head"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Se,style:{height:"10px",width:"10px"},title:"CSL Head"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (CSL Head)"]})]}):"DP"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ae,style:{height:"10px",width:"10px"},title:"Delivery Partner"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (DP)"]})]}):"ACSL"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ee,style:{height:"10px",width:"10px"},title:"ACSL"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (ACSL)"]})]}):"DP Head"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:we,style:{height:"10px",width:"10px"},title:"DP Head"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (DP Head)"]})]}):"role"===t.column.id&&"AE"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ze,style:{height:"10px",width:"10px"},title:"Account Executive"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name,"(AE)"]})]}):"role"===t.column.id&&"TP"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:De,style:{height:"10px",width:"10px"},title:"TP"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(TP)"]})]}):"role"===t.column.id&&"PC"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:ke,style:{height:"10px",width:"10px"},title:"PC"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(PC)"]})]}):"role"===t.column.id&&"SQA"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ie,style:{height:"10px",width:"10px"},title:"SQA"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(SQA)"]})]}):"partner_name"===t.column.id?1===t.row.original.lvl?(0,D.jsxs)("div",{className:"cslPartner",title:t.row.original.partner_name,children:[t.row.original.partner_name,console.log("inline--------------------296",t.row.original.partner_name)]}):null:"account"===t.column.id?(0,D.jsx)("div",{className:"ellipsis",title:t.row.original.account,children:2===t.row.original.lvl&&null===t.row.original.resource_name&&"Click For Projects"!==t.row.original.role?t.row.original.account:null}):null})}})})),f=f.slice(1),S(g);var w=[];null===(i=f)||void 0===i||i.map((function(e){return w.push(e)})),j(G(w,{children:"subRows"}))};(0,a.useEffect)((function(){P?E({}):z()}),[P]);var z=function(){var e=[];B.map((function(t){var a=(0,o.Z)(t,2),l=a[0];a[1];n.includes(l)&&e.push((0,r.Z)({},l,!1))})),E(Object.assign.apply(Object,[{}].concat(e)))},G=function(e,t){t=(0,i.Z)({id:"id",parentId:"parentId",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId],o=(0,i.Z)((0,r.Z)({},l,[]),e);n[a]=o,n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(o)})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a};return(0,D.jsxs)("div",{className:"materialReactExpandableTable headSticky cslPartnerTable darkHeader",children:[null!==N&&void 0!==N&&N.length?(0,D.jsx)(Y.ZP,{columns:N,data:g,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableRowVirtualization:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,emptyMessage:"No Records found.",initialState:{expanded:!0,density:"compact",columnVisibility:(0,i.Z)({},Z),columnPinning:{right:["total"]}},state:{columnVisibility:(0,i.Z)({},Z)},defaultColumn:{minSize:40,maxSize:1e3,size:40},muiTableContainerProps:{sx:{maxHeight:"500px",width:"auto",maxWidth:"100%"}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td:first-of-type":{minWidth:"60px",maxWidth:"60px"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"},"& th:first-of-type":{minWidth:"60px",maxWidth:"60px"}}}}):null,L?(0,D.jsx)(I.Z,{handleAbort:function(){O.current&&O.current.abort(),J(!1)}}):""]})},Te=n(6748),Re=n(99259),_e=n(66934),Be=n(12065),Me=n(65902),Fe=n(99651),Ue=n(41523),Qe=n(56125),Le=n(27336),Je=n(3555),Oe=(n(23421),n(28182)),Ye=n(64554),He=n(19977),Ve=n(20890);m.N.baseUrl;function ze(e){return(0,D.jsx)(Re.Z,(0,i.Z)((0,i.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,D.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function Ge(e){return(0,D.jsx)(Re.Z,(0,i.Z)((0,i.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,D.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function Ke(e){var t=(0,Le.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,D.jsx)(Le.q.div,{style:t,children:(0,D.jsx)(Qe.Z,(0,i.Z)({},e))})}(0,Je.td)([]);var qe=a.memo((function(e){var t=e.defaultExpandedRows,n=(e.hierarchydata,e.setFlag),c=(e.flag,e.data),d=e.setTableData,u=e.projectName,m=(e.hierarchyCount,(0,a.useState)("")),h=(0,o.Z)(m,2),p=(h[0],h[1]);console.log(c),console.log(u);var f=function(e,t){var n=e||[];t=(0,i.Z)({id:"id",parentId:"parent",children:"subrows"},t);var a={},l=[],s=t.children;return null===n||void 0===n||n.forEach((function(e){var n=e[t.id],l=e[t.parentId];a[n]=(0,i.Z)((0,i.Z)((0,r.Z)({},s,[]),e),a[n]),a[l]=a[l]||(0,r.Z)({},s,[]),a[l][s].push(a[n]),console.log("id::::"+n),console.log("parentid:::"+l)})),Object.values(a).forEach((function(e){"undefined"===typeof e[t.id]&&l.push.apply(l,(0,v.Z)(e[s]))})),l}(c),x=new Date(null===u||void 0===u?void 0:u.projectFromDate),g=new Date(x),j=("".concat(g.getDate()," ").concat(g.toLocaleString("default",{month:"short"})," ").concat(g.getFullYear()),new Date(null===u||void 0===u?void 0:u.projectToDate)),b=new Date(j);"".concat(b.getDate()," ").concat(b.toLocaleString("default",{month:"short"})," ").concat(b.getFullYear());console.log(f,"--hierarchy");var y=document.getElementsByClassName("iconContainer");(0,a.useEffect)((function(){setTimeout((function(){N()}),500);document.getElementsByClassName("MuiTreeView-root hierarchyTree");document.addEventListener("click",(function(e){setTimeout((function(){var e,t,n=Array.from(document.getElementsByClassName("iconContainer")),a=Array.from(n[0].children);console.log(),a.forEach((function(e){"SPAN"==e.tagName&&e.remove()})),"SPAN"!=(null===(e=y[0])||void 0===e||null===(t=e.children[1])||void 0===t?void 0:t.tagName)&&N()}),500)}),!0)}),[]);var N=function(){var e=document.createElement("span");e.innerHTML='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="hierarchyIcons folder" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"></path></svg>',y[0].appendChild(e)},S=a.forwardRef((function(e,t){var i,o=e.classes,c=e.className,u=e.label,m=e.nodeId,h=e.icon,f=e.expansionIcon,v=e.displayIcon,x=(0,Me.Z)(m),g=x.disabled,j=x.expanded,b=x.selected,y=x.focused,N=x.handleExpansion,S=x.handleSelection,A=x.preventSelection,C=h||f||v,Z=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var a,s,r,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),console.log("in line 221"),console.log(m),s=null===(a=m)||void 0===a?void 0:a.split("_")[2],r=null===a||void 0===a?void 0:a.split("_")[0],i=null===a||void 0===a?void 0:a.split("_")[1],console.log("in line 314"),o=(0,He.Z)(s,r,i,p,n,d),console.log(o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(u);var E=function e(t){return a.Children.map(t,(function(t){return a.isValidElement(t)?"b"===t.type||"strong"===t.type?(0,D.jsx)("span",{style:{fontWeight:"bold"},children:e(t.props.children)}):a.cloneElement(t,{},e(t.props.children)):t}))}(u);return(0,D.jsxs)("div",{className:(0,Oe.default)(c,o.root,(i={},(0,r.Z)(i,o.expanded,j),(0,r.Z)(i,o.selected,b),(0,r.Z)(i,o.focused,y),(0,r.Z)(i,o.disabled,g),i)),onMouseDown:function(e){A(e)},ref:t,children:[(0,D.jsx)("div",{onClick:function(e){N(e)},className:o.iconContainer,children:C}),(0,D.jsx)(Ve.Z,{onClick:Z,component:"div",className:o.label,children:E})]})})),A=(0,_e.ZP)((function(e){var t,n,l,s,r,o,c,d,u,m,h,p,f,v,x,g,j,b;return(0,D.jsx)("div",{className:"hierarchy tree",children:(0,a.createElement)(Fe.Z,(0,i.Z)((0,i.Z)({ContentComponent:S},e),{},{key:String(null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===(n=e.node)||void 0===n?void 0:n.id),label:(0,D.jsxs)(Ye.Z,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[(0,D.jsx)(Ye.Z,{color:"inherit",sx:{mr:1}}),(0,D.jsx)(Ve.Z,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1,fontSize:"12px"},children:(0,D.jsxs)("span",{style:{color:null!==(l=e.node)&&void 0!==l&&l.text.includes("span")?null===(s=e.node)||void 0===s?void 0:s.text.split('"')[1].split(":")[1]:"",fontWeight:null!==(r=e.node)&&void 0!==r&&r.parent.includes("#")?"bold":""},children:[(0,D.jsxs)("span",{style:{fontWeight:null!==(o=e.node)&&void 0!==o&&o.text.includes("<b>")?"bold":""},children:[" ",null!==(c=e.node)&&void 0!==c&&c.text.includes("span")?null===(d=e.node)||void 0===d?void 0:d.text.split('">')[1].split("(")[0].replaceAll("<b>","").replaceAll("</b>",""):null===(u=e.node)||void 0===u?void 0:u.text.split("(")[0].replaceAll("<b>","").replaceAll("</b>","")]}),(0,D.jsxs)("span",{children:[" ",void 0!=(null===(m=e.node)||void 0===m?void 0:m.text.split("(")[1])?null!==(h=e.node)&&void 0!==h&&h.text.split("(")[1].includes("span")?"("+(null===(p=e.node)||void 0===p?void 0:p.text.split("(")[1].replaceAll("</span>","")):"("+(null===(f=e.node)||void 0===f?void 0:f.text.split("(")[1]):""]})]})})]}),TransitionComponent:Ke,title:void 0!=(null===(v=e.node)||void 0===v?void 0:v.text.split("(")[1])&&null!==(x=e.node)&&void 0!==x&&x.text.split("(")[1].includes("span")?"":null===(g=e.node)||void 0===g?void 0:g.text.replaceAll("<b>","").replaceAll("</b>","")}),Array.isArray(null===(j=e.node)||void 0===j?void 0:j.subrows)?null===(b=e.node)||void 0===b?void 0:b.subrows.map((function(e){return C(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,r.Z)(t,"& .".concat(Ue.Z.iconContainer),{"& .close":{opacity:.3}}),(0,r.Z)(t,"& .".concat(Ue.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,Be.Fq)(n.palette.text.primary,.4))}),t})),C=function(e){return(0,D.jsx)("div",{children:(0,D.jsx)(A,{node:e})})};return(0,D.jsx)("div",{style:{maxHeight:"400px",minHeight:"500px",overflowY:"auto"},children:(0,D.jsx)(Te.Z,{"aria-label":"rich object",defaultExpanded:[t],defaultParentIcon:(0,D.jsx)("div",{className:"iconContainer",children:(0,D.jsx)(ze,{className:"hierarchyIcons"})}),defaultCollapseIcon:(0,D.jsx)("div",{className:"iconContainer",children:(0,D.jsx)(ze,{className:"hierarchyIcons"})}),defaultExpandIcon:(0,D.jsx)("div",{className:"iconContainer",children:(0,D.jsx)(Ge,{className:"hierarchyIcons"})}),defaultEndIcon:(0,D.jsx)(_.q1E,{className:"hierarchyIcons user"}),sx:{"& .css-1g86id8-MuiTreeItem-content .MuiTreeItem-label":{width:"auto",minwidth:0}},className:"hierarchyTree",children:C(f[0])})})}),(function(e,t){return e.hierarchyCount===t.hierarchyCount?(console.log("in line 447"),!0):(console.log("in line 450"),!1)})),We=qe;var Xe=function(e){var t=e.projectHierarchy,n=e.searchProjecthierarchy,l=e.setShowprojectHie,s=e.showprojectHie,r=t.data,i=(0,a.useState)(!1),c=(0,o.Z)(i,2),d=c[0],h=c[1],p=(0,a.useState)(0),f=(0,o.Z)(p,2),v=f[0],x=f[1],g=(0,a.useState)([]),b=(0,o.Z)(g,2),y=b[0],N=b[1],S=(0,a.useState)("All"),A=(0,o.Z)(S,2),C=A[0],Z=A[1],w=(0,a.useState)(!1),k=(0,o.Z)(w,2),P=k[0],T=k[1],R=m.N.baseUrl,_=(0,a.useState)([]),B=(0,o.Z)(_,2),M=B[0],F=B[1],U=function(e){var t=setTimeout((function(){T(!0)}),2e3);u()({method:"post",url:R+"/teamms/Hierarchy/prjRolesTree",data:{typ:"roles",prjId:""==M?e:M,dat:"0000-00-00",status:C},headers:{"Content-Type":"application/json"}}).then((function(e){var n,a=e.data,s=(0,O.Z)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value;if("-1"===r.id&&"#"===r.parent){var i=r.text.replace(/<\/?[^>]+(>|$)/g,"");r.text=i}}}catch(o){s.e(o)}finally{s.f()}N(a),x((function(e){return e+1})),h(!0),l(!0),clearTimeout(t),T(!1)}))};(0,a.useEffect)((function(){U()}),[C,M]);var Q=(0,a.useState)(""),L=(0,o.Z)(Q,2),J=L[0],Y=L[1],H=r?Object.values(r).filter((function(e){return e.cName.toLowerCase().includes(J)||e.pName.toLowerCase().includes(J)})):[],V=(0,a.useRef)(null);return(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"row",children:[" ",n?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"col-md-2",children:(0,D.jsx)("input",{type:"text",placeholder:"Search...",value:J,onChange:function(e){var t=e.target.value.toLowerCase();Y(t)},style:{fontWeight:"bold"}})})}),(0,D.jsx)("div",{className:"col-md-6 mt-2 darkHeader",children:(0,D.jsxs)(he.w,{value:H,editMode:"row",showGridlines:!0,stripedRows:!0,scrollHeight:"425px",responsiveLayout:"scroll",children:[(0,D.jsx)(j.s,{field:"cName",header:"Customer",alignHeader:"center"}),(0,D.jsx)(j.s,{header:"Projects",alignHeader:"center",body:function(e){var t="".concat(e.project_code," - ").concat(e.pName);return(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(de.rU,{title:t,to:"/project/Overview/:".concat(e.pId),target:"_blank",className:"ellipsis",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1},children:t}),(0,D.jsx)(E.DOT,{style:{cursor:"pointer"},onClick:function(t){U(e.pId),F(e.pId)}})]})}})]})})]}):"",1==s&&y.length>0?(0,D.jsx)("div",{className:"col-md-6 mt-2",children:(0,D.jsxs)("div",{className:"col-md-6 group mb-3 ",style:{backgroundColor:"#eeeeee38"},children:[(0,D.jsxs)("div",{className:"col-md-12",style:{borderBottom:"1px solid grey",background:"#f1eeee",height:"36px"},children:[(0,D.jsx)("label",{style:{float:"right",paddingTop:"7px"},children:(0,D.jsxs)("select",{style:{marginLeft:"10px"},id:"status",onChange:function(e){Z(e.target.value),U()},children:[(0,D.jsx)("option",{value:"All",children:"All"}),(0,D.jsx)("option",{value:"Active",children:"Active"})]})}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{style:{textAlign:"center",color:"#297AB0",fontSize:"14px",paddingTop:"7px"},children:"Project Hierarchy"})})]}),1==d?(0,D.jsx)(We,{defaultExpandedRows:String(-1),data:y,hierarchyCount:v}):""]})}):""]})}),P?(0,D.jsx)(I.Z,{handleAbort:function(){V.current&&V.current.abort(),T(!1)}}):""]})};n(1684);var $e=function(e){var t=e.data,n=e.expandedCols,l=e.colExpandState,s=e.staticColumns,c=e.setActiveProjectsByCustomer,d=(e.activeProjectsByCustomer,e.setShowcslproject,e.setShowacchieDataTable),h=(e.showacchieDataTable,e.setShowacctHieTable);if(console.log(t),(0,a.useEffect)((function(){}),[t]),t.tableData&&t.tableData.length>0){Object.keys(t.tableData[0]);t.columns="'account,role'"}var p=(0,a.useState)([]),f=(0,o.Z)(p,2),x=f[0],g=f[1],j=(0,a.useState)(null),b=(0,o.Z)(j,2),y=b[0],N=b[1],S=(0,a.useState)({}),C=(0,o.Z)(S,2),Z=C[0],E=C[1],w=(0,a.useState)(!1),k=(0,o.Z)(w,2),P=k[0],T=k[1],R=(0,a.useState)([]),_=(0,o.Z)(R,2),B=_[0],M=_[1],F=m.N.baseUrl,U=(0,a.useState)(!1),Q=(0,o.Z)(U,2),L=Q[0],J=Q[1],O=(0,a.useRef)(null);(0,a.useEffect)((function(){V()}),[t]),console.log(t.columns);var V=function(){var e,a,i,m,p=t.tableData,f=null;null!==t&&void 0!==t&&null!==(e=t.columns)&&void 0!==e&&e.includes("'")?f=null===t||void 0===t||null===(m=t.columns)||void 0===m?void 0:m.replaceAll("'",""):f=null===t||void 0===t?void 0:t.columns;null==f&&(f=s);for(var v=null===(a=f)||void 0===a?void 0:a.split(","),x=[],j=[],b={},y=0;y<(null===v||void 0===v?void 0:v.length);y++){var S=v[y].trim(),C=p[0];b[S]=C[S]}var Z=Object.entries(b);M(Z),Z.map((function(e){var t=(0,o.Z)(e,2),a=t[0];t[1];n.includes(a)&&j.push((0,r.Z)({},a,!1))})),E(Object.assign.apply(Object,[{}].concat(j))),Z.map((function(e,t){var n=(0,o.Z)(e,2),a=n[0],s=n[1];x.push({accessorKey:a,header:s,enableColumnActions:!1,enableHiding:!0,Header:function(e){var t=e.column;return console.log(t),console.log(s),(0,D.jsxs)("div",{children:[s,console.log(s),a==l[2]?(0,D.jsx)(H.Z,{onClick:function(){T((function(e){return!e}))},children:(0,D.jsx)(A.bBv,{})}):null]})},Cell:function(e){var t=e.cell;return(0,D.jsx)("div",{children:"role"===t.column.id&&"Click For Projects"===t.getValue()?(0,D.jsx)(de.rU,{onClick:function(e){console.log(e),console.log(t.row.original),console.log(t.row.original.customer_id),function(e){var t=setTimeout((function(){J(!0)}),2e3);u().get(F+"/teamms/Hierarchy/getActiveProjectsByCustomer?CustomerId=".concat(e)).then((function(e){var n=e.data;for(var a in n){var l=n[a];l.label="".concat(l.project_code," - ").concat(l.label)}c(n),clearTimeout(t),J(!1),h(!1),d(!0)}))}(t.row.original.customer_id)},children:"Click For Projects"}):"AW"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ce,style:{height:"10px",width:"10px"},title:"Account Owner"})," ",(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name," (AW)"]})]}):"CSL"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ne,style:{height:"10px",width:"10px"},title:"CSL"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (CSL)"]})]}):"CSL Head"===t.getValue()?(0,D.jsxs)("div",{children:[" ",(0,D.jsx)("img",{src:Se,style:{height:"10px",width:"10px"},title:"CSL Head"})," ",(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (CSL Head)"]})]}):"DP"===t.getValue()?(0,D.jsxs)("div",{children:[" ",(0,D.jsx)("img",{src:Ae,style:{height:"10px",width:"10px"},title:"Delivery Partner"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name," (DP)"]})]}):"ACSL"===t.getValue()?(0,D.jsxs)("div",{children:[" ",(0,D.jsx)("img",{src:Ee,style:{height:"10px",width:"10px"},title:"ACSL"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name," (ACSL)"]})]}):"DP Head"===t.getValue()?(0,D.jsxs)("div",{children:[" ",(0,D.jsx)("img",{src:we,style:{height:"10px",width:"10px"},title:"DP Head"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[t.row.original.resource_name," (DP Head)"]})]}):"role"===t.column.id&&"AE"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ze,style:{height:"10px",width:"10px"},title:"Account Executive"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(AE)"]})]}):"role"===t.column.id&&"TP"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:De,style:{height:"10px",width:"10px"},title:"TP"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(TP)"]})]}):"role"===t.column.id&&"PC"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:ke,style:{height:"10px",width:"10px"},title:"PC"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(PC)"]})]}):"role"===t.column.id&&"SQA"===t.getValue()?(0,D.jsxs)("div",{children:[(0,D.jsx)("img",{src:Ie,style:{height:"10px",width:"10px"},title:"SQA"}),(0,D.jsxs)("span",{title:t.row.original.resource_name,children:[" ",t.row.original.resource_name,"(SQA)"]})]}):"account"===t.column.id?1===t.row.original.lvl?(0,D.jsx)("div",{className:"cslPartner",title:t.row.original.account,children:t.row.original.account}):null:"account"===t.column.id?(0,D.jsx)("div",{children:2===t.row.original.lvl&&null===t.row.original.resource_name&&"Click For Projects"!==t.row.original.role?t.row.original.account:null}):null})}})})),N(x),console.log(x),p=p.slice(1),N(x);var w=[];null===(i=p)||void 0===i||i.map((function(e){return w.push(e)})),g(G(w,{children:"subRows"}))};(0,a.useEffect)((function(){P?E({}):z()}),[P]);var z=function(){var e=[];B.map((function(t){var a=(0,o.Z)(t,2),l=a[0];a[1];n.includes(l)&&e.push((0,r.Z)({},l,!1))})),E(Object.assign.apply(Object,[{}].concat(e)))},G=function(e,t){t=(0,i.Z)({id:"id",parentId:"parentId",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId],o=(0,i.Z)((0,r.Z)({},l,[]),e);n[a]=o,n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(o)})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a};return(0,D.jsxs)("div",{className:"materialReactExpandableTable headSticky cslPartnerTable darkHeader",children:[null!==y&&void 0!==y&&y.length?(0,D.jsx)(Y.ZP,{columns:y,data:x,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableRowVirtualization:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,i.Z)({},Z),columnPinning:{right:["total"]}},state:{columnVisibility:(0,i.Z)({},Z)},defaultColumn:{minSize:40,maxSize:1e3,size:40},muiTableContainerProps:{sx:{maxHeight:"500px",width:"auto",maxWidth:"100%"}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td:first-of-type":{minWidth:"60px",maxWidth:"60px"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"},"& th:first-of-type":{minWidth:"60px",maxWidth:"60px"}}}}):null,L?(0,D.jsx)(I.Z,{handleAbort:function(){O.current&&O.current.abort(),J(!1)}}):""]})},et=(n(97931),n(81131)),tt=n(38996);function nt(e){var t=(0,Le.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,D.jsx)(Le.q.div,{style:t,children:(0,D.jsx)(Qe.Z,(0,i.Z)({},e))})}var at=(0,_e.ZP)((function(e){var t,n,l,s,r;return(0,D.jsx)("div",{children:(0,a.createElement)(Fe.Z,(0,i.Z)((0,i.Z)({},e),{},{key:String(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id),label:null===e||void 0===e||null===(l=e.node)||void 0===l?void 0:l.full_name,TransitionComponent:nt}),Array.isArray(null===e||void 0===e||null===(s=e.node)||void 0===s?void 0:s.subRows)?null===e||void 0===e||null===(r=e.node)||void 0===r?void 0:r.subRows.map((function(e){return lt(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,r.Z)(t,"& .".concat(Ue.Z.iconContainer),{"& .close":{opacity:.3}}),(0,r.Z)(t,"& .".concat(Ue.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,Be.Fq)(n.palette.text.primary,.4))}),t})),lt=function(e){return(0,D.jsx)("div",{children:(0,D.jsx)(at,{node:e})},String(null===e||void 0===e?void 0:e.id))};function st(e){var t=m.N.baseUrl,n=e.popDocFolderId,l=(0,a.useState)([]),s=(0,o.Z)(l,2),c=s[0],d=s[1],h=localStorage.getItem("resId"),p=parseInt(h)+1,f=(0,a.useState)(p),x=(0,o.Z)(f,2),g=x[0],j=x[1],b=localStorage.getItem("resName"),y=(0,a.useState)(b),N=(0,o.Z)(y,2),S=N[0],A=N[1],C=(0,a.useState)([]),E=(0,o.Z)(C,2),w=E[0],k=E[1],P=(0,a.useState)(!1),T=(0,o.Z)(P,2),R=T[0],_=T[1],B=(0,a.useRef)(null);console.log(w),(0,a.useEffect)((function(){!function(){var e=setTimeout((function(){_(!0),document.body.click()}),2e3);u()({method:"get",url:t+"/revenuemetricsms/RevenueMarginAnalysis/getReportees2"}).then((function(t){var n=t.data,a=n.map((function(e){return{name:e.full_name,id:e.id}}));d(a);var l=n.filter((function(e){return null===e.parent_id||n.some((function(t){return t&&"null"!==t&&t.id===e.parent_id}))}));clearTimeout(e),_(!1),k(l)})).catch((function(e){}))}()}),[]),console.log(c);(0,a.useEffect)((function(){}),[n]);var M=function(e,t){t=(0,i.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId];n[a]=(0,i.Z)((0,i.Z)((0,r.Z)({},l,[]),e),n[a]),n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a}(w),F=[],U=[],Q=(0,a.useState)(U),L=(0,o.Z)(Q,2),J=L[0],Y=L[1];console.log(J);var H=(0,a.useState)(U),V=(0,o.Z)(H,2),z=V[0],G=V[1];console.log(z);var K=(0,a.useState)(U),q=(0,o.Z)(K,2),W=q[0],X=q[1],$=M.find((function(e){return"Supervisor Orphans"===e.full_name})),ee=M.find((function(e){return"Satyanarayana Bolli"===e.full_name})),te=(0,a.useState)(null),ne=(0,o.Z)(te,2),ae=ne[0],le=ne[1];(0,a.useEffect)((function(){if(ae){var e=document.querySelector('[data-id="'.concat(ae,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}),[ae]);var se,re=function e(t){return(0,D.jsx)(Fe.Z,{nodeId:t.id.toString(),label:(0,D.jsx)(Ve.Z,{style:{color:S===t.full_name?"maroon":"inherit",fontWeight:S===t.full_name?"bold":"normal",fontStyle:S===t.full_name?"italic":"normal",fontSize:"13px"},children:t.full_name}),"data-id":t.id.toString(),ref:function(e){e&&t.id===ae&&(console.log("Scrolling to node:",t.full_name),e.scrollIntoView({behavior:"smooth",block:"start"}))},children:t.has_childs?t.subRows.map((function(t){return e(t)})):t.subRows.map((function(e){return(0,D.jsx)(Fe.Z,{nodeId:e.id.toString(),label:(0,D.jsx)(Ve.Z,{style:{color:S===e.full_name?"maroon":"inherit",fontWeight:S===e.full_name?"bold":"normal",fontStyle:S===e.full_name?"italic":"normal",fontSize:"13px"},children:e.full_name}),"data-id":t.id.toString(),ref:function(e){e&&t.id===ae&&(console.log("Scrolling to node:",t.full_name),e.scrollIntoView({behavior:"smooth",block:"start"}))}},e.id.toString())}))})},ie=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.id===n){var l=a.map((function(e){return e.id}));console.log(l),F.push.apply(F,(0,v.Z)(l))}else if(t.subRows){var s,r=(0,O.Z)(t.subRows);try{for(r.s();!(s=r.n()).done;){var i=s.value;e(i,n,[].concat((0,v.Z)(a),[t]))}}catch(o){r.e(o)}finally{r.f()}}},oe=(0,O.Z)(M);try{for(oe.s();!(se=oe.n()).done;){var ce=se.value;ie(ce,g)}}catch(ve){oe.e(ve)}finally{oe.f()}(0,a.useEffect)((function(){U.length=0,U.push.apply(U,(0,v.Z)(F.reverse().map(String))),console.log("Reversed storeParentsId:",U)}),[F]),(0,a.useEffect)((function(){if(M.length>0){var e=!g||g===p.toString();if(!(e&&J.includes(p.toString())||!e&&J.includes(g))){var t=e?p.toString():g;ie(M,t),U.length=0,U.push.apply(U,(0,v.Z)(F.reverse().map(String))),de(J,U)||Y(U),F.length=0}}}),[M,g,J]);var de=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};(0,a.useEffect)((function(){Y(U)}),[]);var ue=(0,a.useState)(!1),me=(0,o.Z)(ue,2),he=me[0],pe=me[1];(0,a.useEffect)((function(){var e;!he&&J.length>0&&(e=U,Y((function(t){var n=(0,v.Z)(t);return e.forEach((function(e){n.includes(e)||n.push(e)})),n})),pe(!0))}),[he,M]);var fe=function(e,t){var n=[].concat(U),a=[t].concat((0,v.Z)(n.reverse()));Y(a)};return(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:"col-md-12 mb-4",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"email-input",children:["Search\xa0",(0,D.jsx)("span",{className:"error-text ml-1",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 p-0",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:"autoComplete-container",children:(0,D.jsx)(Z.ReactSearchAutocomplete,{items:c,type:"Text",name:"prjId",id:"prjId",className:"error AutoComplete",onSelect:function(e){j(e.id),A(e.name),le(e.id)},showIcon:!1,inputSearchString:S,placeholder:"Type minimum 3 characters to get the list"})})})]})}),(0,D.jsxs)(Ye.Z,{sx:{flexGrow:1,maxWidth:400,overflowY:"hidden"},children:[(0,D.jsx)(Ye.Z,{sx:{mb:1}}),(0,D.jsx)("div",{style:{border:"1px solid #ccc"},children:(0,D.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,D.jsxs)("tbody",{children:[(0,D.jsx)("tr",{children:(0,D.jsx)("td",{style:{padding:"5px",verticalAlign:"top",borderBottom:"1px solid #ccc"},children:(0,D.jsx)(Te.Z,{"aria-label":"controlled",defaultCollapseIcon:(0,D.jsx)(et.Z,{}),defaultExpandIcon:(0,D.jsx)(tt.Z,{}),expanded:0===z.length||J.includes(z)?J:z,onNodeToggle:function(e,t){return G(t)},onNodeSelect:fe,children:ee?re(ee):(0,D.jsx)("p",{children:"Satyanarayana Bolli"})})})}),(0,D.jsx)("tr",{children:(0,D.jsx)("td",{style:{padding:"8px",verticalAlign:"top",borderBottom:"1px solid #ccc"},children:(0,D.jsx)(Te.Z,{"aria-label":"controlled",defaultCollapseIcon:(0,D.jsx)(et.Z,{}),defaultExpandIcon:(0,D.jsx)(tt.Z,{}),expanded:0===W.length?J:W,onNodeToggle:function(e,t){return X(t)},onNodeSelect:fe,children:$?re($):(0,D.jsx)("p",{children:"Supervisor Orphans "})})})})]})})})]}),R?(0,D.jsx)(I.Z,{handleAbort:function(){B.current&&B.current.abort(),_(!1)}}):""]})}var rt=function(){var e=(0,a.useState)(!1),t=(0,o.Z)(e,2),n=t[0],d=t[1],h=(0,a.useState)(_.UdN),p=(0,o.Z)(h,2),f=p[0],v=p[1],x=(0,a.useState)(!1),g=(0,o.Z)(x,2),b=g[0],y=g[1],N=(0,a.useState)(!1),S=(0,o.Z)(N,2),C=S[0],Z=S[1],w=m.N.baseUrl,k=localStorage.getItem("resId"),P=parseInt(k)+1,T=(0,a.useState)([]),F=(0,o.Z)(T,2),U=F[0],Q=F[1];(0,a.useEffect)((function(){J()}),[]);var J=function(){u()({method:"GET",url:w+"/CommonMS/master/getMenus?loggedUserId=".concat(k)}).then((function(e){e.data.forEach((function(e){"Teams"===e.display_name&&Q([e])}))}))},Y=(0,a.useRef)([]),H=(0,a.useState)("csl"),V=(0,o.Z)(H,2),z=V[0],G=V[1],K=(0,a.useState)("csl"),q=(0,o.Z)(K,2),W=q[0],X=q[1],$=(0,a.useState)([]),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],ae=(0,a.useState)([]),le=(0,o.Z)(ae,2),se=le[0],re=le[1],ie=(0,a.useState)([]),oe=(0,o.Z)(ie,2),ce=(oe[0],oe[1],(0,a.useState)([])),ue=(0,o.Z)(ce,2),me=ue[0],pe=ue[1],fe=(0,a.useState)([]),ve=(0,o.Z)(fe,2),xe=ve[0],ge=ve[1],je=(0,a.useState)([]),be=(0,o.Z)(je,2),ye=(be[0],be[1],(0,a.useState)([])),Te=(0,o.Z)(ye,2),Re=(Te[0],Te[1],(0,a.useState)([])),_e=(0,o.Z)(Re,2),Be=_e[0],Me=_e[1],Fe=(0,a.useState)([]),Ue=(0,o.Z)(Fe,2),Qe=Ue[0],Le=Ue[1],Je=(0,a.useState)([]),Oe=(0,o.Z)(Je,2),Ye=Oe[0],He=Oe[1],Ve=(0,a.useState)([]),ze=(0,o.Z)(Ve,2),Ge=ze[0],Ke=ze[1],qe=(0,a.useState)([]),et=(0,o.Z)(qe,2),tt=et[0],nt=et[1],at=(0,a.useState)([]),lt=(0,o.Z)(at,2),rt=lt[0],it=lt[1],ot=(0,a.useState)([]),ct=(0,o.Z)(ot,2),dt=ct[0],ut=ct[1],mt=(0,a.useState)(!1),ht=(0,o.Z)(mt,2),pt=ht[0],ft=ht[1],vt=(0,a.useState)(!1),xt=(0,o.Z)(vt,2),gt=xt[0],jt=xt[1],bt=(0,a.useState)("All"),yt=(0,o.Z)(bt,2),Nt=yt[0],St=yt[1],At=(0,a.useState)([]),Ct=(0,o.Z)(At,2),Zt=Ct[0],Et=Ct[1],wt=(0,a.useState)(0),Dt=(0,o.Z)(wt,2),kt=Dt[0],It=Dt[1],Pt=(0,a.useState)(!1),Tt=(0,o.Z)(Pt,2),Rt=Tt[0],_t=Tt[1],Bt=(0,a.useState)({viewBy:"",csl:-1,dp:-1,prj:"",acct:-1}),Mt=(0,o.Z)(Bt,2),Ft=Mt[0],Ut=Mt[1],Qt=(0,a.useRef)(null);(0,a.useEffect)((function(){console.log(Zt)}),[Zt]);var Lt=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:w+"/teamms/Hierarchy/getCustomerCSLList"});case 2:t=e.sent,n=[],(a=t.data).length>0&&a.forEach((function(e){var t={label:e.PersonName,value:e.id};n.push(t),nt(n),it(n)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:w+"/revenuemetricsms/RevenueMarginAnalysis/getCustomerDelParatnerList"});case 2:t=e.sent,n=[],(a=t.data).length>0&&a.forEach((function(e){var t={label:e.PersonName,value:e.id};n.push(t),pe(n),ge(n)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){y(!1)}),1e3),e.next=3,u()({url:w+"/teamms/Hierarchy/accHierarchyCustlist"});case 3:t=e.sent,n=[],(a=t.data).length>0&&a.forEach((function(e){var t={label:e.name,value:e.id};n.push(t),Me(n),Le(n)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:w+"/teamms/Hierarchy/customerByDPList?dps=-1&res=".concat(P)});case 2:t=e.sent,n=[],a=t.data,console.log(a),a.length>0&&a.forEach((function(e){var t={label:e.name,value:e.id};n.push(t),He(n),Ke(n)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(Ye);var Ht=(0,a.useState)(!1),Vt=(0,o.Z)(Ht,2),zt=Vt[0],Gt=Vt[1],Kt=Ge.map((function(e){return e.value})).join(",");if((0,a.useEffect)((function(){}),[se]),se.tableData&&se.tableData.length>0){Object.keys(se.tableData[0]);se.columns="'partner_name,account,role'"}var qt=(0,a.useState)(!1),Wt=(0,o.Z)(qt,2),Xt=Wt[0],$t=Wt[1],en=(0,a.useState)(""),tn=(0,o.Z)(en,2),nn=(tn[0],tn[1]),an=(0,a.useState)(!1),ln=(0,o.Z)(an,2),sn=ln[0],rn=ln[1],on=(0,a.useState)(""),cn=(0,o.Z)(on,2),dn=cn[0],un=cn[1];(0,a.useEffect)((function(){Jt(),Lt(),Yt(),Ot()}),[]);var mn=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},hn=(0,a.useState)([]),pn=(0,o.Z)(hn,2),fn=pn[0],vn=pn[1];console.log(fn);var xn=(0,a.useState)(!1),gn=(0,o.Z)(xn,2),jn=gn[0],bn=gn[1],yn=(0,a.useState)(!1),Nn=(0,o.Z)(yn,2),Sn=Nn[0],An=Nn[1],Cn=(0,a.useState)(!1),Zn=(0,o.Z)(Cn,2),En=Zn[0],wn=Zn[1],Dn=function(e){var t=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/prjRolesTree",data:{typ:"roles",prjId:""==fn?e:fn,dat:"0000-00-00",status:Nt},headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;console.log(n);var a,l=(0,O.Z)(n);try{for(l.s();!(a=l.n()).done;){var s=a.value;if("-1"===s.id&&"#"===s.parent){var r=s.text.replace(/<\/?[^>]+(>|$)/g,"");s.text=r}}}catch(i){l.e(i)}finally{l.f()}Et(n),It((function(e){return e+1})),_t(!0),wn(!0),clearTimeout(t),y(!1)}))},kn=(0,a.useState)([]),In=(0,o.Z)(kn,2),Pn=In[0],Tn=In[1],Rn=function(e){var t=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/prjRolesTree",data:{typ:"roles",prjId:""==Pn?e:Pn,dat:"0000-00-00",status:Nt},headers:{"Content-Type":"application/json"}}).then((function(e){var n,a=e.data,l=(0,O.Z)(a);try{for(l.s();!(n=l.n()).done;){var s=n.value;if("-1"===s.id&&"#"===s.parent){var r=s.text.replace(/<\/?[^>]+(>|$)/g,"");s.text=r}}}catch(i){l.e(i)}finally{l.f()}Et(a),It((function(e){return e+1})),_t(!0),An(!0),clearTimeout(t),y(!1)}))};return(0,a.useEffect)((function(){Rn()}),[Pn,Nt]),(0,a.useEffect)((function(){Dn()}),[fn,Nt]),(0,D.jsxs)("div",{children:[dn,(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Hierarchies"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:U,currentScreenName:["Hierarchies"]}),(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{pdfname:"Hierarchies.pdf",name:"Hierarchy Help"})}),(0,D.jsx)("div",{onClick:function(){d(!n),v(n?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:f})})]}),(0,D.jsxs)(R.V9,{visible:!n,children:[(0,D.jsxs)("div",{className:"group-content row",children:[(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-4",htmlFor:"Date",children:["View By ",(0,D.jsx)("span",{className:"error-text",children:"\xa0\xa0*"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{id:"viewby-select",onChange:function(e){G(e.target.value),X(e.target.value)},children:[(0,D.jsx)("option",{value:"csl",children:"CSL Hierarchy"}),(0,D.jsx)("option",{value:"dp",children:"DP Hierarchy"}),(0,D.jsx)("option",{value:"prj",children:"Project Hierarchy"}),(0,D.jsx)("option",{value:"acct",children:"Account Hierarchy"}),(0,D.jsx)("option",{value:"admin",children:"Admin Hierarchy"})]})})]})}),"csl"==W?(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-4",htmlFor:"Date",children:["CSL",(0,D.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:" multiselect",ref:function(e){Y.current[0]=e},children:(0,D.jsx)(c.NU,{id:"csl",ArrowRenderer:mn,options:tt,hasSelectAll:!0,isLoading:!1,selected:rt,shouldToggleOnHover:!1,disableSearch:!1,value:rt,disabled:!1,valueRenderer:function(e){return 0===e.length?(0,D.jsx)(D.Fragment,{children:"<<Please Select>>"}):e.length===tt.length?(0,D.jsx)(D.Fragment,{children:"<<ALL>>"}):void 0},onChange:function(e){it(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ut((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"csl",t.toString()))}))}})})})]})}):"dp"==W?(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-4",htmlFor:"Date",children:["Delivery Partner ",(0,D.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:" multiselect",ref:function(e){Y.current[1]=e},children:(0,D.jsx)(c.NU,{id:"dp",options:me,ArrowRenderer:mn,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:xe,disabled:!1,onChange:function(e){ge(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ut((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"dp",t.toString()))}))},valueRenderer:function(e){return 0===e.length?(0,D.jsx)(D.Fragment,{children:"<<Please Select>>"}):e.length===me.length?(0,D.jsx)(D.Fragment,{children:"<<ALL>>"}):void 0}})})})]})}):"prj"==W?(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-4",htmlFor:"Date",children:["Customer ",(0,D.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:" multiselect",ref:function(e){Y.current[2]=e},children:(0,D.jsx)(c.NU,{id:"prj",options:Ye,ArrowRenderer:mn,hasSelectAll:!0,isLoading:!1,selected:Ge,shouldToggleOnHover:!1,disableSearch:!1,value:Ge,disabled:!1,valueRenderer:function(e){return 0===e.length?(0,D.jsx)(D.Fragment,{children:"<<Select>>"}):"".concat(e.length," selected")},onChange:function(e){Ke(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ut((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"prj",t.toString()))}))}})})})]})}):"acct"==W?(0,D.jsx)("div",{className:" col-md-4 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-4",htmlFor:"Date",children:["Customer",(0,D.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("div",{className:" multiselect",ref:function(e){Y.current[0]=e},children:(0,D.jsx)(c.NU,{id:"acct",options:Be,ArrowRenderer:mn,hasSelectAll:!0,isLoading:!1,selected:Qe,shouldToggleOnHover:!1,disableSearch:!1,value:Qe,disabled:!1,valueRenderer:function(e){return 0===e.length?(0,D.jsx)(D.Fragment,{children:"<<Select>>"}):"".concat(e.length," selected")},onChange:function(e){Le(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ut((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"acct",t.toString()))}))}})})})]})}):""]}),(0,D.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 btn-container center my-1",children:(0,D.jsxs)("button",{className:"btn btn-primary",onClick:function(){(0,L.Z)(Y)?un((0,D.jsxs)("div",{className:"col-md-12 statusMsg error",children:[(0,D.jsx)(A.CSE,{}),(0,D.jsx)("span",{children:"Please select valid values for highlighted fields"})]})):(un(""),"csl"==W?(!function(){var e=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/getPartnerAccountHierarchy",data:{viewBy:z,cslList:Ft.csl},headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;re(a),Z(!0),clearTimeout(e),y(!1),d(!n),v(n?_.UdN:_.NR5)}))}(),_t(!1),wn(!1),bn(!1),$t(!1),jt(!1),rn(!1)):"dp"==W?(!function(){var e=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/getPartnerAccountHierarchy",data:{viewBy:z,dpList:Ft.dp},headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;re(a),Z(!0),clearTimeout(e),y(!1),d(!n),v(n?_.UdN:_.NR5)}))}(),_t(!1),wn(!1),bn(!1),$t(!1),jt(!1),rn(!1)):"prj"==W?(!function(){var e=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/getProjectHierarchy",data:{viewBy:z,dplList:Ft.dp,customer:Kt,UserId:P},headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;console.log(a),ne(a),Gt(!0),clearTimeout(e),y(!1),d(!n),v(n?_.UdN:_.NR5)}))}(),_t(!1),rn(!1),$t(!1),wn(!1),jt(!1)):"acct"==W?(!function(){var e=setTimeout((function(){y(!0)}),2e3);u()({method:"post",url:w+"/teamms/Hierarchy/getAccountHierarchy",data:{viewBy:z,dplList:Ft.dp,customer:Ft.acct},headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;re(a),console.log(se),$t(!0),clearTimeout(e),y(!1),d(!n),v(n?_.UdN:_.NR5)}))}(),_t(!1),rn(!1),wn(!1),bn(!1)):"admin"==W&&(rn(!0),_t(!1),$t(!1),jt(!1),wn(!1),bn(!1)),ft(!1),Z(!1),bn(!1),An(!1),Gt(!1))},children:[(0,D.jsx)(_.U41,{}),"Search"]})})]}),b?(0,D.jsx)(I.Z,{handleAbort:function(){Qt.current&&Qt.current.abort(),y(!1)}}):""]}),(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"row",children:[C?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"roleTableLegends",children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Se,title:"CSL Head"}),"CSL Head"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ne,title:"CSL"}),"CSL"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ee,title:"ACSL"}),"ACSL"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:we,title:"DP Head"}),"DP Head"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ae,title:"DP"}),"DP"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:De,title:"TP"}),"TP"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:ke,title:"PC"}),"PC"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ie,title:"SQA"}),"SQA"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ze,title:"AE"}),"AE"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ce,title:"Account Owner"}),"AW"]})]}),(0,D.jsx)("div",{style:{width:"100%",maxWidth:"40%"},children:(0,D.jsx)(Pe,{data:se,setActiveProjectsByCustomer:ut,setShowcslproject:ft,activeProjectsByCustomer:dt,expandedCols:[],setShowcslHieTable:wn,colExpandState:[]})})]}):"",1==pt?(0,D.jsx)("div",{className:"roleProject darkHeader",children:(0,D.jsx)(he.w,{value:dt,editMode:"row",showGridlines:!0,stripedRows:!0,scrollHeight:"425px",responsiveLayout:"scroll",children:(0,D.jsx)(j.s,{header:"Projects",alignHeader:"center",body:function(e){return(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(de.rU,{title:e.label,to:"/project/Overview/:".concat(e.id),target:"_blank",className:"ellipsis",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1},children:e.label}),(0,D.jsx)(E.DOT,{style:{cursor:"pointer"},onClick:function(t){Dn(e.id),console.log(e.id,"-----id and labels----",e.label),vn(e.id)}})]})}})})}):"",1==En&&Zt.length>0?(0,D.jsx)("div",{style:{width:"100%",maxWidth:"35%"},children:(0,D.jsxs)("div",{className:"",style:{backgroundColor:"#eeeeee38"},children:[(0,D.jsxs)("div",{className:"col-md-12",style:{borderBottom:"1px solid grey",background:"#f1eeee",height:"36px"},children:[(0,D.jsx)("label",{style:{float:"right",paddingTop:"7px"},children:(0,D.jsxs)("select",{style:{marginLeft:"10px"},id:"status",onChange:function(e){St(e.target.value),Dn()},children:[(0,D.jsx)("option",{value:"All",children:"All"}),(0,D.jsx)("option",{value:"Active",children:"Active"})]})}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{style:{textAlign:"center",color:"#297AB0",fontSize:"14px",paddingTop:"7px"},children:"Project Hierarchy"})})]}),1==En&&Rt?(0,D.jsx)(We,{defaultExpandedRows:String(-1),data:Zt,hierarchyCount:kt}):""]})}):""]})}),(0,D.jsxs)("div",{className:"col-md-12",children:[(0,D.jsx)(Xe,{projectHierarchy:te,setShowprojectHie:bn,showprojectHie:jn,searchProjecthierarchy:zt}),(0,D.jsx)("div",{className:"col-md-4",children:(0,D.jsx)("div",{className:"row",children:1==sn?(0,D.jsx)(st,{setNodeClicked:function(e){console.log(e),nn(e)}}):""})})]}),(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"row",children:[Xt?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"roleTableLegends",children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Se,title:"CSL Head"}),"CSL Head"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ne,title:"CSL"}),"CSL"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ee,title:"ACSL"}),"ACSL"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:we,title:"DP Head"}),"DP Head"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ae,title:"DP"}),"DP"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:De,title:"TP"}),"TP"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:ke,title:"PC"}),"PC"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ie,title:"SQA"}),"SQA"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ze,title:"AE"}),"AE"]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("img",{src:Ce,title:"Account Owner"}),"AW"]})]}),(0,D.jsx)("div",{style:{width:"100%",maxWidth:"40%"},children:(0,D.jsx)($e,{data:se,setActiveProjectsByCustomer:ut,setShowacchieDataTable:jt,activeProjectsByCustomer:dt,expandedCols:[],setShowacctHieTable:An,colExpandState:[]})})]}):"",1==gt?(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{className:"roleProject darkHeader",children:(0,D.jsx)(he.w,{value:dt,editMode:"row",showGridlines:!0,stripedRows:!0,scrollHeight:"425px",responsiveLayout:"scroll",children:(0,D.jsx)(j.s,{header:"Projects",alignHeader:"center",body:function(e){return(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(de.rU,{title:e.label,to:"/project/Overview/:".concat(e.id),target:"_blank",className:"ellipsis",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1},children:e.label}),(0,D.jsx)(E.DOT,{style:{cursor:"pointer"},onClick:function(t){Rn(e.id),Tn(e.id)}})]})}})})})}):"",1==Sn&&Zt.length>0?(0,D.jsx)("div",{style:{width:"100%",maxWidth:"35%"},children:(0,D.jsxs)("div",{className:"",style:{backgroundColor:"#eeeeee38"},children:[(0,D.jsxs)("div",{className:"col-md-12",style:{borderBottom:"1px solid grey",background:"#f1eeee",height:"36px"},children:[(0,D.jsx)("label",{style:{float:"right",paddingTop:"7px"},children:(0,D.jsxs)("select",{style:{marginLeft:"10px"},id:"status",onChange:function(e){St(e.target.value),Rn()},children:[(0,D.jsx)("option",{value:"All",children:"All"}),(0,D.jsx)("option",{value:"Active",children:"Active"})]})}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{style:{textAlign:"center",color:"#297AB0",fontSize:"14px",paddingTop:"7px"},children:"Project Hierarchy"})})]}),1==Rt?(0,D.jsx)(We,{defaultExpandedRows:String(-1),data:Zt,hierarchyCount:kt}):""]})}):""]})})]})},it=n(95269),ot=n(94026);var ct=function(e){var t=e.iconName,n=e.anchorEl,a=(e.setAnchorEl,e.handleClose),l=(e.setIconName,Boolean(n)?"my-popover":void 0);return console.log(t.includes("ytd")),(0,D.jsx)("div",{className:"",children:(0,D.jsx)(it.ZP,{disablePortal:!0,arrow:!0,open:Boolean(n),id:l,anchorEl:n,onClose:a,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,D.jsx)("div",{className:"",children:(0,D.jsx)(ot.Z,{children:(0,D.jsx)("div",{children:t.includes("ytd")?(0,D.jsx)("div",{className:"",children:(0,D.jsx)("p",{className:"mb-2",children:"Actual Utilization of current financial year till today."})}):t.includes("qtd")?(0,D.jsx)("div",{className:"",children:(0,D.jsx)("p",{className:"mb-2",children:"Actual Utilization of current quarter till today."})}):t.includes("nxt30_days")?(0,D.jsx)("div",{className:"",children:(0,D.jsx)("p",{className:"mb-2",children:"Planned Utilization for tomorrow to +30 days"})}):t.includes("nxt60_days")?(0,D.jsx)("div",{className:"",children:(0,D.jsx)("p",{className:"mb-2",children:"Planned Utilization for tomorrow to +60 days"})}):t.includes("average")?(0,D.jsx)("div",{className:"",children:(0,D.jsx)("p",{className:"mb-2",children:"Total Utilization of QTD and +60 days"})}):""})})})})})};function dt(e){var t={fte0:(0,D.jsx)("img",{src:z,alt:"(fte_inactive_icon)",style:{height:"12px"},title:"Ex-Employee"}),fte1:(0,D.jsx)("img",{src:V,alt:"(fte_active_icon)",style:{height:"12px"},title:"Active Employee"}),fte2:(0,D.jsx)("img",{src:G,alt:"(fte_notice_icon)",style:{height:"12px"},title:"Employee in notice period"}),subk0:(0,D.jsx)("img",{src:q,alt:"(subk_inactive_icon)",style:{height:"12px"},title:"Ex-Contractor"}),subk1:(0,D.jsx)("img",{src:K,alt:"(subk_active_icon)",style:{height:"12px"},title:"Active Contractor"}),subk2:(0,D.jsx)("img",{src:W,alt:"(subk_notice_icon)",style:{height:"12px"},title:"Contractor in notice period"})},n=e.data,l=e.expandedCols,s=e.colExpandState,c=(0,a.useState)(null),d=(0,o.Z)(c,2),u=d[0],m=d[1],h=(0,a.useState)(),p=(0,o.Z)(h,2),f=p[0],x=p[1],g=(0,a.useState)([]),j=(0,o.Z)(g,2),b=j[0],y=j[1],N=(0,a.useState)(null),S=(0,o.Z)(N,2),A=S[0],Z=S[1],E=(0,a.useState)({}),w=(0,o.Z)(E,2),k=w[0],I=w[1],P=(0,a.useState)(!1),T=(0,o.Z)(P,2),R=T[0],B=T[1],M=(0,a.useState)([]),F=(0,o.Z)(M,2),U=(F[0],F[1]),Q=(0,a.useState)(!1),L=(0,o.Z)(Q,2),J=L[0],O=L[1];(0,a.useEffect)((function(){}),[J]),(0,a.useEffect)((function(){$()}),[n.tableData]);var X=0,$=function(){var e,a,i="";i=1==R&&X>0?"expanded":"";var c,d=n.tableData,u=null;null!==n&&void 0!==n&&null!==(e=n.columns)&&void 0!==e&&e.includes("'")?u=null===n||void 0===n||null===(c=n.columns)||void 0===c?void 0:c.replaceAll("'",""):u=null===n||void 0===n?void 0:n.columns;for(var h=null===(a=u)||void 0===a?void 0:a.split(","),p=[],f=[],v={},g=0;g<(null===h||void 0===h?void 0:h.length);g++){var j=h[g].trim(),b=d[0];v[j]=b[j]}var N=Object.entries(v),S=["id","department","resource","departmentId","empStatus","lvl","count","keyAttr"],A=N.filter((function(e){return!S.includes(e[0])}));U(A),A.map((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];l.includes(n)&&f.push((0,r.Z)({},n,!1))})),I(Object.assign.apply(Object,[{}].concat(f))),A.map((function(e,n){var a=(0,o.Z)(e,2),l=a[0],r=a[1];p.push({accessorKey:l,header:r.includes("^&")?r.split("^&")[0]:r,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,D.jsxs)(D.Fragment,{children:[r.includes("^&")?r.split("^&")[0]:r," ",l===s[2]?(0,D.jsx)("span",{className:"expandIcon ".concat(i),children:(0,D.jsx)(H.Z,{onClick:function(){B((function(e){return!e}))},children:(0,D.jsx)(C.lU2,{})})}):l.includes("qrtr")||l.includes("emp_cadre")||l.includes("supervisor")?"":(0,D.jsx)("div",{style:{display:"inline-block",position:"relative",cursor:"pointer"},children:(0,D.jsx)(_.DAO,{className:"tableInfoIcon",onClick:function(e){m(e.currentTarget),x(l),O(!0)}})})]})},Cell:function(e){var n=e.cell,a=(null!==n.getValue()?n.getValue():"").replace(/\^&\d+\^&\d+/g,""),l=null===n.column.name;return(0,D.jsxs)("div",{className:"name"===n.column.id?"":"align right",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:l?"":a,children:["name"===n.column.id&&null!==n.row.original.parentId?(0,D.jsxs)("div",{className:"hExpandedTxt",children:[t[n.row.original.empStatus]," ",(0,D.jsx)("span",{children:l?"":a})]}):("emp_cadre"===n.column.id||"supervisor"===n.column.id||n.row.original.lvl,l?"":a),"name"===n.column.id||"emp_cadre"===n.column.id||"supervisor"===n.column.id||9999===n.row.original.id?"":"%"]})}})})),Z(p);var E=[];null===d||void 0===d||d.map((function(e){return-1!==e.id?E.push(e):""})),y(ne(E,{children:"subRows"}))};(0,a.useEffect)((function(){R?ee():te()}),[R]);var ee=function(){X++,$(),I({})},te=function(){$()},ne=function(e,t){t=(0,i.Z)({id:"id",parentId:"parentId",children:"subRows"},t);var n={},a=[],l=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId];n[a]=(0,i.Z)((0,i.Z)((0,r.Z)({},l,[]),e),n[a]),n[s]=n[s]||(0,r.Z)({},l,[]),n[s][l].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&a.push.apply(a,(0,v.Z)(e[l]))})),a};return(0,D.jsxs)("div",{className:"materialReactExpandableTable darkHeader",children:[null!==A&&void 0!==A&&A.length?(0,D.jsx)(Y.ZP,{columns:A,data:b,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,i.Z)({},k)},state:{columnVisibility:(0,i.Z)({},k)},defaultColumn:{minSize:40,maxSize:250,size:40},enableStickyHeader:!0,muiTableContainerProps:{sx:{maxHeight:"50vh",width:"auto",maxWidth:"fit-content"}},muiTableBodyProps:{sx:{"&":{},"& td":{borderRight:"1px solid #ccc",height:"22px",fontSize:"13px",paddingTop:"0px",paddingBottom:"0px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",fontSize:"13px",fontWeight:"bold"}}}}):null,u&&(0,D.jsx)(ct,{showPopup:J,setShowPopup:O,iconName:f,setIconName:x,anchorEl:u,setAnchorEl:m,handleClose:function(){m(!1)}})]})}var ut=function(){var e=localStorage.getItem("resId"),t=m.N.baseUrl,n=(0,a.useState)(!1),l=(0,o.Z)(n,2),s=l[0],d=l[1],h=(0,a.useState)(_.UdN),p=(0,o.Z)(h,2),f=p[0],x=p[1],g=(0,a.useState)(!1),j=(0,o.Z)(g,2),b=j[0],y=j[1],N=(0,a.useState)(!1),S=(0,o.Z)(N,2),Z=S[0],E=S[1],w=(0,a.useState)([]),k=(0,o.Z)(w,2),P=k[0],T=k[1],F=(0,a.useState)([]),U=(0,o.Z)(F,2),Q=U[0],J=U[1],O=(0,a.useState)([]),Y=(0,o.Z)(O,2),H=Y[0],V=Y[1],z=(0,a.useState)([]),G=(0,o.Z)(z,2),K=G[0],q=G[1],W=(0,a.useState)([]),X=(0,o.Z)(W,2),ee=X[0],ae=X[1],le=(0,a.useState)([]),se=(0,o.Z)(le,2),re=se[0],ie=se[1],oe=(0,a.useState)(!1),de=(0,o.Z)(oe,2),ue=de[0],me=de[1],he=(0,a.useRef)(null),pe=(0,a.useState)([]),fe=(0,o.Z)(pe,2),xe=fe[0],ge=fe[1],je=(0,a.useState)([]),be=(0,o.Z)(je,2),ye=be[0],Ne=be[1],Se=(0,a.useState)([]),Ae=(0,o.Z)(Se,2),Ce=(Ae[0],Ae[1]),Ze=(0,a.useRef)([]),Ee=(0,ce.TH)(),we=new URLSearchParams(Ee.search).get("id"),De=(0,a.useState)(!1),ke=(0,o.Z)(De,2),Ie=ke[0],Pe=ke[1],Te=(0,a.useState)([]),Re=(0,o.Z)(Te,2),_e=Re[0],Be=Re[1],Me=(0,a.useState)([]),Fe=(0,o.Z)(Me,2),Ue=Fe[0],Qe=Fe[1];(0,a.useEffect)((function(){Le()}),[]);var Le=function(){u()({method:"GET",url:t+"/CommonMS/master/getMenus?loggedUserId=".concat(e)}).then((function(e){var t=e.data;console.log(t);var n=e.data[3].subMenus[1].url_path.replace(/::/g,"/");Je(n),t.forEach((function(e){"Utilisation Metrics"===e.display_name&&Qe([e])}))}))},Je=function(n){console.log(n,"inlne294-------------------------"),u()({method:"get",url:t+"/CommonMS/security/authorize?url=".concat(n,"&userId=").concat(e)}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){}))};(0,a.useEffect)((function(){u()({method:"get",url:t+"/dashboardsms/savedsearch/FiltersData?saved_search_id=".concat(null===we?0:we)}).then((function(e){var t=e.data;Be(t)}))}),[]);var Oe=(0,a.useState)({}),Ye=(0,o.Z)(Oe,2),He=Ye[0],Ve=Ye[1];(0,a.useEffect)((function(){Ve((function(){return null!=we?{BuIds:_e.buIds||_e.BuIds,CountryIds:_e.countryIds||_e.CountryIds,resType:_e.type||_e.resType,lkup_name:_e.allocType||_e.lkup_name}:{BuIds:"170,211,123,82,168,207,212,18,213,49,149,208,243",CountryIds:"6,5,3,8,7,1,2",resType:"fte",lkup_name:"-1"}}))}),[_e]),(0,a.useEffect)((function(){if(null!=we){var e=Q.filter((function(e){var t;return null===(t=_e.BuIds)||void 0===t?void 0:t.includes(e.value)})),t=H.filter((function(e){var t;return null===(t=_e.CountryIds)||void 0===t?void 0:t.includes(e.value)})),n=ee.filter((function(e){var t;return null===(t=He.lkup_name)||void 0===t?void 0:t.includes(e.value)}));"-1"==He.lkup_name?ie(ee):ie(n),q(t),T(e)}}),[we,Q,ee,H,null===_e||void 0===_e?void 0:_e.BuIds,_e.CountryIds]),(0,a.useEffect)((function(){null!=we&&setTimeout((function(){ze()}),3e3)}),[He]);var ze=function(){var e=(0,L.Z)(Ze);e?me(!0):e||(Ge(),y(!0),he.current=new AbortController,me(!1))},Ge=function(){y(!0),he.current=new AbortController,u()({method:"post",url:t+"/UtilityMS/getUtilizationFyc?buIds=".concat(He.BuIds,"&countryIds=").concat(He.CountryIds,"&type=").concat(He.resType,"&allocType=").concat(He.lkup_name,"&isExport=0&UserId=").concat(e),signal:he.current.signal}).then((function(n){var a=n.data;Ne(a),u()({method:"get",url:t+"/UtilityMS/getColumnsData?reportRunId=".concat(e)}).then((function(e){var t=e.data.val;Ce(t);var n={};n.columns=t,n.tableData=a,ge(n),y(!1),E(!0)}))})).then((function(e){console.log("success",e)})),y(!1)};(0,a.useEffect)((function(){u().get(t+"/CostMS/cost/getDepartments").then((function(e){var t=[],n=e.data;n.push({value:999,label:"Non-Revenue Units"}),n.length>0&&n.forEach((function(e){var n={label:e.label,value:e.value};t.push(n)})),J(t);var a=JSON.parse(JSON.stringify(t)).filter((function(e){return 0==e.label.includes("Non-Revenue Units")}));null==we&&T(a)})).catch((function(e){return console.log(e)})),u().get(t+"/CostMS/cost/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};"NM"!=e.country_name&&t.push(n)})),V(t),null==we&&q(t)})).catch((function(e){return console.log(e)})),u().get(t+"/UtilityMS/getAllocType").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.lkup_name,value:e.id};t.push(n)})),ae(t),null==we&&ie(t)})).catch((function(e){return console.log(e)}))}),[]),(0,a.useEffect)((function(){null===we&&setTimeout((function(){ze()}),2e3)}),[Q,H]);var Ke=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},qe=function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return 0!==n.length&&n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")};return(0,D.jsxs)("div",{children:[ue?(0,D.jsxs)("div",{className:"statusMsg error",children:[" ",(0,D.jsx)(A.CSE,{})," Please select valid values for highlighted fields"]}):"",Ie?(0,D.jsx)("div",{className:"statusMsg success",children:(0,D.jsxs)("span",{className:"errMsg",children:[(0,D.jsx)(C.hXj,{size:"1.4em"})," \xa0 Search created successfully."]})}):"",(0,D.jsx)("div",{className:"col-md-12",children:(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Utilisation - FY"})}),(0,D.jsx)("div",{className:"childThree"})]})}),(0,D.jsx)(B.Z,{routes:Ue,currentScreenName:["Utilisation - FY"]}),b?(0,D.jsx)(I.Z,{handleAbort:function(){he.current&&he.current.abort(),y(!1)}}):"",(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{pdfname:"SegmentationFinancials.pdf",name:"Segmentation Help"})}),(0,D.jsx)("div",{className:"saveBtn",children:(0,D.jsx)(ve.Z,{setEditAddmsg:Pe,pageurl:"http://10.11.12.149:3000/#/operational/staffUtilization",page_Name:"Staff Utilization",payload:He})}),"\xa0",(0,D.jsx)("div",{onClick:function(){d(!s),x(s?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:f})})]}),(0,D.jsxs)(R.V9,{visible:!s,children:[(0,D.jsxs)("div",{className:"group-content row",children:[(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"searchType",children:["BU\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ze.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:Ke,id:"BuIds",value:P,options:Q,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,valueRenderer:qe,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<<Please Select>>"},disabled:!1,onChange:function(e){T(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ve((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"BuIds",t.toString()))}))}})})]})}),(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5 ",htmlFor:"resType",children:["Country\xa0",(0,D.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ze.current[1]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:Ke,id:"CountryIds",options:H,hasSelectAll:!0,value:K,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,valueRenderer:qe,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<<Please Select>>"},onChange:function(e){q(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ve((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"CountryIds",t.toString()))}))}})})]})}),(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"resLocation",children:"Res. Type"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("select",{className:"text",id:"resType",name:"resType",defaultValue:"fte",onChange:function(e){var t=e.target,n=t.value,a=t.id;Ve((0,i.Z)((0,i.Z)({},He),{},(0,r.Z)({},a,n)))},value:He.resType,children:[(0,D.jsx)("option",{value:"-1",children:" <<ALL>>"}),(0,D.jsx)("option",{value:"fte",children:"Employee"}),(0,D.jsx)("option",{value:"subk",children:"Contractors"})]})})]})}),(0,D.jsx)("div",{className:" col-md-3 ",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsxs)("label",{className:"col-5",htmlFor:"duration",children:["Alloc. Type"," "]}),(0,D.jsx)("span",{className:"col-1 ",children:":"}),(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)(c.NU,{ArrowRenderer:Ke,id:"lkup_name",options:ee,hasSelectAll:!0,value:re,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,valueRenderer:qe,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<<Please Select>>"},onChange:function(e){ie(e);var t=[];e.forEach((function(e){t.push(e.value)})),Ve((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"lkup_name",t.toString()))}))}})})]})})]}),(0,D.jsx)("div",{className:" form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-3 ",children:(0,D.jsxs)("button",{className:"btn btn-primary",type:"submit",onClick:function(){ze(),E(!1)},children:[(0,D.jsx)(_.U41,{})," Search"]})})]})]}),1==Z?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:"col-md-12 clearfix",style:{height:"5px"},children:(0,D.jsx)("div",{children:(0,D.jsx)("span",{children:(0,D.jsxs)("span",{style:{color:"#9d7c42",fontStyle:"italic"},children:[(0,D.jsx)(ne.Hfo,{style:{marginTop:"-5px"}})," Values are of Actual Utilization for past quarters and Planned Utilization for future quarters"]})})})}),(0,D.jsxs)("div",{align:"right",children:[(0,D.jsx)($.WlY,{size:"1.5em",title:"Export to Excel",style:{color:"green",float:"right"},cursor:"pointer",onClick:function(){var e=["lvl","departmentId","count","keyAttr","parentId","empStatus","id"],t={department:"Department",resource:"Resource",emp_cadre:"Cadre",supervisor:"Supervisor",ytd:"YTD",qtd:"QTD (24-Q2)",nxt30_days:"+30 days",nxt60_days:"+60 days",average:"Average"},n={"2023_04_01_qrtr":"2024-Q1","2024_01_01_qrtr":"2024-Q4","2023_10_01_qrtr":"2024-Q3"},a=Array.from(new Set(ye.slice(2).flatMap((function(e){return Object.keys(e)})).filter((function(e){return e.match(/^\d{4}_\d{2}_\d{2}_/)})))).map((function(e){return e.replace("^&1^&1^&","").replace("^&1^&1^&","")})),l=Object.keys(t),s=[].concat((0,v.Z)(l.map((function(e){return t[e]}))),(0,v.Z)(a.map((function(e){return n[e]||e})))),r=ye.slice(2).map((function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var n=(0,o.Z)(t,1)[0];return!e.includes(n)})))})).slice(1).filter((function(e){return""!==e.resource&&""!==e.supervisor})).map((function(e){return[].concat((0,v.Z)(l.map((function(t){return e[t]?e[t]:""}))),(0,v.Z)(a.map((function(t){return e[t]?e[t]:""}))))})),i=new(te().Workbook),c=i.addWorksheet("StaffUtilization");c.addRow(s).font={bold:!0};for(var d=0;d<r.length;d++)c.addRow(r[d]);[1].forEach((function(e){c.getRow(e).font={bold:!0}})),i.xlsx.writeBuffer().then((function(e){saveAs(new Blob([e]),"StaffUtilization.xlsx")}))}}),(0,D.jsx)("br",{})]}),(0,D.jsx)("div",{children:(0,D.jsx)(dt,{data:xe,expandedCols:["emp_cadre","supervisor"],colExpandState:["0","0","name"]})})]}):""]})},mt=(n(73220),n(41980),n(39122),n(31896),n(81975),n(17153),n(12003)),ht=n.n(mt),pt=n(53179);function ft(e,t,n){return n.filter((function(e){return"Total"!==e.cadre&&"Pyramid Alignment Index"!==e.cadre})).map((function(e){return"ideal"==t?parseFloat(e[t]):parseFloat(e[t+"_pi"])})).every((function(e){return 0===e}))?"":{chart:{type:"pyramid"},title:{text:e,align:"center",style:{fontSize:"14px",fontWeight:"bold",fontFamily:"Arial"},verticalAlign:"top",y:10},tooltip:{enabled:!1},plotOptions:{pyramid:{reversed:!0},series:{dataLabels:{enabled:!0,format:"<b>{point.name}({point.y:,.1f})%</b>",softConnector:!0},center:["35px","50%"],width:"60px",margin:"0",showInLegend:!0}},credits:{enabled:!1},legend:{enabled:!1,verticalAlign:"bottom",align:"center"},series:[{data:n.filter((function(e){return"Total"!==e.cadre&&"Pyramid Alignment Index"!==e.cadre})).map((function(e){return{name:e.cadre,y:"ideal"==t?parseFloat(e[t]):parseFloat(e[t+"_pi"])}})).reverse()}]}}n.n(pt)()(fe());var vt=function(e){var t=e.data,n=e.Header,l=(0,a.useState)([]),s=(0,o.Z)(l,2),r=s[0],i=s[1],c=(0,a.useState)(null),d=(0,o.Z)(c,2),u=d[0],m=d[1],h=(0,a.useState)([]),p=(0,o.Z)(h,2),f=p[0],x=p[1],g=(0,a.useState)([]),b=(0,o.Z)(g,2),y=b[0],N=b[1],S=(0,a.useState)([]),A=(0,o.Z)(S,2),C=A[0],Z=A[1],E=(0,a.useState)([]),w=(0,o.Z)(E,2),k=w[0],I=w[1];console.log("Header Data",n),console.log("Table Data",t),(0,a.useEffect)((function(){i(JSON.parse(JSON.stringify(t)))}),[t]),(0,a.useEffect)((function(){if(r.length>0){for(var e={},a=function(t){var a=JSON.parse(JSON.stringify(Object.keys(r[0])));if(0==["cadre","ideal"].includes(n[t].id)){Z(a);for(var l=a.filter((function(e){return e.includes(n[t].id)})),s=0;s<l.length;s++)e[l[s]]=0==s?n[t].value:""}else e[n[t].id]=n[t].value},l=0;l<n.length;l++)a(l);[].push(e);var s={},i=[];Object.keys(e).forEach((function(t){var n=t.includes("_")&&t.split("_");void 0!=n[0]&&i.push(n[0]),t.includes("pi")?s[t]="pi":t.includes("count")?s[t]="count":s[t]=e[t]}));var o=(0,v.Z)(new Set(i)),c=Array.from(o),d={};d.cadre=s.cadre,d.ideal=s.ideal;for(var u=0;u<c.length;u++)d[c[u]+"_pi"]=s[c[u]+"_pi"],d[c[u]+"_count"]=s[c[u]+"_count"];x(d),m((function(){return(0,D.jsxs)(oe.E,{children:[(0,D.jsx)(me.X,{children:Object.keys(d).map((function(t){if(""!==e[t]){var n=e[t],a=["Cadre","Ideal"].includes(e[t]),l=a?"":2,s=a?2:1;return console.log(e[t]),(0,D.jsx)(j.s,{header:function(){return(0,D.jsx)("div",{title:n,children:n})},colSpan:l,rowSpan:s})}}))}),(0,D.jsx)(me.X,{children:Object.keys(d).map((function(e){return 0==["Cadre","Ideal"].includes(d[e])&&(0,D.jsx)(j.s,{header:function(){return(0,D.jsx)("div",{title:e.includes("pi")?"PI":"Count",children:e.includes("pi")?"PI":"Count"})},style:{minWidth:"87px",maxWidth:"87px",textAlign:"center"}})}))})]})}));var h=r.map((function(e){var t={};for(var n in e)if(n.includes("_pi"))t[n]=(0,D.jsx)("div",{style:{textAlign:"right",color:"black"},className:"piPI",children:(0,D.jsxs)("strong",{title:e[n].toFixed(1)+"%",children:[e[n].toFixed(1)," %"]})});else if(n.includes("ideal"))t[n]=(0,D.jsxs)("div",{style:{textAlign:"right",color:"black"},title:e[n]+"%",className:"piIdeal",children:[e[n]," %"]});else if(n.includes("_count"))t[n]=(0,D.jsx)("div",{style:{textAlign:"right",color:"black"},className:"piCount",title:0!==e[n]?e[n]:null,children:e[n]});else if("cadre"!==n||"Total"!==e[n]&&"Pyramid Alignment Index"!==e[n])"cadre"===n&&"Total"===e[n]?(e[n],displayData):"cadre"!=n||"T1"!=e[n]&&"E1"!=e[n]&&"E2"!=e[n]&&"E3"!=e[n]?"cadre"==n&&"L"==e[n]?t[n]=(0,D.jsx)("div",{title:"L1, L2, L3",style:{color:"black"},children:e[n]}):"cadre"==n&&"M"==e[n]?t[n]=(0,D.jsx)("div",{title:"M1, M2, M3, A1, A2, A3",style:{color:"black"},children:e[n]}):"cadre"==n&&"G"==e[n]?t[n]=(0,D.jsx)("div",{title:"G1, G2, G3, EA1, EA2, EA3",style:{color:"black"},children:e[n]}):t[n]=e[n]:t[n]=(0,D.jsx)("div",{title:e[n],style:{color:"black"},children:e[n]});else{var a=e[n];"Pyramid Alignment Index"===e[n]&&(a="Pyramid Alignment\nIndex"),t[n]=(0,D.jsx)("div",{style:{whiteSpace:"pre",textAlign:"right"},children:(0,D.jsx)("strong",{title:e[n],children:a})})}return t}));N(h);for(var p=[],f=0;f<n.length;f++){var g=ft(n[f].value,n[f].id,t);p.push(g)}I(p)}}),[r]);var P=Object.keys(f).map((function(e,t){var n;return"cadre"===e||"ideal"===e?n=(0,D.jsx)(j.s,{rowSpan:2,field:e},e):(e.includes("_pi")||e.includes("_count"))&&(n=(0,D.jsx)(j.s,{field:e},e)),n}));return(0,D.jsxs)("div",{className:"primeReactTable darkHeader my-3",children:[null!=u&&y.length>0?(0,D.jsx)(he.w,{headerColumnGroup:u,value:y,showGridlines:!0,rows:15,rowHover:!0,dataKey:"id",responsiveLayout:"scroll",emptyMessage:"No Records found.",className:"primeReactTable pyramidTable",children:P}):"",(0,D.jsx)("div",{className:"row",children:(0,D.jsxs)("div",{className:"legendContainer mt-3",children:[(0,D.jsx)("strong",{children:"Legends :"}),(0,D.jsxs)("div",{className:"legend skyblue",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"T1"}),"- Trainees,"]})]}),(0,D.jsxs)("div",{className:"legend darkgray",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"E1"}),"- Associate Engineers,"]})]}),(0,D.jsxs)("div",{className:"legend lightgreen",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"E2"}),"- Engineers,"]})]}),(0,D.jsxs)("div",{className:"legend lightorange",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"E3"}),"- Senior Engineers,"]})]}),(0,D.jsxs)("div",{className:"legend purple",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"L"}),"- Leads,"]})]}),(0,D.jsxs)("div",{className:"legend crimson",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"M"}),"- Managers,"]})]}),(0,D.jsxs)("div",{className:"legend golden",children:[(0,D.jsx)("div",{className:"legendCircle"}),(0,D.jsxs)("div",{className:"legendTxt",children:[(0,D.jsx)("strong",{children:"G"}),"- Delivery Managers"]})]})]})}),(0,D.jsx)("div",{className:" pyramids",children:n.map((function(e,t){var n=k[t];return"ideal"==e.id?n?(0,D.jsx)(ht(),{highcharts:fe(),options:n},e.id):null:C.includes(e.id+"_pi")&&"cadre"!==e.id&&"ideal"!==e.id&&n?(0,D.jsx)(ht(),{highcharts:fe(),options:n},e.id):null}))})]})};var xt=function(){var e,t,n=(0,a.useState)(!1),d=(0,o.Z)(n,2),h=d[0],p=d[1],f=(0,a.useState)(_.UdN),v=(0,o.Z)(f,2),x=v[0],g=v[1],j=(0,a.useState)("BU"),b=(0,o.Z)(j,2),y=(b[0],b[1],(0,a.useState)(!1)),N=(0,o.Z)(y,2),S=N[0],C=N[1],Z=(0,a.useState)([]),E=(0,o.Z)(Z,2),w=E[0],k=E[1],P=(0,a.useState)([]),T=(0,o.Z)(P,2),F=T[0],U=T[1],Q=(0,a.useState)([]),J=(0,o.Z)(Q,2),O=J[0],Y=J[1],H=(0,a.useState)([]),V=(0,o.Z)(H,2),z=V[0],G=V[1],K=(0,a.useState)([]),q=(0,o.Z)(K,2),W=q[0],X=q[1],$=(0,a.useState)([]),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],ae=(0,a.useState)([]),le=(0,o.Z)(ae,2),se=le[0],re=le[1],ie=(0,a.useState)([]),oe=(0,o.Z)(ie,2),ce=oe[0],de=oe[1],ue=(0,a.useState)([]),me=(0,o.Z)(ue,2),he=me[0],pe=me[1],fe=(0,a.useState)([]),ve=(0,o.Z)(fe,2),xe=ve[0],ge=ve[1],je=(0,a.useState)([]),be=(0,o.Z)(je,2),ye=be[0],Ne=be[1],Se=(0,a.useState)([]),Ae=(0,o.Z)(Se,2),Ce=Ae[0],Ze=Ae[1];console.log(Ce);var Ee=(0,a.useState)([{}]),we=(0,o.Z)(Ee,2),De=we[0],ke=we[1],Ie=(0,a.useState)(),Pe=(0,o.Z)(Ie,2),Te=Pe[0],Re=Pe[1],_e=(0,a.useState)(!1),Be=(0,o.Z)(_e,2),Me=(Be[0],Be[1]),Fe=(0,a.useState)(""),Ue=(0,o.Z)(Fe,2),Qe=Ue[0],Le=Ue[1],Je=(0,a.useState)(""),Oe=(0,o.Z)(Je,2),Ye=Oe[0],He=Oe[1],Ve=(0,a.useState)(!1),ze=(0,o.Z)(Ve,2),Ge=ze[0],Ke=ze[1],qe=(0,a.useState)(!1),We=(0,o.Z)(qe,2),Xe=We[0],$e=We[1],et=(0,a.useRef)([]),tt=(0,a.useRef)(null),nt=(0,a.useState)(""),at=(0,o.Z)(nt,2),lt=at[0],st=(at[1],(0,a.useState)("")),rt=(0,o.Z)(st,2),it=(rt[0],rt[1],m.N.baseUrl),ot=(0,a.useState)(!0),ct=(0,o.Z)(ot,2),dt=ct[0],ut=ct[1],mt=(0,a.useState)(!0),ht=(0,o.Z)(mt,2),pt=ht[0],ft=ht[1],xt={BU:"-1",CSL:"-1",DP:"-1",account:"-1",project:"-1",country:"1,2,3,5,6,7,8"},gt=(0,a.useState)(""),jt=(0,o.Z)(gt,2),bt=jt[0],yt=(jt[1],(0,a.useState)(xt)),Nt=(0,o.Z)(yt,2),St=Nt[0],At=Nt[1];console.log(St);var Ct=localStorage.getItem("resId"),Zt=(0,a.useState)([]),Et=(0,o.Z)(Zt,2),wt=Et[0],Dt=Et[1],kt=(0,a.useState)([]),It=(0,o.Z)(kt,2),Pt=(It[0],It[1]),Tt=(0,a.useState)([]),Rt=(0,o.Z)(Tt,2),_t=Rt[0],Bt=Rt[1],Mt=(0,a.useState)([]),Ft=(0,o.Z)(Mt,2),Ut=Ft[0],Qt=Ft[1];console.log(F),(0,a.useEffect)((function(){Lt()}),[wt]);var Lt=function(){u().get(it+"/CommonMS/master/getMenus?loggedUserId=".concat(Ct)).then((function(e){var t,n,a=e.data.map((function(e){return e.subMenus&&(e.subMenus=e.subMenus.filter((function(e){return"Monthly Revenue Trend"!==e.display_name&&"Revenue & Margin Variance"!==e.display_name&&"Rev. Projections"!==e.display_name&&"Project Timesheet (Deprecated)"!==e.display_name&&"Financial Plan & Review"!==e.display_name&&"Billable Utilization Trend"!==e.display_name&&"Utilisation - FY"!==e.display_name&&"NB Work - 4  Prev. Weeks"!==e.display_name&&"Practice Calls [Deprecated]"!==e.display_name}))),e}));Pt(a);var l=null===(t=a.find((function(e){return"Utilisation Metrics"===e.display_name})))||void 0===t||null===(n=t.subMenus.find((function(e){return"Pyramid Index"===(null===e||void 0===e?void 0:e.display_name)})))||void 0===n?void 0:n.userRoles,s=[],r=null===l||void 0===l?void 0:l.includes("641"),i=null===l||void 0===l?void 0:l.includes("690");r||i||(s.push({label:"Bussiness Unit",value:"BU"}),s.push({label:"CSL",value:"CSL"}),s.push({label:"DP",value:"DP"})),r&&s.push({label:"CSL",value:"CSL"}),i&&s.push({label:"DP",value:"DP"}),Qt(s),qt(s[0].value),a.forEach((function(e){"Utilisation Metrics"===e.display_name&&Bt([e])}));var o=a.find((function(e){return"Utilisation Metrics"===e.display_name})).subMenus.find((function(e){return"Pyramid Index"===e.display_name})),c="641"===o.userRoles?641:"690"===o.userRoles?690:o.userRoles.includes("641")&&o.userRoles.includes("690")?"620":null;console.log("Access Level:",c),Dt(c),Yt(c),Ht(c)}))};console.log(641==bt,"daddy"),console.log("641,690"==bt?"mummy":"franu");var Jt=function(e){e.expanded;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(_.qL$,{className:"chevronIcon"})})},Ot=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var t,n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:it+"/CostMS/cost/getDepartments"});case 2:t=e.sent,n=(n=t.data).filter((function(e){return e.value>=0})),k(n),a=[],n.forEach((function(e){a.push(e.value)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(wt),(0,a.useEffect)((function(){}),[wt]);var Yt=function(e){console.log(e),u().get(641==e||620==e?it+"/CommonMS/master/getCSLDPAE?loggedUserId=".concat(Ct):it+"/UtilityMS/PyramidIndex/GetCustomerCslList").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.PersonName,value:e.id};t.push(n)})),641!=wt&&620!=wt&&t.push({label:"UnAssigned",value:999}),re(t)}))},Ht=function(e){u().get(620==e||690==e?it+"/CommonMS/master/getDP?loggedUserId=".concat(Ct):it+"/UtilityMS/PyramidIndex/getCustomerDelParatnerList").then((function(e){var t=[],n=e.data;console.log("data>>",n),n.length>0&&n.forEach((function(e){var n={label:e.PersonName,value:e.id};t.push(n)})),690!=wt&&620!=wt&&t.push({label:"UnAssigned",value:999}),pe(t)}))};(0,a.useEffect)((function(){641!=wt&&690!=wt||(Yt(),Ht())}),[wt]),(0,a.useEffect)((function(){u().get(it+"/UtilityMS/PyramidIndex/getCustomers?buId=".concat(Qe.ff)).then((function(e){var t=e.data;t=t.filter((function(e){return e.value>=0&&null!=e.value})),Y(t);var n=[];t.forEach((function(e){n.push(e.value)}))})).catch((function(e){console.log(e)}))}),[Qe]),(0,a.useEffect)((function(){u().get(it+"/UtilityMS/PyramidIndex/getProjects?custId=".concat(Ye.cc,"&buId=").concat(Qe.ff)).then((function(e){var t=e.data;t=t.filter((function(e){return e.value>=0})),X(t);var n=[];t.forEach((function(e){n.push(e.value)}))})).catch((function(e){console.log(e)}))}),[Ye]),(0,a.useEffect)((function(){var e=[];ye.forEach((function(t){e.push(t.value)})),At((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},"country",e.toString()))}))}),[ye]),(0,a.useEffect)((function(){Ot(),Yt(),Ht()}),[De]),(0,a.useEffect)((function(){u().get(it+"/revenuemetricsms/headCountAndTrend/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.countryName,value:e.id};t.push(n)}));var a=t.sort((function(e,t){var n=e.label.toUpperCase(),a=t.label.toUpperCase();return n<a?-1:n>a?1:0}));Ne(a),Ze(t)})).catch((function(e){return console.log(e)}))}),[]);var Vt=function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return 0!=n.length&&n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")};console.log(lt,"cslsate===----"),console.log(Ut);var zt=(0,a.useState)(Ut?null===(e=Ut[0])||void 0===e?void 0:e.value:""),Gt=(0,o.Z)(zt,2),Kt=Gt[0],qt=Gt[1];return(0,a.useEffect)((function(){console.log(Kt)}),[Kt]),console.log(wt),(0,D.jsxs)("div",{children:[S?(0,D.jsxs)("div",{className:"statusMsg error",children:[" ",(0,D.jsx)(A.CSE,{})," Please select valid values for highlighted fields"]}):"",(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Pyramid Index"})}),(0,D.jsx)("div",{className:"childThree"})]}),(0,D.jsx)(B.Z,{routes:_t,currentScreenName:["Pyramid Index"]}),(0,D.jsx)("div",{children:(0,D.jsxs)("div",{className:"group mb-3 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{children:"Search Filters"}),(0,D.jsx)("div",{className:"helpBtn",children:(0,D.jsx)(M.Z,{pdfname:"PyramidIndex.pdf",name:"Pyramid Index Help"})}),(0,D.jsx)("div",{onClick:function(){p(!h),g(h?_.UdN:_.NR5)},children:(0,D.jsx)("span",{children:x})})]}),(0,D.jsx)(R.V9,{visible:!h,children:(0,D.jsxs)("div",{className:"group-content row",children:[(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"ViewBy",children:"View By"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",children:(0,D.jsx)("select",{defaultValue:Ut?null===(t=Ut[0])||void 0===t?void 0:t.value:"",id:"ViewBy",name:"ViewBy",onChange:function(e){var t={BU:{CSL:-1,DP:-1,BU:F.filter((function(e){return void 0!==e.value})).map((function(e){return e.value})).join(",")},CSL:{BU:-1,account:-1,DP:-1,CSL:ce.filter((function(e){return void 0!==e.value})).map((function(e){return e.value})).join(",")},DP:{BU:-1,account:-1,CSL:-1,DP:xe.filter((function(e){return void 0!==e.value})).map((function(e){return e.value})).join(",")}};t.hasOwnProperty(e.target.value)&&At((function(n){return(0,i.Z)((0,i.Z)({},n),t[e.target.value])})),qt(e.target.value)},children:Ut.map((function(e){return(0,D.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),"BU"==Kt&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"BU",children:"BU"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",ref:function(e){et.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"BU",options:w,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:F,disabled:!1,onChange:function(e){if(1!=e.length)ut(!0),ft(!0),G([]),ne([]),Le(""),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"account",-1))})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"project",-1))}));else{ut(!1);var t=[];e.forEach((function(e){t.push(e.value)})),Le((function(e){return(0,i.Z)((0,i.Z)({},e),{},{ff:t})}))}U(e);var n=[];e.forEach((function(e){n.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"BU",n.toString()))}))},valueRenderer:Vt})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"Customer",children:"Customer"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6 ",children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"Customer",className:"multiselect  ".concat(dt?"disableField":""),options:O,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:z,disabled:dt,onChange:function(e){if(1!=e.length)console.log(">>>>>>>>>>>>"),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},{project:-1})})),He(""),ft(!0),ne([]);else{var t=[];e.forEach((function(e){t.push(e.value)})),He((function(e){return(0,i.Z)((0,i.Z)({},e),{},{cc:t})})),ft(!1)}G(e);var n=[];e.forEach((function(e){n.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"account",n.toString()))}))},valueRenderer:Vt})})]})}),(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"Project",children:"Project"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"project",className:"multiselect  ".concat(pt?"disableField":""),options:W,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:te,disabled:pt,onChange:function(e){ne(e);var t=[];e.forEach((function(e){t.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"project",t.toString()))}))},valueRenderer:Vt})})]})})]}),"CSL"==Kt&&(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"CSL",children:"CSL"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",ref:function(e){et.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"CSL",options:se,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:ce,valueRenderer:Vt,onChange:function(e){de(e);var t=[];e.forEach((function(e){t.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"CSL",t.toString()))}))}})})]})}),"DP"==Kt&&(0,D.jsx)("div",{className:" col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"DP",children:"DP"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",ref:function(e){et.current[0]=e},children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"DP",options:he,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:xe,onChange:function(e){ge(e);var t=[];e.forEach((function(e){t.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"DP",t.toString()))}))},valueRenderer:Vt})})]})}),(0,D.jsx)("div",{className:"col-md-3 mb-2",children:(0,D.jsxs)("div",{className:"form-group row",children:[(0,D.jsx)("label",{className:"col-5",htmlFor:"Country",children:"Country"}),(0,D.jsx)("span",{className:"col-1",children:":"}),(0,D.jsx)("div",{className:"multiselect col-6",children:(0,D.jsx)(c.NU,{ArrowRenderer:Jt,id:"country",options:ye,hasSelectAll:!0,value:Ce,disabled:!1,onChange:function(e){Ze(e);var t=[];e.forEach((function(e){t.push(e.value)})),At((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},"country",t.toString()))}))},valueRenderer:Vt})})]})}),(0,D.jsxs)("div",{className:"col-12 btn-container center mb-2",children:[(0,D.jsxs)("button",{type:"submit",onClick:function(e){var t=(0,L.Z)(et);1==t&&(C(!0),$e(!1),setTimeout((function(){C(!1)}),3e3)),t||($e(!1),tt.current=new AbortController,u()({method:"post",url:it+"/UtilityMS/PyramidIndex/GetPyramidIndexHeader?projectIds=".concat(""==St.project?-1:St.project,"&unitId=").concat(St.BU,"&accountIds=").concat(""==St.account?-1:St.account,"&CSLIDS=").concat(St.CSL,"&DPIDS=").concat(St.DP)}).then((function(e){var t=e.data;console.log(t,"Updated Data"),console.log("Inside GetPyramidIndexHeader axios call.....");var n=t.sort((function(e,t){return"Cadre"===e.value?-1:"Cadre"===t.value?1:"Ideal"===e.value?-1:"Ideal"===t.value?1:e.value.localeCompare(t.value)}));Re(n)})).catch((function(e){console.log(e)})),u()({method:"post",url:it+"/UtilityMS/PyramidIndex/GetPyramidIndex?projectIds=".concat(""==St.project?-1:St.project,"&unitId=").concat(St.BU,"&accountIds=").concat(""==St.account?-1:St.account,"&CSLIDS=").concat(St.CSL,"&DPIDS=").concat(St.DP,"&countryIds=").concat(0==St.country.length?"1,2,3,5,6,7,8":St.country),signal:tt.current.signal}).then((function(e){console.log(e.data,"Table Data");var n=e.data;n.map((function(e){"Pyramid Alignment Index"==e.cadre&&Object.keys(e).forEach((function(t){t.includes("count")&&0==e[t]&&(e[t]="")}))})),console.log("Inside GetPyramidIndex axios call....."),ke(n),Me(!0),Ke(!0),$e(!1),!t&&p(!h),g(h?_.UdN:_.NR5)})).catch((function(e){console.log(e)})))},className:"btn btn-primary",children:[(0,D.jsx)(_.U41,{})," Search"]}),Xe?(0,D.jsx)(I.Z,{handleAbort:function(){tt.current&&tt.current.abort(),$e(!1)}}):""]})]})}),Ge?(0,D.jsx)(vt,{data:De,Header:Te}):""]})})]})},gt=(n(18752),n(11167)),jt=n(59962),bt=n.n(jt);var yt=function(e){var t=e.deletePopup,n=(e.editId,e.deleteid,e.deleteMyDashboardData),a=e.setDeletePopup;return(0,D.jsx)("div",{children:(0,D.jsx)(bt(),{children:(0,D.jsxs)(R.Tk,{visible:t,onClose:function(){return a(!1)},size:"default",className:" ui-dialog",children:[(0,D.jsx)(R.p0,{className:"hgt22",children:(0,D.jsx)(R.fl,{children:(0,D.jsx)("span",{className:"ft16",children:"Delete Search"})})}),(0,D.jsxs)(R.sD,{children:[(0,D.jsx)("h6",{children:"Are you sure you want to delete Search ?"}),(0,D.jsxs)("div",{className:"btn-container center my-2",children:[(0,D.jsxs)("button",{type:"delete",className:"btn btn-primary",onClick:function(){n()},children:[" ","Delete"," "]}),(0,D.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return a(!1)},children:[" ","Cancel"," "]})]})]})]})})})};var Nt=function(e){var t,n=e.setAddmsg,l=(0,a.useState)([]),s=(0,o.Z)(l,2),c=s[0],d=s[1],h=(0,a.useState)({}),p=(0,o.Z)(h,2),f=p[0],v=p[1],x=localStorage.getItem("resId"),j=(0,a.useState)([]),b=(0,o.Z)(j,2),y=b[0],S=b[1],C=(0,a.useState)([]),Z=(0,o.Z)(C,2),E=Z[0],w=Z[1],k=m.N.baseUrl,I=(0,a.useState)(!1),P=(0,o.Z)(I,2),T=P[0],B=P[1],M=(0,a.useState)({}),F=(0,o.Z)(M,2),U=F[0],Q=F[1],L=(0,a.useState)(),J=(0,o.Z)(L,2),O=J[0],Y=J[1],H=(0,a.useState)(),V=(0,o.Z)(H,2),z=V[0],G=V[1],K=(0,a.useState)(),q=(0,o.Z)(K,2),W=q[0],X=q[1],$=function(){u().get("".concat(k,"/dashboardsms/customDashboard/getMyDashboardCollapse?userId=").concat(x,"&dashType=1417")).then((function(e){var t=e.data;d(t)}))},ee=function(e,t){u().get("".concat(k,"/dashboardsms/customDashboard/getMyDashboardTable?dashType=1417&sectionId=").concat(z,"&userId=").concat(x)).then((function(e){e.data;for(var t=e.data,n=0;n<t.length;n++)t[n].SNo=n+1,t[n].date_created=null==t[n].date_created?"":N()(t[n].date_created).format("DD-MMM-YYYY");var a=[{SNo:"S.No",search_name:"Search Name",date_created:"Created on",Action:"Action"}];v((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},W,a.concat(t)))}));S(["search_name","Action"])}))};(0,a.useEffect)((function(){$()}),[]),(0,a.useEffect)((function(){ee()}),[z]);var te=function(e,t){Q((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,!t[e]||!1))}))};(0,a.useEffect)((function(){f[0]&&w(JSON.parse(JSON.stringify(f[0])))}),[f]);var ne=function(e){return(0,D.jsx)("div",{align:"center",children:e.SNo})},ae=function(e){return(0,D.jsx)("div",{align:"center","data-toggle":"tooltip",title:e.date_created,children:e.date_created})},le=function(e){var t=e.page_url.split("/"),n=(t.length>=2?t.slice(-2).join("/"):url).replace(new RegExp("^".concat("/search/savedSearches")),"");(0,ce.s0)();return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{style:{color:"#15a7ea",textDecoration:"underline",cursor:"pointer"},onClick:function(){!function(){var t=e.id,a="/#/".concat(n),l="".concat(a,"?id=").concat(t);window.open(l,"_blank")}()},"data-toggle":"tooltip",title:e.search_name,children:e[y[0]]})})},se=function(e){y[0];return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{align:"center",children:[(0,D.jsx)(A.YK6,{color:"orange",cursor:"pointer",type:"edit",size:"1.2em",onClick:function(){B(!0),Y(e.id)},align:"center"})," ","\xa0"]})})},re=null===(t=Object.keys(E))||void 0===t?void 0:t.map((function(e,t){var n="SNo"===e&&ne?{width:"14%"}:"Action"===e&&se?{width:"16%"}:null;return(0,D.jsx)(gt.sgG,{sortable:!0,body:"SNo"==e&&ne||"date_created"==e&&ae||"search_name"==e&&le||"Action"==e&&se,field:e,header:E[e],style:n},e)}));return(0,D.jsxs)("div",{children:[c.map((function(e,t){return(0,D.jsxs)("div",{className:"group mb-1 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return te(e.section,X(e.section),G(e.id))},children:e.section}),(0,D.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return te(e.section,X(e.section),G(e.id))},children:(0,D.jsx)("span",{children:U[e.section]?(0,D.jsx)(_.UdN,{}):(0,D.jsx)(_.NR5,{})})})]}),(0,D.jsx)(R.V9,{visible:U[e.section],children:(0,D.jsx)("div",{children:(0,D.jsx)(g.Z,{data:void 0==f[e.section]?[]:f[e.section],rows:5,linkColumns:y,dynamicColumns:re,headerData:E,setHeaderData:w})})})]},t)})),0===c.length&&(0,D.jsx)("div",{className:"group mb-5 customCard",children:(0,D.jsx)("div",{className:"group-content row collapseHeader",children:(0,D.jsx)("div",{className:"form-group row",style:{fontSize:"15px",justifyContent:"center"},children:"No Data Found"})})}),1==T?(0,D.jsx)(yt,{deleteMyDashboardData:function(){u()({method:"delete",url:"".concat(k,"/dashboardsms/savedsearch/deletedataSearchFilters?saved_search_id=").concat(O)}).then(u()({method:"delete",url:"".concat(k,"/dashboardsms/savedsearch/deletedataSavedSearch?id=").concat(O)}).then((function(e){B(!1),$(),ee(),n(!0),setTimeout((function(){n(!1)}),3e3),window.scrollTo({top:0,behavior:"smooth"})})))},deletePopup:T,setDeletePopup:B}):""]})};var St=function(e){var t,n=e.setAddmsg,l=(0,a.useState)([]),s=(0,o.Z)(l,2),c=s[0],d=s[1],h=(0,a.useState)({}),p=(0,o.Z)(h,2),f=p[0],v=p[1],x=localStorage.getItem("resId"),j=(0,a.useState)([]),b=(0,o.Z)(j,2),y=b[0],S=b[1],C=(0,a.useState)([]),Z=(0,o.Z)(C,2),E=Z[0],w=Z[1],k=m.N.baseUrl,I=(0,a.useState)(!1),P=(0,o.Z)(I,2),T=P[0],B=P[1],M=(0,a.useState)({}),F=(0,o.Z)(M,2),U=F[0],Q=F[1],L=(0,a.useState)(),J=(0,o.Z)(L,2),O=J[0],Y=J[1],H=(0,a.useState)(),V=(0,o.Z)(H,2),z=V[0],G=V[1],K=(0,a.useState)(),q=(0,o.Z)(K,2),W=q[0],X=q[1],$=function(){u().get("".concat(k,"/dashboardsms/customDashboard/getMyDashboardCollapse?userId=").concat(x,"&dashType=1418")).then((function(e){var t=e.data;d(t)}))},ee=function(e,t){u().get("".concat(k,"/dashboardsms/customDashboard/getMyDashboardTable?dashType=1418&sectionId=").concat(z,"&userId=").concat(x)).then((function(e){e.data;for(var t=e.data,n=0;n<t.length;n++)t[n].SNo=n+1,t[n].date_created=null==t[n].date_created?"":N()(t[n].date_created).format("DD-MMM-YYYY");var a=[{SNo:"S.No",search_name:"Search Name",date_created:"Created on",Action:"Action"}];v((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},W,a.concat(t)))}));S(["search_name","Action"])}))};(0,a.useEffect)((function(){$()}),[]),(0,a.useEffect)((function(){ee()}),[z]);var te=function(e,t){Q((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,!t[e]||!1))}))};(0,a.useEffect)((function(){f[0]&&w(JSON.parse(JSON.stringify(f[0])))}),[f]);var ne=function(e){return(0,D.jsx)("div",{align:"center",children:e.SNo})},ae=function(e){return(0,D.jsx)("div",{align:"center","data-toggle":"tooltip",title:e.date_created,children:e.date_created})},le=function(e){var t=e.page_url.split("/"),n=(t.length>=2?t.slice(-2).join("/"):url).replace(new RegExp("^".concat("/search/savedSearches")),"");(0,ce.s0)();return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{style:{color:"#15a7ea",textDecoration:"underline",cursor:"pointer"},onClick:function(){!function(){var t=e.id,a="/#/".concat(n),l="".concat(a,"?id=").concat(t);window.open(l,"_blank")}()},"data-toggle":"tooltip",title:e.search_name,children:e[y[0]]})})},se=function(e){y[0];return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{align:"center",children:[(0,D.jsx)(A.YK6,{color:"orange",cursor:"pointer",type:"edit",size:"1.2em",onClick:function(){B(!0),Y(e.id)},align:"center"})," ","\xa0"]})})},re=null===(t=Object.keys(E))||void 0===t?void 0:t.map((function(e,t){var n="SNo"===e&&ne?{width:"14%"}:"Action"===e&&se?{width:"16%"}:null;return(0,D.jsx)(gt.sgG,{sortable:!0,body:"SNo"==e&&ne||"date_created"==e&&ae||"search_name"==e&&le||"Action"==e&&se,field:e,header:E[e],style:n},e)}));return(0,D.jsxs)("div",{children:[c.map((function(e,t){return(0,D.jsxs)("div",{className:"group mb-1 customCard",children:[(0,D.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,D.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){return te(e.section,X(e.section),G(e.id))},children:e.section}),(0,D.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return te(e.section,X(e.section),G(e.id))},children:(0,D.jsx)("span",{children:U[e.section]?(0,D.jsx)(_.UdN,{}):(0,D.jsx)(_.NR5,{})})})]}),(0,D.jsx)(R.V9,{visible:U[e.section],children:(0,D.jsx)("div",{children:(0,D.jsx)(g.Z,{data:void 0==f[e.section]?[]:f[e.section],rows:5,linkColumns:y,dynamicColumns:re,headerData:E,setHeaderData:w})})})]},t)})),0===c.length&&(0,D.jsx)("div",{className:"group mb-5 customCard",children:(0,D.jsx)("div",{className:"group-content row collapseHeader",children:(0,D.jsx)("div",{className:"form-group row",style:{fontSize:"15px",justifyContent:"center"},children:"No Data Found"})})}),1==T?(0,D.jsx)(yt,{deleteMyDashboardData:function(){u()({method:"delete",url:"".concat(k,"/dashboardsms/savedsearch/deletedataSearchFilters?saved_search_id=").concat(O)}).then(u()({method:"delete",url:"".concat(k,"/dashboardsms/savedsearch/deletedataSavedSearch?id=").concat(O)}).then((function(e){B(!1),$(),ee(),n(!0),setTimeout((function(){n(!1)}),3e3),window.scrollTo({top:0,behavior:"smooth"})})))},deletePopup:T,setDeletePopup:B}):""]})};var At=function(){var e=(0,a.useState)("MyDashboard"),t=(0,o.Z)(e,2),n=t[0],l=t[1],s=(0,a.useState)(!1),r=(0,o.Z)(s,2),i=r[0],c=r[1],d=m.N.baseUrl,h=localStorage.getItem("resId"),p=(0,a.useState)([]),f=(0,o.Z)(p,2),v=f[0],x=f[1];return(0,a.useEffect)((function(){u()({method:"GET",url:d+"/CommonMS/master/getMenus?loggedUserId=".concat(h)}).then((function(e){e.data.forEach((function(e){"Dashboards"===e.display_name&&x([e])}))}))}),[]),(0,D.jsxs)("div",{children:[i?(0,D.jsx)("div",{className:"statusMsg success",children:(0,D.jsxs)("span",{className:"errMsg",children:[(0,D.jsx)(C.hXj,{size:"1.4em"})," \xa0 Search Name deleted successfully"]})}):"",(0,D.jsxs)("div",{className:"pageTitle",children:[(0,D.jsx)("div",{className:"childOne"}),(0,D.jsx)("div",{className:"childTwo",children:(0,D.jsx)("h2",{children:"Custom Dashboard"})}),(0,D.jsx)("div",{className:"childThree"})]}),(0,D.jsx)("div",{className:"helpBtn",style:{float:"right",paddingTop:"5px"},children:(0,D.jsx)(M.Z,{pdfname:"CustomDashboard.pdf",name:"Custom Dashboard Help"})}),(0,D.jsx)(B.Z,{routes:v,currentScreenName:["Custom Dashboard"]}),(0,D.jsxs)("div",{className:"tabs",children:[(0,D.jsx)("button",{className:"MyDashboard"===n?"buttonDisplayClick":"buttonDisplay",onClick:function(){l("MyDashboard")},children:"My DashBoard"}),(0,D.jsx)("button",{className:"OrgDashboard"===n?"buttonDisplayClick":"buttonDisplay",onClick:function(){l("OrgDashboard")},children:"Org DashBoard"})]}),"MyDashboard"===n&&(0,D.jsx)(Nt,{setAddmsg:c}),"OrgDashboard"===n&&(0,D.jsx)(St,{setAddmsg:c})]})},Ct=n(21381),Zt=n(56812),Et=(n(90928),n(10050),a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(4189),n.e(6298),n.e(7818),n.e(8915)]).then(n.bind(n,53245))}))),wt=a.lazy((function(){return Promise.all([n.e(4286),n.e(1249)]).then(n.bind(n,91249))})),Dt=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(5401),n.e(7818),n.e(9563),n.e(1817),n.e(4206)]).then(n.bind(n,61496))})),kt=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(5401),n.e(7818),n.e(4314)]).then(n.bind(n,16442))})),It=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(4189),n.e(6298),n.e(7818),n.e(4741)]).then(n.bind(n,7641))})),Pt=a.lazy((function(){return Promise.all([n.e(5401),n.e(6775),n.e(6759)]).then(n.bind(n,59580))})),Tt=a.lazy((function(){return Promise.all([n.e(85),n.e(5401),n.e(6775),n.e(7366)]).then(n.bind(n,32464))})),Rt=a.lazy((function(){return n.e(5183).then(n.bind(n,5183))})),_t=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(7818),n.e(9548)]).then(n.bind(n,700))})),Bt=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(7818),n.e(9859)]).then(n.bind(n,12590))})),Mt=a.lazy((function(){return Promise.all([n.e(6053),n.e(5763),n.e(3704),n.e(2568)]).then(n.bind(n,42568))})),Ft=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(7818),n.e(5282)]).then(n.bind(n,15594))})),Ut=a.lazy((function(){return Promise.all([n.e(6053),n.e(9704),n.e(5401),n.e(7818),n.e(9563),n.e(1817),n.e(2481)]).then(n.bind(n,47903))})),Qt=a.lazy((function(){return Promise.all([n.e(6053),n.e(5763),n.e(3704),n.e(8160)]).then(n.bind(n,38160))})),Lt=a.lazy((function(){return n.e(1350).then(n.bind(n,61350))})),Jt=a.lazy((function(){return n.e(3040).then(n.bind(n,73040))})),Ot=a.lazy((function(){return Promise.all([n.e(5763),n.e(29),n.e(1107),n.e(9259)]).then(n.bind(n,41561))})),Yt=a.lazy((function(){return n.e(4596).then(n.bind(n,14596))})),Ht=a.lazy((function(){return n.e(9053).then(n.bind(n,49053))})),Vt=a.lazy((function(){return Promise.all([n.e(6053),n.e(1107),n.e(915)]).then(n.bind(n,21923))})),zt=a.lazy((function(){return n.e(6814).then(n.bind(n,66814))})),Gt=a.lazy((function(){return Promise.all([n.e(5763),n.e(1578),n.e(6907),n.e(7201),n.e(6298),n.e(3920),n.e(8721),n.e(6662)]).then(n.bind(n,30374))})),Kt=a.lazy((function(){return Promise.all([n.e(5763),n.e(6907),n.e(4286),n.e(5401),n.e(29),n.e(9347)]).then(n.bind(n,40674))})),qt=a.lazy((function(){return Promise.all([n.e(5763),n.e(5401),n.e(29),n.e(8552),n.e(8795),n.e(7943)]).then(n.bind(n,49501))})),Wt=a.lazy((function(){return n.e(1481).then(n.bind(n,21481))})),Xt=a.lazy((function(){return Promise.all([n.e(749),n.e(5401),n.e(2426)]).then(n.bind(n,92426))})),$t=a.lazy((function(){return Promise.all([n.e(5401),n.e(5312)]).then(n.bind(n,45312))})),en=a.lazy((function(){return Promise.all([n.e(6907),n.e(5401),n.e(4602),n.e(2053)]).then(n.bind(n,2053))})),tn=a.lazy((function(){return Promise.all([n.e(7201),n.e(9609),n.e(6971),n.e(8589),n.e(6605)]).then(n.bind(n,79123))})),nn=a.lazy((function(){return Promise.all([n.e(8617),n.e(5401),n.e(6989)]).then(n.bind(n,36989))})),an=a.lazy((function(){return Promise.all([n.e(5401),n.e(8589),n.e(1451)]).then(n.bind(n,84793))})),ln=a.lazy((function(){return Promise.all([n.e(4189),n.e(3601)]).then(n.bind(n,3601))})),sn=a.lazy((function(){return Promise.all([n.e(4602),n.e(765)]).then(n.bind(n,10765))})),rn=a.lazy((function(){return n.e(7020).then(n.bind(n,87020))})),on=a.lazy((function(){return n.e(34).then(n.bind(n,20034))})),cn=a.lazy((function(){return n.e(4501).then(n.bind(n,4501))})),dn=a.lazy((function(){return n.e(618).then(n.bind(n,70618))})),un=a.lazy((function(){return Promise.all([n.e(5763),n.e(1578),n.e(29),n.e(8552),n.e(5065),n.e(2797),n.e(4109),n.e(6798),n.e(6227),n.e(236),n.e(3324),n.e(3668)]).then(n.bind(n,34673))})),mn=a.lazy((function(){return n.e(2797).then(n.bind(n,2797))})),hn=a.lazy((function(){return n.e(9903).then(n.bind(n,99903))})),pn=a.lazy((function(){return Promise.all([n.e(5401),n.e(1475)]).then(n.bind(n,1475))})),fn=a.lazy((function(){return n.e(130).then(n.bind(n,10130))})),vn=a.lazy((function(){return Promise.all([n.e(7201),n.e(6971),n.e(442)]).then(n.bind(n,95309))})),xn=a.lazy((function(){return n.e(4162).then(n.bind(n,64162))})),gn=a.lazy((function(){return Promise.all([n.e(5401),n.e(7465)]).then(n.bind(n,27465))})),jn=a.lazy((function(){return n.e(1710).then(n.bind(n,51710))})),bn=a.lazy((function(){return n.e(1510).then(n.bind(n,91510))})),yn=a.lazy((function(){return Promise.all([n.e(6907),n.e(8721),n.e(5443)]).then(n.bind(n,25443))})),Nn=a.lazy((function(){return n.e(3586).then(n.bind(n,83586))})),Sn=a.lazy((function(){return Promise.all([n.e(1578),n.e(6798),n.e(1634)]).then(n.bind(n,66798))})),An=a.lazy((function(){return Promise.all([n.e(5401),n.e(714)]).then(n.bind(n,30714))})),Cn=a.lazy((function(){return Promise.all([n.e(5763),n.e(6907),n.e(4189),n.e(7201),n.e(8955)]).then(n.bind(n,38955))})),Zn=a.lazy((function(){return n.e(1774).then(n.bind(n,91774))})),En=a.lazy((function(){return n.e(2556).then(n.bind(n,32556))})),wn=a.lazy((function(){return n.e(3679).then(n.bind(n,93679))})),Dn=a.lazy((function(){return Promise.all([n.e(5401),n.e(9770)]).then(n.bind(n,19770))})),kn=a.lazy((function(){return n.e(2564).then(n.bind(n,42564))})),In=a.lazy((function(){return Promise.all([n.e(1578),n.e(4189),n.e(6717)]).then(n.bind(n,96717))})),Pn=a.lazy((function(){return n.e(554).then(n.bind(n,40554))})),Tn=a.lazy((function(){return n.e(4225).then(n.bind(n,54225))})),Rn=a.lazy((function(){return n.e(6891).then(n.bind(n,16891))})),_n=a.lazy((function(){return Promise.all([n.e(1578),n.e(8757)]).then(n.bind(n,28757))})),Bn=a.lazy((function(){return Promise.all([n.e(3513),n.e(573)]).then(n.bind(n,10573))})),Mn=a.lazy((function(){return n.e(8190).then(n.bind(n,98190))})),Fn=a.lazy((function(){return Promise.all([n.e(85),n.e(4084)]).then(n.bind(n,64084))})),Un=a.lazy((function(){return Promise.resolve().then(n.bind(n,18752))})),Qn=a.lazy((function(){return n.e(1934).then(n.bind(n,91934))})),Ln=a.lazy((function(){return n.e(6794).then(n.bind(n,96794))})),Jn=a.lazy((function(){return n.e(1391).then(n.bind(n,71391))})),On=a.lazy((function(){return n.e(367).then(n.bind(n,40367))})),Yn=a.lazy((function(){return n.e(153).then(n.bind(n,30153))})),Hn=a.lazy((function(){return n.e(2714).then(n.bind(n,22714))})),Vn=a.lazy((function(){return Promise.all([n.e(5763),n.e(6907),n.e(85),n.e(29),n.e(9799)]).then(n.bind(n,39425))})),zn=a.lazy((function(){return n.e(1858).then(n.bind(n,31858))})),Gn=a.lazy((function(){return n.e(5722).then(n.bind(n,25722))})),Kn=a.lazy((function(){return n.e(4994).then(n.bind(n,4994))})),qn=a.lazy((function(){return n.e(2384).then(n.bind(n,22384))})),Wn=a.lazy((function(){return Promise.all([n.e(8552),n.e(8795),n.e(8519)]).then(n.bind(n,88519))})),Xn=a.lazy((function(){return n.e(5259).then(n.bind(n,35259))})),$n=a.lazy((function(){return Promise.all([n.e(1578),n.e(8552),n.e(5065),n.e(2797),n.e(4109),n.e(6798),n.e(6227),n.e(236),n.e(7797)]).then(n.bind(n,40236))})),ea=a.lazy((function(){return Promise.resolve().then(n.bind(n,18752))})),ta=a.lazy((function(){return Promise.all([n.e(4286),n.e(4553),n.e(3320)]).then(n.bind(n,3320))})),na=a.lazy((function(){return n.e(2447).then(n.bind(n,32447))})),aa=a.lazy((function(){return n.e(5658).then(n.bind(n,79483))})),la=a.lazy((function(){return Promise.all([n.e(749),n.e(158),n.e(4460)]).then(n.bind(n,45810))})),sa=a.lazy((function(){return Promise.resolve().then(n.bind(n,37901))})),ra=a.lazy((function(){return Promise.resolve().then(n.bind(n,10050))})),ia=a.lazy((function(){return n.e(7703).then(n.bind(n,67703))})),oa=a.lazy((function(){return Promise.all([n.e(5763),n.e(1578),n.e(6907),n.e(7201),n.e(6298),n.e(3920),n.e(8721),n.e(6662)]).then(n.bind(n,8072))})),ca=a.lazy((function(){return n.e(3003).then(n.bind(n,93003))})),da=a.lazy((function(){return Promise.resolve().then(n.bind(n,90928))})),ua=a.lazy((function(){return n.e(208).then(n.bind(n,20208))})),ma=a.lazy((function(){return n.e(8758).then(n.bind(n,28758))})),ha=a.lazy((function(){return Promise.all([n.e(5763),n.e(1578),n.e(6907),n.e(7201),n.e(6298),n.e(3920),n.e(8721),n.e(6662)]).then(n.bind(n,8072))}));var pa={routesData:{PipelineTrending:Et,Reviews:kt,Management:U,Performance:J,MyDashboard:wt,Scorecard:It,Opportunities:Pt,OpportunityEdit:Tt,sfReports:Rt,RevenueAttainmentMetrics:_t,WeeklyPipelineProgress:Bt,"S/WPlan&Review":Ft,"ServicesPlan&Review":Ut,Vendors:Ot,Projects:Kt,Engagements:qt,Customers:un,"FinancialPlan&Review":hn,RoleMapping:pn,ContractorCosts:fn,UploadRoleCosts:xn,Investment:vn,"Headcount&MarginsTrend":$t,"Revenue&MarginAnalysis":nn,MonthlyRevenueTrend:an,MonthlyRevenueForecast:tn,MonthlyPRChangesbyDay:en,RevenueByIndustry:ln,"Revenue&MarginVariance":Xt,"Rev.Projections":sn,RolesPermissions:rn,ContractDocuments:on,JobsDailyStatus:cn,SolutionMapping:gn,Search:jn,InvoiceDetails:bn,ProjectStatusReport:yn,EngagementAllocations:Nn,"NBWork-4Prev.Weeks":ae,ProjectHealth:ge,BillableUtilizationTrend:ye,Hierarchy:rt,"Utilisation-FY":ut,CustomDashboard:At,PyramidIndex:xt,Documents:Sn,SalaryBand:Zt.default,ProjectInvoiceDetails:Wt,"Forecast/Supply":An,BenchMetrics:Cn,SubkConversionTrend:Dn,ResourceRequest:Zn,DemandAndSupply:En,"StaffingGM%[Deprecated]":wn,Reports:kn,PCQA:Tn,NPS:Rn,CSAT:In,QMS:_n,AuditCPSetup:Pn,NPSSurveyQuestions:Bn,CSATSurveyQuestions:Mn,Profile:Un,Skills:Fn,"FixedPrice-Create":Qn,"FixedPrice-Open":Ln,FillTimesheets:Jn,"T&M-Open":On,ShiftAllownaces:Yn,LockTimesheets:Hn,Expenses:Vn,AllocationDashboard:zn,HelpContents:Gn,CompetencyDashboard:qn,SavedSearches:Dt,ReleaseNotes:Kn,OpenTopMenu:Yt,VendorPerformance:Ht,HammerTool:Xn,Tracker:na,ErrorLogs:aa,QBR:mn,RoleCosts:dn,Open:ca,SalesPermissions:ua,Upload:ma},staticRoutesData:[{path:"/project/Overview/:projectId",name:"project",element:Gt},{path:"/project/taskPlan/:projectId",name:"project",element:Gt},{path:"/project/capacityPlan/:projectId",name:"project",element:Gt},{path:"/vendor/vendorDoc/:vendorId",name:"vendor",element:Vt},{path:"/vendor/reviews/:vendorId",name:"vendor",element:Vt},{path:"/cost/viewUpload",name:"viewAndUpload",element:Qt},{path:"/cost/roleView",name:"RoleView",element:Mt},{path:"/cost/roleApprovals",name:"roleApprovals",element:Lt},{path:"/cost/roleGrid",name:"costRoleGrid",element:Jt},{path:"/cost/loginHistory",name:"loginHistory",element:zt},{path:"/pmo/OpportunityEdit",name:"OpportunityEdit",element:Tt},{path:"/pmo/SalesforceReports",name:"sfReports",element:Rt},{path:"/projectInvoiceDetails",name:"Project Invoice Details",element:Wt},{path:"/SalaryBand",name:"Salary Band",element:Zt.default},{path:"/help/helpContents",name:"Help Contents",element:Gn},{path:"/search/customerSearch/customer/dashboard/:customerId",name:"customer",element:$n},{path:"/customer/engagement/:customerId",name:"customer",element:$n},{path:"/resource/profile/:resourceId",name:"teamsProfile",element:ea},{path:"/project/compareBaseline",name:"Baselines",element:sa},{path:"/engagement/Dashboard/:engagementId",name:"engagement",element:Wn},{path:"/engagement/projects/:engagementId",name:"engagement",element:Wn},{path:"/help/ReleaseNotes",name:"Release Notes",element:Kn},{path:"/report/getReport/reportId/:reportId",name:"Report",element:la},{path:"/expense/Create/:id",name:"expenses",element:Vn},{path:"/project/create",name:"projectCreate",element:ra},{path:"/project/Info/:projectId",name:"project",element:ha},{path:"/customer/create",name:"customer",element:ia},{path:"project/edit/:projectId",name:"project",element:oa},{path:"/accounting",name:"Accounting",element:ta},{path:"/project/baseline",name:"compareBaseLineNew",element:da},{path:"/stackView",name:"ExpenseStackView",element:Ct.Z}]},fa=function(){var e=localStorage.getItem("resId"),t=m.N.baseUrl,n=(0,a.useState)([]),l=(0,o.Z)(n,2),s=l[0],r=l[1];(0,a.useEffect)((function(){i()}),[pa]);var i=function(){var n=[];u()({method:"GET",url:t+"/CommonMS/master/getMenus?loggedUserId=".concat(e)}).then((function(e){for(var t=e.data,a=0;a<t.length;a++){var l=t[a].subMenus;l.length>0?c(l,n):c([t[a]],n)}for(var s=pa.staticRoutesData,i=0;i<s.length;i++)n.push(s[i]);r(n)}))},c=function(e,t){for(var n=0;n<e.length;n++){var a={path:"",name:"",element:null};a.path=e[n].url_path.replaceAll("::","/"),a.name=e[n].display_name.replaceAll(" ",""),a.element=pa.routesData[a.name],e[n].url_path.replaceAll("::","/").includes("/pmo/projectInvoiceDetails")&&(console.log(e[n]),console.log(a),console.log(a.name)),t.push(a)}};return(0,D.jsx)(R.KB,{fluid:!0,className:"pageContainer",children:(0,D.jsx)(R.rb,{children:(0,D.jsx)(a.Suspense,{fallback:"",children:(0,D.jsxs)(ce.Z5,{children:[s.map((function(e,t){return e.element&&(0,D.jsx)(ce.AW,{path:e.path,exact:e.exact,name:e.name,element:(0,D.jsx)(e.element,{})},t)})),(0,D.jsx)(ce.AW,{path:"/",element:(0,D.jsx)(ce.Fg,{to:"md/project",replace:!0})})]})})})})},va=a.memo(fa),xa=n(16030),ga=n(24846),ja=n(23853),ba=n(31389),ya=n(18907),Na=n(93044),Sa=n.p+"static/media/blue.0eeb4752baf50fb8b860.jpg",Aa=n.p+"static/media/orange.7386e41809e8adcd49fb.jpg",Ca=n.p+"static/media/green.fc529611ca410c0f77fe.jpg",Za=function(){var e=(0,a.useState)(!1),t=(0,o.Z)(e,2),n=t[0],l=t[1],s=(0,xa.I0)(),r=(0,xa.v9)((function(e){return e.appHeaderState.sidebarShow})),i=localStorage.getItem("resName"),c=localStorage.getItem("resId"),d=localStorage.getItem("lastUpdatedDt"),h=localStorage.getItem("loginCount7Days"),p=localStorage.getItem("loginCount30Days"),f=(0,ce.s0)(),v=m.N.baseUrl,x=(0,a.useRef)(null),g=(0,a.useState)([]),j=(0,o.Z)(g,2),b=j[0],y=j[1],S=(0,a.useState)("_theme1"),A=(0,o.Z)(S,2),Z=A[0],E=A[1],w=function(e){e!==Z&&(E(e),localStorage.setItem("selectedTheme",e),"_theme1"===e?(document.documentElement.style.setProperty("--primary","#02277f"),document.documentElement.style.setProperty("--accent","#15a7ea")):"theme2"===e?(document.documentElement.style.setProperty("--primary","#030e4f"),document.documentElement.style.setProperty("--accent","#f6ae1f")):"theme3"===e&&(document.documentElement.style.setProperty("--primary","#222538"),document.documentElement.style.setProperty("--accent","#73C9B7")))};(0,a.useEffect)((function(){!function(){var e=localStorage.getItem("selectedTheme");e&&w(e),console.log(e)}()}),[]);(0,a.useEffect)((function(){u()({method:"get",url:v+"/LayoutMS/auth/displayImage?userId=".concat(c)}).then((function(e){var t=e.data;y("data:image/jpeg;charset=utf-8;base64,"+t)}))}),[]);var k=(0,xa.v9)((function(e){return e.selectedSEState.homeScreenMessage})),I=(0,xa.v9)((function(e){return e.selectedSEState.homeScreenSubmenu}));return(0,a.useEffect)((function(){function e(e){x.current&&!x.current.contains(e.target)&&l(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,D.jsxs)("div",{children:[(0,D.jsx)(R.PO,{position:"sticky",children:(0,D.jsxs)(R.KB,{fluid:!0,children:[(0,D.jsx)(R.X4,{className:"ps-1",onClick:function(){return s((0,ya.t8)({sidebarShow:!r}))},children:(0,D.jsx)(ga.Z,{icon:ba.N,size:"lg"})}),(0,D.jsxs)(R.g3,{className:"headerRight",children:[(0,D.jsx)("img",{src:"prolifics-logo.png",alt:"",className:"headerLogo"}),(0,D.jsxs)("div",{className:"loggedinUserDetails",onClick:function(){l(!n)},children:[(0,D.jsxs)("div",{className:"loggedinUserTopSection",children:[(0,D.jsx)(Na.Z,{src:""=="".concat(b)?"profiles/emp_007.png":"".concat(b),className:"userProfileImg"}),(0,D.jsxs)("div",{className:"loggedinUser",children:[(0,D.jsx)("span",{className:"loggedinUserName",children:i}),(0,D.jsxs)("div",{className:"userLastLogin",children:[(0,D.jsx)("span",{children:"Last login:"}),(0,D.jsx)("span",{className:"loginTime",children:"Invalid date"==N()(d).format("DD/MM/yyyy")?"--":N()(d).format("DD/MM/yyyy")})]})]})]}),n&&(0,D.jsxs)("div",{className:"userDetailsDropdown",ref:x,children:[(0,D.jsxs)("div",{className:"lastLogins",children:[(0,D.jsxs)("div",{children:["Last 7 days count:",(0,D.jsx)("span",{children:h})]}),(0,D.jsxs)("div",{children:["Last 30 days count:",(0,D.jsx)("span",{children:p})]})]}),(0,D.jsx)("div",{className:"blackout"}),(0,D.jsxs)("div",{className:"userThemes",children:[(0,D.jsx)("div",{className:"themeTitle",children:"Choose Theme"}),(0,D.jsxs)("div",{className:"themeOptions ".concat(Z),children:[(0,D.jsx)("div",{onClick:function(){return w("_theme1")},title:"Blue",className:"themePreview",children:(0,D.jsx)("img",{src:Sa,alt:""})}),(0,D.jsx)("div",{onClick:function(){return w("theme2")},title:"Orange",className:"themePreview",children:(0,D.jsx)("img",{src:Aa,alt:""})}),(0,D.jsx)("div",{onClick:function(){return w("theme3")},title:"Green",className:"themePreview",children:(0,D.jsx)("img",{src:Ca,alt:""})})]})]}),(0,D.jsxs)("div",{className:"userLogoutBtn",onClick:function(){localStorage.clear(),document.documentElement.style.setProperty("--primary","#02277f"),document.documentElement.style.setProperty("--accent","#15a7ea"),f("/")},children:[(0,D.jsx)("span",{children:"Logout"}),(0,D.jsx)(ja.xqh,{})]})]})]})]})]})}),k?(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"statusMsg success",children:(0,D.jsxs)("span",{className:"errMsg",children:[(0,D.jsx)(C.hXj,{size:"1.4em"})," \xa0 Home Page has been set to"," ",I," successfully"]})})}):""]})},Ea=n(45987),wa=n(49648);var Da=function(e){var t=e.subMenueId,n=e.visible,l=e.setVisible,s=e.subMenueName,r=localStorage.getItem("resId"),i=m.N.baseUrl,c=(0,a.useState)(!1),d=(0,o.Z)(c,2),h=(d[0],d[1],(0,xa.I0)());return(0,a.useEffect)((function(){h((0,wa.xo)(s))}),[s]),(0,D.jsx)("div",{children:(0,D.jsxs)(R.Tk,{visible:n,size:"sm",className:" ui-dialog",children:[(0,D.jsx)(R.p0,{className:"hgt22",children:(0,D.jsx)(R.fl,{children:(0,D.jsx)("span",{className:"ft16",children:"Save Home Page"})})}),(0,D.jsx)(R.sD,{children:(0,D.jsxs)("p",{style:{fontSize:"14px",color:"black"},children:["Do you want to set ",s," as home page?"]})}),(0,D.jsx)(R.pG,{style:{borderBottomLeftRadius:"var(--cui-modal-inner-border-radius)",borderBottomRightRadius:"var(--cui-modal-inner-border-radius)"},children:(0,D.jsxs)("div",{className:"btn-container center my-2",style:{marginLeft:"30%"},children:[(0,D.jsxs)("button",{type:"delete",className:"btn btn-primary",onClick:function(){l(!1),u()({method:"get",url:i+"/CommonMS/master/setHomeScreen?loggedUserId=".concat(r,"&actionId=").concat(t)}).then((function(e){e.data,setTimeout((function(){h((0,wa.Pb)(!0))}),2e3),h((0,wa.Pb)(!1)),l(!1),window.location.reload()}))},children:[" ","Yes"," "]}),(0,D.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return l(!1)},children:[" ","No"," "]})]})})]})})},ka=["component","name","badge","icon"],Ia=["component","name","icon","to"],Pa=function(e){var t=e.items,n=(0,ce.TH)(),l=localStorage.getItem("resId"),s=m.N.baseUrl,r=(0,a.useState)(!1),c=(0,o.Z)(r,2),d=c[0],h=c[1],p=(0,a.useState)(""),f=(0,o.Z)(p,2),v=f[0],x=f[1],g=(0,a.useState)(""),j=(0,o.Z)(g,2),b=j[0],y=j[1],N=(0,a.useState)([]),S=(0,o.Z)(N,2),A=S[0],C=S[1];(0,a.useEffect)((function(){u()({method:"get",url:s+"/CommonMS/master/getHomeScreen?loggedUserId=".concat(l)}).then((function(e){var t=e.data;C(t)}))}),[]);var Z=function(e,t,n,a){return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{children:[t&&t,e&&e,n&&(0,D.jsx)(R.C_,{color:n.color,className:"ms-auto",children:n.text})]})})},E=function(e,t){var n=e.component,l=e.name,s=e.badge,r=e.icon,o=(0,Ea.Z)(e,ka),c=n;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("span",{className:"navElem",children:[(0,a.createElement)(c,(0,i.Z)((0,i.Z)({onClick:function(){var e=document.getElementsByClassName("sidebar sidebar-fixed")[0];void 0!=e&&0==e.classList.contains("hide")&&e.classList.add("hide")}},o.to&&!o.items&&{component:de.OL}),{},{key:parseInt(void 0!==e.id?null===e||void 0===e?void 0:e.id:t)},o),Z(l,r,s)),e.id==A.userActionId?(0,D.jsx)("span",{className:e.id==A.userActionId?"currentHome":"makeHome",children:(0,D.jsx)(_.xng,{title:"Home Page"})}):[1063,273,6,1035,404,370,963,5,416,918,412,408,1024,287,1070,819,1026,1022,453,317,1059,1072,865,913,1029,898,1074,785,875,876,871,982,788,881,872,873,424,395,480,757,763,478,490,940,27,413,392,744,868,223,24,21,14,284].includes(e.id)||void 0==e.id?"":(0,D.jsx)("span",{className:e.id==A.userActionId?"currentHome":"makeHome",onClick:function(){x(e.id),y(e.name),h(!0)},children:(0,D.jsx)(_.xng,{title:"Set As Home Page"})})]})})},w=function e(t,a){var l,s=t.component,r=t.name,o=t.icon,c=t.to,d=(0,Ea.Z)(t,Ia),u=s;return(0,D.jsx)("span",{children:(0,D.jsx)(u,(0,i.Z)((0,i.Z)({idx:void 0!==t.id?String.fromCharCode(parseInt(65+a))+""+(null===t||void 0===t?void 0:t.id):String.fromCharCode(parseInt(65+a))+""+a,toggler:Z(r,o),visible:n.pathname.startsWith(c)},d),{},{children:null===(l=t.items)||void 0===l?void 0:l.map((function(t,n){return t.items?e(t,n):E(t,n)}))}),void 0!==t.id?String.fromCharCode(parseInt(65+a))+""+(null===t||void 0===t?void 0:t.id):String.fromCharCode(parseInt(65+a))+""+a)})};return(0,D.jsxs)(a.Fragment,{children:[t&&t.map((function(e,t){return(0,D.jsx)(D.Fragment,{children:e.items?w(e,t):E(e,t)})})),d?(0,D.jsx)(Da,{subMenueId:v,visible:d,setVisible:h,subMenueName:b}):""]})},Ta=n(34358),Ra=(n(82454),n(44430)),_a=function(){var e=localStorage.getItem("resId"),t=m.N.baseUrl,n=(0,xa.I0)(),l=(0,xa.v9)((function(e){return e.appHeaderState.sidebarUnfoldable})),s=(0,xa.v9)((function(e){return e.appHeaderState.sidebarShow})),r=(0,a.useState)([]),i=(0,o.Z)(r,2),c=i[0],d=i[1],h=document.getElementsByClassName("sidebar sidebar-fixed")[0];(0,a.useEffect)((function(){f(),p()}),[]);var p=function(){void 0!=h&&setTimeout((function(){h.addEventListener("click",(function(e){void 0!=h&&h.classList.contains("hide")&&h.classList.remove("hide")}),!0)}),1e3)},f=function(){u()({method:"GET",url:t+"/CommonMS/master/getMenus?loggedUserId=".concat(e)}).then((function(e){for(var t=e.data,n=[],a=0;a<t.length;a++){var l={component:R.dw,name:"Project",icon:"",items:[]},s=t[a].subMenus.length>0?t[a].subMenus:[t[a]];if(s.length>0){l.name=t[a].display_name;var r=v(s);l.name,l.items=r,l.id=t[a].id,l.icon=(0,D.jsx)("img",{src:"/mainmenu/"+t[a].icon_name,alt:""}),n.push(l)}else n.push(v(s));d(n)}n.push({component:R.U6,name:"Project Invoice Details",to:"/projectInvoiceDetails",icon:(0,D.jsx)(ga.Z,{icon:Ra.m,customClassName:"nav-icon"})}),n.push({component:R.dw,name:"Cost",icon:(0,D.jsx)(ga.Z,{icon:Ra.m,customClassName:"nav-icon"}),items:[{component:R.U6,name:"Salary Band",to:"/salaryBand"},{component:R.U6,name:"View / Upload",to:"/cost/viewUpload"},{component:R.U6,name:"Role View",to:"/cost/roleView"},{component:R.U6,name:"Role Approvals",to:"/cost/roleApprovals"},{component:R.U6,name:"Role Grid",to:"/cost/roleGrid"},{component:R.U6,name:"Login History",to:"/cost/loginHistory"}]}),n.push({component:R.dw,name:"Help",icon:(0,D.jsx)(ga.Z,{icon:Ra.m,customClassName:"nav-icon"}),items:[{component:R.U6,name:"Release Notes",to:"/help/ReleaseNotes"},{component:R.U6,name:"Help Contents",to:"/help/helpContents"},{component:R.U6,name:"Support",to:"https://pep.prolifics.com/"},{component:R.U6,name:"Feedback",to:"/help/dummy"}]}),n.push({component:R.U6,name:"Accounting",to:"/accounting",icon:(0,D.jsx)(ga.Z,{icon:Ra.m,customClassName:"nav-icon"})});n.findIndex((function(e){return"Sales"===e.name}))}))},v=function(e){for(var t=[],n=0;n<e.length;n++){var a={component:R.U6,name:"Delivery",to:"/delivery",icon:""};a.name=e[n].display_name,a.id=e[n].id,a.to=e[n].url_path.replaceAll("::","/"),a.icon=(0,D.jsx)("img",{src:"/submenus/"+e[n].icon_name,alt:""}),t.push(a)}return t.length>0?t:t[0]};return(0,D.jsxs)(R.z3,{position:"fixed",unfoldable:l,visible:s,onClick:function(){console.log("working")},onVisibleChange:function(e){n((0,ya.t8)({sidebarShow:e}))},children:[(0,D.jsx)(R.Dl,{to:"/",children:(0,D.jsxs)("div",{className:"logo",children:[(0,D.jsx)("img",{src:"ppm.png",alt:""})," ",(0,D.jsx)("span",{class:"logoTxt",children:"PPM"})]})}),(0,D.jsx)(R.Xk,{children:(0,D.jsx)(Ta.Z,{children:(0,D.jsx)(Pa,{items:c})})}),(0,D.jsx)(R.iv,{className:"d-none d-lg-flex",onClick:function(){return n((0,ya.t8)({sidebarUnfoldable:!l}))}})]})},Ba=a.memo(_a),Ma=function(){return(0,D.jsxs)("div",{children:[(0,D.jsx)(Ba,{}),(0,D.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100",children:[(0,D.jsx)(Za,{}),(0,D.jsx)("div",{className:"body ",children:(0,D.jsx)(va,{})})]})]})}},24745:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(93433),l=n(1413),s=n(29439),r=n(72791),i=n(87890),o=n(37145),c=n(25103),d=n(25415),u=n.n(d),m=n(80184);var h=function(e){var t=e.data,d=e.rows,h=(e.col,e.headerdatagroup,e.linkColumns,e.linkColumnsRoutes,e.dynamicColumns),p=e.headerData,f=e.setHeaderData,v=e.exportData,x=e.customFilters,g=e.customFilterValue,j=e.setCustomFilterValue,b=e.fileName,y=(0,r.useState)([]),N=(0,s.Z)(y,2),S=N[0],A=N[1],C=(0,r.useState)([]),Z=(0,s.Z)(C,2),E=Z[0],w=Z[1],D=(0,r.useState)([]),k=(0,s.Z)(D,2),I=k[0],P=k[1],T=(0,r.useRef)(null);(0,r.useEffect)((function(){A(JSON.parse(JSON.stringify(t)))}),[t]),(0,r.useEffect)((function(){if(S.length>0){f(S[0]),w(S.splice(1));var e=[],t=S[0];Object.keys(t).forEach((function(n){e.push({title:n,dataKey:t[n]})})),P(e)}}),[S]);var R={contains:{value:null,matchMode:i.a6.CONTAINS}},_=(0,r.useState)({global:R.contains}),B=(0,s.Z)(_,2),M=B[0],F=B[1];(0,r.useEffect)((function(){F({global:R.contains})}),[p]);var U=(0,r.useState)(""),Q=(0,s.Z)(U,2),L=Q[0],J=Q[1],O=function(e){var t=e.target.value,n=(0,l.Z)({},M);n.global.value=t,F(n),J(t)},Y=function(){var e=x;if("select"===e.type)return(0,m.jsx)("select",{id:e.id,onChange:function(e){j(e.target.value)},children:Object.keys(e.data).map((function(t){return(0,m.jsx)("option",{selected:g==t,value:t,children:e.data[t]})}))})},H=function(){Promise.resolve().then(n.bind(n,34045)).then((function(e){for(var n=Object.keys(t[0]),l=(0,a.Z)(new Set(n)),s=t.map((function(e){return l.map((function(t){var n=e[t];if("revenue"===t&&"string"===typeof n){var a=parseFloat(n);return isNaN(a)?n:a.toLocaleString()}return"scheduledDate"===t&&moment(n).isValid()?moment(n).format("DD-MMM-YYYY"):n}))})),r=s.map((function(e){return Object.values(e)})),i=new(u().Workbook),o=i.addWorksheet(b),c=0;c<r.length;c++)o.addRow(r[c]);[1].forEach((function(e){o.getRow(e).font={bold:!0}})),i.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(t,b)}))}))},V=function(){Promise.resolve().then(n.bind(n,35125)).then((function(e){Promise.resolve().then(n.t.bind(n,31052,23)).then((function(){var n=new e.default(0,0);n.autoTable(I,t),n.save(b+".pdf")}))}))},z=function(){G()},G=function(){var e=window.open("","_blank");if(e){var t=K();e.document.write('\n    <html>\n      <head>\n        <title>Print Table</title>\n        <link rel="stylesheet" type="text/css" href="path-to-your-print-styles.css">\n      </head>\n      <body>\n        <h1>PPM :: VMG Search</h1>\n        '.concat(t,"\n      </body>\n    </html>\n  ")),e.document.close(),e.print()}},K=function(){var e=t.map((function(e){return"<tr>\n      <td>".concat(e.vendorId,"</td>\n      <td>").concat(e.vendor_name,"</td>\n      <td>").concat(e.contactName,"</td>\n      <td>").concat(e.phone,"</td>\n      <td>").concat(e.email,"</td>\n      <td>").concat(e.contryName,"</td>\n      <td>").concat(e.nxtRvwDt,"</td>\n      <td>").concat(e.signedDt,"</td>\n      <td>").concat(e.expireDt,"</td>\n      <td>").concat(e.website,"</td>\n    </tr>")}));return"\n    <table>\n      <thead>\n        <tr>\n       \n        </tr>\n      </thead>\n      <tbody>\n        ".concat(e.join(""),"\n      </tbody>\n    </table>\n  ")},q=(null===v||void 0===v||v.includes("PRINT"),(0,m.jsxs)("div",{className:"flex  flex-row-reverse",children:[void 0!=x&&(0,m.jsx)("span",{children:(0,m.jsx)(Y,{})}),(0,m.jsxs)("div",{className:"exportBtn ml-3",children:[(null===v||void 0===v?void 0:v.includes("CSV"))&&(0,m.jsx)("span",{className:"pi pi-file csv",onClick:function(){return e=!1,void T.current.exportCSV({selectionOnly:e});var e},title:"CSV"}),(null===v||void 0===v?void 0:v.includes("XLS"))&&(0,m.jsx)("span",{className:"pi pi-file-excel excel",onClick:H,title:"Export to Excel"}),(null===v||void 0===v?void 0:v.includes("PDF"))&&(0,m.jsx)("span",{className:"pi pi-file-pdf pdf",onClick:V,title:"PDF"}),(null===v||void 0===v?void 0:v.includes("PRINT"))&&(0,m.jsx)("span",{className:"pi pi-print print",onClick:z,title:"Print"})]}),(0,m.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,m.jsx)("i",{className:"pi pi-search"}),(0,m.jsx)(c.o,{defaultValue:L,onChange:O,placeholder:"Keyword Search"})]})]}));return(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"card darkHeader",children:Object.keys(p).length>0&&(0,m.jsx)(o.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:E,paginator:!0,showGridlines:!0,rows:d,dataKey:"id",filters:M,responsiveLayout:"scroll",header:q,emptyMessage:(0,m.jsx)("center",{children:"No Records found."}),ref:function(e){T.current=e},className:"primeReactDataTable ",children:h})})})}},38262:function(e,t,n){var a=n(29439),l=n(72791),s=n(78983),r=n(57689),i=n(71715),o=n(84638),c=n(7692),d=n(56355),u=n(80184);t.Z=function(e){var t=e.routes,n=e.currentScreenName,m=(0,r.TH)(),h=(0,l.useState)(null),p=(0,a.Z)(h,2),f=p[0],v=p[1],x=(0,l.useState)(!1),g=(0,a.Z)(x,2),j=g[0],b=g[1],y=function(){v(null)},N=function(e,t){e.preventDefault(),!j&&t.subMenus&&t.subMenus.length>0&&function(e){v(e.currentTarget)}(e),b(!1)},S=function(e){return e.map((function(e){return(0,u.jsx)(o.Z,{className:"MuiMenuItem-root",style:{fontSize:"12px"},onClick:function(t){return function(e,t){e.stopPropagation(),console.log("Submenu clicked:",t);var n="/#"+t.replace(/::/g,"/");window.open(n,"_blank"),y(),b(!0)}(t,e.url_path)},children:e.display_name},e.id)}))};return(0,u.jsx)(s.fj,{className:"m-0 breadCrumbUI",children:t.map((function(e,a){return function(e,a){var l=a===t.length-1,r=m.pathname===e.url_path,o=e.subMenus&&e.subMenus.length>0,h=o?"has-submenus":"",p="/#"+m.pathname;return(0,u.jsxs)(s.Sd,{active:l||r,style:{"--cui-breadcrumb-divider":(0,u.jsx)(c.lU2,{})},children:[0===a&&(0,u.jsx)("a",{className:"breadcrumbHomeIcon",onClick:function(){"/#/resource/dashboard"==p?window.location.reload():window.location.href="/#/resource/dashboard"},children:(0,u.jsx)(d.xng,{})}),(0,u.jsx)(c.lU2,{}),(0,u.jsx)("a",{className:h,onClick:function(t){return N(t,e)},style:{verticalAlign:"middle",color:r?"#187fde":"inherit",cursor:o?"pointer":"default"},children:"home"!=e.display_name&&(0,u.jsx)(u.Fragment,{children:e.display_name})}),n.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.lU2,{}),n.map((function(e,t){return(0,u.jsxs)("span",{children:[e,t!==n.length-1&&(0,u.jsx)(c.lU2,{})]},t)}))]}),o&&(0,u.jsx)(i.Z,{anchorEl:f,open:Boolean(f),onClose:y,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},classes:{paper:"breadcrumbs-menu-paper"},children:S(e.subMenus)})]},a)}(e,a)}))})}},86388:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(74165),l=n(15861),s=n(29439),r=n(72791),i=n(78983),o=(n(85565),n.p+"static/media/resourcesCostListSampleFile.9ba218cab0760dc7aac5.xlsx"),c=n.p+"static/media/SalaryBandUploadSampleFile.2ea2aff245415065b002.xlsx",d=n(78820),u=n(7692),m=n(80184);var h=function(e){var t=e.excelUploadPopUp,n=e.setExcelUploadPopUp,h=e.excelFile,p=e.setExcelFile,f=e.uploadExcelSheet,v=e.getResourcesCostData,x=e.formData,g=e.stateValue,j=e.setLoaderTimer,b=e.updateMsg,y=(e.setUpdateMsg,(0,r.useState)("")),N=(0,s.Z)(y,2),S=N[0],A=N[1],C=(0,r.useState)(""),Z=(0,s.Z)(C,2),E=Z[0],w=Z[1],D=(0,r.useState)(!1),k=(0,s.Z)(D,2),I=k[0],P=k[1],T=localStorage.getItem("resId"),R=x.month,_=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==h){e.next=22;break}return P(!0),j(!0),A(""),w(""),e.next=7,f();case 7:if(t=e.sent,w((0,m.jsxs)("span",{className:"successMsg statusMsg success col-md-12",children:[(0,m.jsx)(u.hXj,{className:"confirmMsgIcon"}),"File Uploaded Successfully"]})),j(!1),console.log(b,"updateMsg"),"UploadRoleTypeCost"!=g||"Fill the Data in the Fields"!=t.data){e.next=16;break}return P(!1),A("txtBoxBorderColor"),w((0,m.jsxs)("span",{className:"statusMsg error col-md-12",children:[(0,m.jsx)(d.SR5,{className:"confirmMsgIcon"}),"Fill the Data in the Fields"]})),e.abrupt("return");case 16:return setTimeout((function(){w(""),n(!1),p(null)}),2e3),P(!1),e.next=20,v();case 20:e.next=24;break;case 22:A("txtBoxBorderColor"),w((0,m.jsxs)("span",{className:"statusMsg error col-md-12",children:[(0,m.jsx)(d.SR5,{className:"confirmMsgIcon"}),"Please Upload Supported File Type"]}));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{children:(0,m.jsxs)(i.Tk,{size:"m",visible:t,onClose:function(){n(!1)},children:[(0,m.jsx)(i.p0,{className:"hgt22",children:(0,m.jsx)(i.fl,{children:(0,m.jsx)("span",{className:"ft16",children:"UploadRoleTypeCost"==g?"   Upload SalaryBand":(0,m.jsxs)(m.Fragment,{children:[g+" "," Resources Cost List"]})})})}),(0,m.jsxs)(i.sD,{children:[(0,m.jsx)("div",{children:E}),(0,m.jsxs)("div",{className:"col-md-12 p0",children:[(0,m.jsx)("span",{children:"Please download sample excel before uploading"}),(0,m.jsx)("i",{style:{marginLeft:"35px"},children:(0,m.jsx)("a",{class:"pull-right",href:"UploadRoleTypeCost"==g?c:o,style:{textDecoration:"underline"},children:"Download Sample Excel"})})]}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{class:"mb-3",children:[(0,m.jsx)("label",{for:"formFile",class:"form-label",children:"Upload File :"}),(0,m.jsx)("input",{className:"form-control ".concat(S),type:"file",id:"formFile",onChange:function(e){!function(e){var t=e.target.files[0].name.split(".");if(t[t.length-1].includes("xlsx")){A(""),w("");var n=new FormData;n.append("file",e.target.files[0]),"UploadRoleTypeCost"!==g&&n.append("secretKey",x.secretKey),n.append("createdDate",R),n.append("resourceId",T),p(n)}else A("txtBoxBorderColor"),w((0,m.jsxs)("span",{className:"statusMsg error col-md-12",children:[(0,m.jsx)(d.SR5,{className:"confirmMsgIcon"}),"Please Upload Supported File Type"]}))}(e)}}),(0,m.jsx)("b",{children:(0,m.jsx)("span",{style:{fontSize:"10px"},children:"(XLXS Format Only)"})})]})})]}),(0,m.jsxs)(i.Ym,{children:[(0,m.jsx)(i.u5,{className:"popUpCloseButton",color:"secondary",onClick:function(){n(!1)},children:(0,m.jsx)("div",{className:"popUpCloseButtonText",children:(0,m.jsx)("span",{children:"Close"})})}),(0,m.jsx)(i.u5,{onClick:function(){_()},color:"primary",disabled:I,children:"Upload"})]})]})})}},83854:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(29439),l=n(72791),s=n(80184),r=function(e){e.setsearching,e.controller;var t=e.handleAbort,n=(0,l.useState)(3),r=(0,a.Z)(n,2),i=r[0],o=r[1];return(0,l.useEffect)((function(){var e=setInterval((function(){return o((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{class:"ballLoaderContainer",children:(0,s.jsxs)("div",{className:"snowLoaderContent",children:[(0,s.jsx)("span",{className:"overlayTimer",children:i}),(0,s.jsxs)("div",{class:"pl",children:[(0,s.jsx)("div",{class:"pl__outer-ring"}),(0,s.jsx)("div",{class:"pl__inner-ring"}),(0,s.jsx)("div",{class:"pl__track-cover"}),(0,s.jsxs)("div",{class:"pl__ball",children:[(0,s.jsx)("div",{class:"pl__ball-texture"}),(0,s.jsx)("div",{class:"pl__ball-outer-shadow"}),(0,s.jsx)("div",{class:"pl__ball-inner-shadow"}),(0,s.jsx)("div",{class:"pl__ball-side-shadows"})]})]}),(0,s.jsx)("button",{class:"abortBtn",onClick:t,children:"Abort"})]})})})}},47477:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(93433),l=n(1413),s=n(29439),r=n(72791),i=n(87890),o=n(37145),c=n(25103),d=n(35125),u=n(25415),m=n.n(u),h=(n(11167),n(80184));n(31052);var p=function(e){var t=e.data,u=e.rows,p=e.dynamicColumns,f=e.headerData,v=e.setHeaderData,x=e.exportData,g=e.customFilters,j=e.customFilterValue,b=e.setCustomFilterValue,y=e.columnStyle,N=e.fileName,S=e.reportsHeader,A=e.reportId,C=e.setLoader,Z=(e.permission,(0,r.useState)([])),E=(0,s.Z)(Z,2),w=E[0],D=E[1],k=(0,r.useState)([]),I=(0,s.Z)(k,2),P=I[0],T=I[1],R=(0,r.useState)([]),_=(0,s.Z)(R,2),B=_[0],M=_[1],F=(0,r.useRef)(null);(0,r.useEffect)((function(){D(JSON.parse(JSON.stringify(t)))}),[t]),(0,r.useEffect)((function(){if(w.length>0){v(w[0]),T(w.splice(1)),void 0!=A&&C(!1);var e=[],t=w[0];null===Object||void 0===Object||Object.keys(t).forEach((function(n){"StatusId"!=n&&e.push({title:t[n],dataKey:n})})),M(e)}}),[w]);var U={contains:{value:null,matchMode:i.a6.CONTAINS}},Q=(0,r.useState)({global:U.contains}),L=(0,s.Z)(Q,2),J=L[0],O=L[1];(0,r.useEffect)((function(){O({global:U.contains})}),[f]);var Y=(0,r.useState)(""),H=(0,s.Z)(Y,2),V=H[0],z=H[1],G=function(e){var t=e.target.value,n=(0,l.Z)({},J);n.global.value=t,O(n),z(t)},K=function(){var e=g;if("select"===e.type)return(0,h.jsx)("select",{id:e.id,onChange:function(e){b(e.target.value)},children:Object.keys(e.data).map((function(t){return(0,h.jsx)("option",{selected:j==t,value:t,children:e.data[t]})}))})},q=function(){Promise.resolve().then(n.bind(n,34045)).then((function(e){for(var n=Object.keys(t[0]),l=(0,a.Z)(new Set(n)),s=t.map((function(e){return l.map((function(t){var n=e[t];if("revenue"===t&&"string"===typeof n){var a=parseFloat(n);return isNaN(a)?n:a.toLocaleString()}return"scheduledDate"===t&&moment(n).isValid()?moment(n).format("DD-MMM-YYYY"):n}))})).map((function(e){return Object.values(e)})),r=new(m().Workbook),i=r.addWorksheet(N),o=0;o<s.length;o++)i.addRow(s[o]);[1].forEach((function(e){i.getRow(e).font={bold:!0}})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(t,N)}))}))},W=function(){X()},X=function(){for(var e=new d.default("l","mm","a3"),n=B.map((function(e){return e.title})),a=[],l=function(e){var n=B.map((function(n){return t[e][n.dataKey]}));a.push(n)},s=1;s<t.length;s++)l(s);var r=[30,30,30,30,30,30];e.text(15,30,N);var i={0:{cellWidth:r[0]},1:{cellWidth:r[1]},2:{cellWidth:r[2]},3:{cellWidth:r[3]},4:{cellWidth:r[4]},5:{cellWidth:r[5]}};e.autoTable(n,a,{startY:34,theme:"grid",styles:{font:"times",halign:"center",cellPadding:1,lineWidth:.5,lineColor:[0,0,0],textColor:[0,0,0]},headStyles:{textColor:[0,0,0],fontStyle:"normal",lineWidth:.5,lineColor:[0,0,0],fillColor:[166,204,247]},alternateRowStyles:{fillColor:[212,212,212],textColor:[0,0,0],lineWidth:.5,lineColor:[0,0,0]},rowStyles:{lineWidth:.5,lineColor:[0,0,0]},tableLineColor:[0,0,0],columnStyles:i}),e.save(N)},$=(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:S}),(0,h.jsxs)("div",{className:"flex  flex-row-reverse",children:[void 0!=g&&(0,h.jsx)("span",{children:(0,h.jsx)(K,{})}),(0,h.jsxs)("div",{className:"exportBtn ml-3",children:[(null===x||void 0===x?void 0:x.includes("CSV"))&&(0,h.jsx)("span",{className:"pi pi-file csv",onClick:function(){return e=!1,void F.current.exportCSV({selectionOnly:e});var e},title:"CSV"}),(null===x||void 0===x?void 0:x.includes("XLS"))&&(0,h.jsx)("span",{className:"pi pi-file-excel excel",onClick:q,title:"Export to Excel"}),(null===x||void 0===x?void 0:x.includes("PDF"))&&(0,h.jsx)("span",{className:"pi pi-file-pdf pdf",onClick:W,title:"Export to PDF"})]}),(0,h.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,h.jsx)("i",{className:"pi pi-search"}),(0,h.jsx)(c.o,{id:"searchInput",defaultValue:V,onChange:G,placeholder:"Keyword Search"})]})]})]});return(0,h.jsx)("div",{className:"darkHeader",children:Object.keys(f).length>0&&20!=A&&9!=A||(20==A||9==A)&&P.length>0?(0,h.jsx)(o.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:P,paginator:!0,showGridlines:!0,rows:u,columnStyle:y,dataKey:"id",filters:J,responsiveLayout:"scroll",header:$,emptyMessage:"No Records found.",ref:function(e){F.current=e},className:"primeReactDataTable reportsPrimeTable ",children:p}):""})}},40091:function(e,t,n){var a=n(1413),l=n(29439),s=n(72791),r=n(87890),i=n(37145),o=n(1063),c=(n(41980),n(39122),n(31896),n(81975),n(25103)),d=(n(17153),n(80184));t.Z=function(e){var t,n=e.data,u=(e.rows,e.checkedData,e.setCheckedData),m=e.value,h=(e.setCheckValidation,(0,s.useState)([])),p=(0,l.Z)(h,2),f=p[0],v=p[1],x=(0,s.useState)([]),g=(0,l.Z)(x,2),j=g[0],b=g[1],y=(0,s.useState)([]),N=(0,l.Z)(y,2),S=N[0],A=N[1],C=(0,s.useState)(),Z=(0,l.Z)(C,2),E=Z[0],w=Z[1];console.log(m),(0,s.useEffect)((function(){console.log("in line data"),console.log(n),v(JSON.parse(JSON.stringify(n)))}),[n]),(0,s.useEffect)((function(){f.length>0&&(b(f[0]),A(f.splice(1)))}),[f]),(0,s.useEffect)((function(){console.log("in header data useEffect "),console.log(j)}),[j]),(0,s.useEffect)((function(){console.log("in bodyData data useEffect "),console.log(S)}),[S]);var D={contains:{value:null,matchMode:r.a6.CONTAINS}},k=(0,s.useState)({global:D.contains}),I=(0,l.Z)(k,2),P=I[0],T=I[1];(0,s.useEffect)((function(){T({global:D.contains})}),[j]),console.log("in line 61"),console.log(P),console.log("in line 45"),console.log(n);var R=(0,s.useState)(""),_=(0,l.Z)(R,2),B=_[0],M=_[1],F=function(e){var t=e.target.value,n=(0,a.Z)({},P);console.log(n),console.log(n),n.global.value=t,T(n),M(t)},U=(0,d.jsxs)("div",{className:"flex justify-content-between",children:[(0,d.jsx)("span",{}),(0,d.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,d.jsx)("i",{className:"pi pi-search"}),(0,d.jsx)(c.o,{defaultValue:B,onChange:F,placeholder:"Keyword Search"})]})]}),Q=null===(t=Object.keys(j))||void 0===t?void 0:t.map((function(e,t){return(0,d.jsx)(o.s,{sortable:!0,field:e,header:j[e]},e)}));return(0,d.jsx)(d.Fragment,{children:Object.keys(j).length>0&&(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)(i.w,{value:S,paginator:!0,showGridlines:!0,rows:10,dataKey:"id",filters:P,responsiveLayout:"scroll",header:U,emptyMessage:"No Data found.",selection:E,className:"customerEngament primeReactDataTable",onSelectionChange:function(e){return function(e){var t=e.value,n=t.map((function(e){return e.id}));u("trackerscreensadder"==m?t:n[0]),console.log(e),w(e.value)}(e)},children:[(0,d.jsx)(o.s,{selectionMode:"multiple",style:{textAlign:"center"}}),Q]})})})}},72572:function(e,t,n){var a=n(1413),l=n(29439),s=n(72791),r=n(87890),i=n(37145),o=n(1063),c=(n(41980),n(39122),n(31896),n(81975),n(25103)),d=(n(17153),n(11087)),u=n(80184);t.Z=function(e){var t,n=e.data,m=e.rows,h=(e.col,e.headerdatagroup,e.linkColumns),p=e.linkColumnsRoutes,f=e.rowGroupMode,v=e.groupRowsBy,x=(0,s.useState)([]),g=(0,l.Z)(x,2),j=g[0],b=g[1],y=(0,s.useState)([]),N=(0,l.Z)(y,2),S=N[0],A=N[1],C=(0,s.useState)([]),Z=(0,l.Z)(C,2),E=Z[0],w=Z[1];(0,s.useEffect)((function(){b(JSON.parse(JSON.stringify(n)))}),[n]),(0,s.useEffect)((function(){j.length>0&&(A(j[0]),w(j.splice(1)))}),[j]);var D={contains:{value:null,matchMode:r.a6.CONTAINS}},k=(0,s.useState)({global:D.contains}),I=(0,l.Z)(k,2),P=I[0],T=I[1];(0,s.useEffect)((function(){T({global:D.contains})}),[S]),console.log("in line 61"),console.log(P),console.log("in line 45"),console.log(n);var R=(0,s.useState)(""),_=(0,l.Z)(R,2),B=_[0],M=_[1],F=function(e){var t=e.target.value,n=(0,a.Z)({},P);console.log(n),console.log(n),n.global.value=t,T(n),M(t)},U=function(e){var t;console.log(e);var n=null===(t=p[0])||void 0===t?void 0:t.split(":");return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(d.rU,{target:"_blank",to:n[0]+":"+e[n[1]],children:e[h]})})},Q=(0,u.jsxs)("div",{className:"flex justify-content-between",children:[(0,u.jsx)("span",{}),(0,u.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,u.jsx)("i",{className:"pi pi-search"}),(0,u.jsx)(c.o,{defaultValue:B,onChange:F,placeholder:"Keyword Search"})]})]}),L=null===(t=Object.keys(S))||void 0===t?void 0:t.map((function(e,t){return(0,u.jsx)(o.s,{sortable:!0,body:(null===h||void 0===h?void 0:h.includes(e))&&U,field:e,header:S[e]},e)})),J=(0,s.useState)([]),O=(0,l.Z)(J,2),Y=O[0],H=O[1];return(0,u.jsx)(u.Fragment,{children:Object.keys(S).length>0&&(0,u.jsx)("div",{className:"darkHeader",children:(0,u.jsx)(i.w,{value:E,paginator:!0,showGridlines:!0,rows:m,dataKey:"id",filters:P,responsiveLayout:"scroll",header:Q,selection:Y,emptyMessage:"No Records found.",className:" primeReactDataTable",rowGroupMode:f,groupRowsBy:v,onSelectionChange:function(e){return function(e){console.log(e),H(e.value)}(e)},children:L})})})}},72920:function(e,t,n){var a=n(29439),l=n(72791),s=n(78983),r=n(16856),i=n(80184);t.Z=function(e){var t=(0,l.useState)(!1),n=(0,a.Z)(t,2),o=n[0],c=n[1],d=e.pdfname,u=e.name,m="".concat("helpdocuments","/").concat(d);return(0,i.jsxs)(i.Fragment,{children:[!o&&(0,i.jsxs)("button",{className:"btn btn-primary btn-help",type:"Help",onClick:function(){return c(!0)},children:[(0,i.jsx)("b",{children:"Help"}),(0,i.jsx)(r.r$n,{size:"1.1em",style:{marginRight:0}})]}),o&&(0,i.jsxs)(s.Tk,{visible:o,size:"xl",onClose:function(){return c(!1)},backdrop:"static",children:[(0,i.jsx)(s.p0,{className:"",children:(0,i.jsx)(s.fl,{children:(0,i.jsxs)("span",{className:"",children:[" ",u]})})}),(0,i.jsx)(s.sD,{children:(0,i.jsx)("div",{className:"align center",children:(0,i.jsx)("embed",{src:m,width:"100%",className:"embDoc"})})})]})]})}},22804:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(1413),l=n(29439),s=n(72791),r=n(34831),i=n(74569),o=n.n(i),c=n(53329),d=n(32125),u=n(78820),m=n(78983),h=n(84373),p=n(16030),f=n(80184);function v(e){var t=e.setEditAddmsg,n=e.pageurl,i=e.page_Name,v=e.payload,x=(0,s.useState)(!1),g=(0,l.Z)(x,2),j=g[0],b=g[1],y=r.N.baseUrl,N=localStorage.getItem("resId"),S=(JSON.stringify(v),(0,s.useRef)([])),A=(0,s.useState)([]),C=(0,l.Z)(A,2),Z=C[0],E=C[1],w=(0,s.useState)("1417"),D=(0,l.Z)(w,2),k=D[0],I=D[1],P=(0,s.useState)(""),T=(0,l.Z)(P,2),R=T[0],_=T[1],B=(0,s.useState)("1417"),M=(0,l.Z)(B,2),F=M[0],U=M[1],Q=(0,s.useState)(""),L=(0,l.Z)(Q,2),J=L[0],O=L[1],Y=(0,s.useState)(!1),H=(0,l.Z)(Y,2),V=H[0],z=H[1],G=(0,p.v9)((function(e){return e.selectedSEState.directSETreeData}));return(0,s.useEffect)((function(){!function(){var e;"1417"===k?e=y+"/ProjectMS/stakeholders/getSavesearchMyDashboard?user_id=".concat(N,"&dashboard_type=1417"):"1418"===k&&(e=y+"/ProjectMS/stakeholders/getSavesearch?dashboard_type=1418"),o().get(e).then((function(e){var t=e.data;E(t)})).catch((function(e){console.error(e)}))}()}),[k]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.meS,{className:"globalSave",title:"Save Search Filters",style:{cursor:"pointer"},onClick:function(){return b(!0)}}),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(m.Tk,{visible:j,size:"Default",onClose:function(){return b(!1)},backdrop:"static",children:[(0,f.jsx)(m.p0,{className:"SavedSearchGlobalPopup"}),V?(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{className:"error-block",children:[(0,f.jsx)(u.CSE,{})," \xa0Please select valid values for highlighted fields"]})}):"",(0,f.jsxs)(m.sD,{children:[(0,f.jsxs)("div",{className:"col-md-12",children:[(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-4",children:["Enter Search Name \xa0\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("div",{className:"textfield",ref:function(e){S.current[0]=e},children:(0,f.jsx)("input",{type:"text",name:"search_name",id:"search_name",value:R,onChange:function(e){var t=e.target.value;_(t)}})})})]}),(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"",children:"Dashboard"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("select",{id:"dashboard_type",name:"dashboard_type",value:F,onChange:function(e){U(e.target.value),I(e.target.value)},children:[(0,f.jsx)("option",{value:"1417",children:"My Dashboard "}),(0,f.jsx)("option",{value:"1418",children:"Org Dashboard"})]})})]}),(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-4",htmlFor:"",children:["Section \xa0\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{className:"textfield",id:"page_name",ref:function(e){S.current[1]=e},onChange:function(e){O(e.target.value)},value:J,list:"sectionList",placeholder:"Search or Enter & Press to save",style:{padding:"0 5px",width:"100% ",borderRadius:"5px",backgroundColor:"#fff",border:"1px solid #ddd",height:"23px",fontSize:"13px"}}),(0,f.jsx)("datalist",{id:"sectionList",className:"text",children:Z.map((function(e){return(0,f.jsx)("option",{value:e.section},e.id)}))})]})})]})]}),(0,f.jsx)("div",{className:'className="col-md-12 col-sm-12 col-xs-12 btn-container center my-3',children:(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){if((0,d.Z)(S))z(!0);else{var e=(0,a.Z)({searchName:R,pageName:i,pageUrl:n,dashboardType:F,otherExecs:"0 : 0 ",userId:N,section:J,savedSections:!0},v);"1"===(null===v||void 0===v?void 0:v.executives)&&(e.executives=G),o()({method:"post",url:y+"/dashboardsms/savedsearch/savedSearchData?userId=".concat(N),data:e}).then((function(e){t(!0),b(!1),setTimeout((function(){t(!1)}),3e3)}))}},children:[(0,f.jsx)(c.Z,{}),"Save"]})})]})]})})]})}},19977:function(e,t,n){var a=n(74165),l=n(15861),s=n(74569),r=n.n(s),i=(n(72791),n(34831)),o=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t,n,l,s,o,c){var d,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,d=i.N.baseUrl,e.next=4,r()({method:"get",url:d+"/ProjectMS/project/getResCompts?resId=".concat(t,"&prjId=").concat(n,"&roleId=").concat(l)});case 4:return u=e.sent,console.log("in line 31-------"),console.log(u.data),c(u.data),s(t+"_"+n),o(void 0!=t),u.data,e.abrupt("return",u.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,l,s,r){return e.apply(this,arguments)}}();t.Z=o},43648:function(e,t,n){n.d(t,{Z:function(){return A}});var a=n(29439),l=n(72791),s=n(74569),r=n.n(s),i=n(72426),o=n.n(i),c=n(78820),d=n(16856),u=n(34831),m=(n(72572),n(40091),n(37901),n(57689)),h=n(7692),p=n(83854),f=(n(90928),n(1413)),v=n(87890),x=n(37145),g=n(1063),j=(n(41980),n(39122),n(81975),n(25103)),b=n(80184);var y=function(e){var t=e.data,n=e.rows,s=(e.checkedData,e.setCheckedData),r=e.value,i=e.setCheckValidation,o=e.setCheckedData1,c=e.dynamicColumns,d=e.grp4Items,u=(0,l.useState)([]),m=(0,a.Z)(u,2),h=m[0],p=m[1],y=(0,l.useState)([]),N=(0,a.Z)(y,2),S=N[0],A=N[1],C=(0,l.useState)([]),Z=(0,a.Z)(C,2),E=Z[0],w=Z[1],D=(0,l.useState)(),k=(0,a.Z)(D,2),I=k[0],P=k[1];console.log(r),(0,l.useEffect)((function(){console.log("in line data"),console.log(t),p(JSON.parse(JSON.stringify(t)))}),[t]),(0,l.useEffect)((function(){h.length>0&&(A(h[0]),w(h.splice(1)))}),[h]),(0,l.useEffect)((function(){console.log("in header data useEffect "),console.log(S)}),[S]),(0,l.useEffect)((function(){console.log("in bodyData data useEffect "),console.log(E)}),[E]);var T={contains:{value:null,matchMode:v.a6.CONTAINS}},R=(0,l.useState)({global:T.contains}),_=(0,a.Z)(R,2),B=_[0],M=_[1];(0,l.useEffect)((function(){M({global:T.contains})}),[S]),console.log("in line 61"),console.log(B),console.log("in line 45"),console.log(t);var F=(0,l.useState)(""),U=(0,a.Z)(F,2),Q=U[0],L=U[1],J=function(e){var t=e.target.value,n=(0,f.Z)({},B);console.log(n),console.log(n),n.global.value=t,M(n),L(t)},O=(0,b.jsxs)("div",{className:"flex justify-content-between",children:[(0,b.jsx)("span",{}),(0,b.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,b.jsx)("i",{className:"pi pi-search"}),(0,b.jsx)(j.o,{defaultValue:Q,onChange:J,placeholder:"Keyword Search",style:{textAlign:"center",verticalAlign:"middle"}})]})]});return(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"card darkHeader",children:Object.keys(S).length>0&&(0,b.jsxs)(x.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:E,paginator:!0,showGridlines:!0,rows:n,dataKey:"id",filters:B,responsiveLayout:"scroll",header:O,emptyMessage:"No customers found.",selection:I,onSelectionChange:function(e){return function(e){var t=e.value,n=t.map((function(e){return e.id}));s("trackerscreensadder"==r?t:n[0]);var a=String(t.map((function(e){return e.id})));console.log(a);var l=a.replace(/,/g,";");console.log(l),o(l),P(e.value),i(e.value)}(e)},children:[1==d[7].is_write&&(0,b.jsx)(g.s,{selectionMode:"multiple",className:"align center ",style:{paddingTop:"11px"}}),c]})})})},N=n(11167),S=n(38262);var A=function(e){var t,n=e.projectId,s=e.grp4Items;console.log(s[7].is_write);var i=(0,l.useState)([]),f=(0,a.Z)(i,2),v=f[0],x=f[1],g=u.N.baseUrl,j=(0,l.useState)([]),A=(0,a.Z)(j,2),C=(A[0],A[1]),Z=localStorage.getItem("resId"),E=localStorage.getItem("resName");console.log(E),console.log(Z);var w=(0,l.useState)([]),D=(0,a.Z)(w,2),k=(D[0],D[1]),I=(0,l.useState)([]),P=(0,a.Z)(I,2),T=P[0],R=P[1];console.log(T);var _=(0,l.useState)(!1),B=(0,a.Z)(_,2),M=B[0],F=B[1],U=(0,l.useState)([]),Q=(0,a.Z)(U,2),L=Q[0],J=Q[1],O=(0,l.useState)(!1),Y=(0,a.Z)(O,2),H=Y[0],V=Y[1],z=(0,l.useState)([]),G=(0,a.Z)(z,2),K=G[0],q=G[1],W=(0,l.useState)([]),X=(0,a.Z)(W,2),$=(X[0],X[1],(0,l.useState)([])),ee=(0,a.Z)($,2),te=(ee[0],ee[1],(0,l.useState)(null)),ne=(0,a.Z)(te,2),ae=(ne[0],ne[1],(0,l.useState)([])),le=(0,a.Z)(ae,2),se=(le[0],le[1],(0,l.useState)([])),re=(0,a.Z)(se,2),ie=re[0],oe=re[1],ce=((0,l.useRef)([]),(0,l.useRef)(null));console.log(K[0]);var de=(0,l.useState)(["col"]),ue=(0,a.Z)(de,2),me=ue[0],he=(ue[1],(0,l.useState)([""])),pe=(0,a.Z)(he,2),fe=pe[0],ve=(pe[1],(0,l.useState)([])),xe=(0,a.Z)(ve,2),ge=(xe[0],xe[1]),je=(0,l.useState)([]),be=(0,a.Z)(je,2),ye=be[0],Ne=(be[1],(0,l.useState)([])),Se=(0,a.Z)(Ne,2),Ae=(Se[0],Se[1]),Ce=(0,l.useState)([]),Ze=(0,a.Z)(Ce,2),Ee=Ze[0],we=Ze[1];(0,l.useEffect)((function(){De()}),[]);var De=function(){r()({method:"GET",url:g+"/CommonMS/master/getMenus?loggedUserId=".concat(Z)}).then((function(e){e.data.forEach((function(e){"Delivery"===e.display_name&&we([e])}))}))},ke=s.find((function(e){return"Baselines"===e.display_name}));console.log(ke.is_write,"****");var Ie=(0,m.s0)(),Pe=function(){r().get(g+"/ProjectMS/Baselines/getBaselinesDetails?object_id=".concat(n)).then((function(e){for(var t=e.data,n=0;n<t.length;n++)t[n].date_created=null==t[n].date_created?"":o()(t[n].date_created).format("DD-MMM-YYYY");var a=[{version_number:"Version No.",version_name:"Version Name",date_created:"Created Date",created_by:"Created By"}];x(a.concat(t)),x(a.concat(e.data)),setTimeout((function(){V(!1)}),100)}))};(0,l.useEffect)((function(){Pe(),Fe()}),[]);var Te=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",style:{width:"108px"},title:e.version_number,children:e.version_number})},Re=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.version_name,children:e.version_name})},_e=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.date_created,children:e.date_created})},Be=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.created_by,children:e.created_by})},Me=null===(t=Object.keys(ie))||void 0===t?void 0:t.map((function(e,t){return(0,b.jsx)(N.sgG,{sortable:!0,body:"version_number"==e&&Te||"version_name"==e&&Re||"date_created"==e&&_e||"created_by"==e&&Be,field:e,header:ie[e]},e)}));(0,l.useEffect)((function(){v[0]&&oe(JSON.parse(JSON.stringify(v[0])))}),[v]);var Fe=function(){r()({method:"get",url:g+"/ProjectMS/Audit/projectOverviewDetails?projectId=".concat(n)}).then((function(e){var t=e.data;console.log(t),J(t)})).catch((function(e){console.log(e)}))};return(0,b.jsxs)("div",{children:[M?(0,b.jsxs)("div",{className:"statusMsg success",children:[" ",L.map((function(e){return(0,b.jsxs)("span",{className:"",children:[(0,b.jsx)(h.hXj,{size:"1.4em"}),e.projectName," is baselined successfully with Version:",K.map((function(e){return(0,b.jsxs)(b.Fragment,{children:[" ",e.baselineVer]})}))," "]})}))]}):"",(0,b.jsx)("div",{className:"col-md-12",children:(0,b.jsxs)("div",{className:"pageTitle",children:[L.map((function(e){return(0,b.jsx)("div",{className:"childOne",children:(0,b.jsx)("h2",{children:e.projectName})})})),(0,b.jsx)("div",{className:"childTwo",children:(0,b.jsx)("h2",{children:"Baselines"})}),(0,b.jsx)("div",{className:"childThree"})]})}),(0,b.jsx)(S.Z,{routes:Ee,currentScreenName:["Projects","Open","Monitoring","Baselines"]}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"form-group cvu",children:(0,b.jsx)("div",{className:"col-md-12 no-padding baselINEtABLE primeReactDataTable",style:{paddingLeft:"100px",paddingRight:"100px"},children:(0,b.jsx)(y,{grp4Items:s,data:v,rows:25,setCheckedData:C,setCheckedData1:R,dynamicColumns:Me,headerData:ie,setHeaderData:oe})})})}),(0,b.jsx)("br",{}),console.log(T.length),1==s[7].is_write?(0,b.jsxs)("div",{class:" btn-container center",children:[!0===ke.is_write?T.length>0?(0,b.jsxs)("button",{type:"submit",style:{cursor:"no-drop"},onKeyDown:function(e){e.preventDefault},className:"btn btn-primary",children:[" ",(0,b.jsx)(c.Sf5,{}),"Create Baseline"]}):(0,b.jsxs)("button",{type:"submit",className:"btn btn-primary",onClick:function(){var e=setTimeout((function(){V(!0)}),2e3);r()({method:"post",url:g+"/ProjectMS/Baselines/CreateBaseline",data:{ObjectId:n,CreatedById:Z}}).then((function(t){console.log(t.data),q(t.data),clearTimeout(e),V(!1),Pe(),F(!0),setTimeout((function(){F(!1)}),3e3)}))},children:[" ",(0,b.jsx)(c.Sf5,{}),"Create Baseline"]}):T.length>0?(0,b.jsxs)("button",{type:"submit",style:{cursor:"not-allowed"},className:"btn btn-primary",children:[" ",(0,b.jsx)(c.Sf5,{}),"Create Baseline"]}):(0,b.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{cursor:"not-allowed"},children:[" ",(0,b.jsx)(c.Sf5,{}),"Create Baseline"]}),!0===ke.is_write?9==T.length||8==T.length||0==T.length?(0,b.jsxs)("button",{type:"submit",style:{cursor:"no-drop"},onKeyDown:function(e){e.preventDefault},className:"btn btn-primary",children:[" ",(0,b.jsx)(d.wPj,{}),"Compare Baseline"]}):(0,b.jsxs)("button",{type:"submit",className:"btn btn-primary",onClick:function(){var e=setTimeout((function(){V(!0)}),2e3);r()({method:"post",url:g+"/ProjectMS/Baselines/CompareBaseline?objectId=".concat(n,"&versionIds=").concat(T,"&UserId=").concat(Z,"&isUnVerSel=0")}).then((function(t){var a=t.data;console.log(t.data);t.data;console.log(a.tableData[0].level);var l=t.data.tableData;console.log(l[0].level);for(var s=function(e){console.log(l[e]),l[e].lvl=l[e].level,l[e].id=l[e].id-2,Object.keys(l[e]).forEach((function(t){t.includes("baseline")&&0==["",null].includes(l[e][t])&&"string"==l[e].type&&(console.log(l[e][t]),o()(l[e][t]).isValid()?(l[e][t]=o()(l[e][t]).format("DD-MMM-yyyy"),console.log(l[e][t])):l[e][t]="0.00")})),console.log(l[e])},r=0;r<l.length;r++)s(r);var i=t.data.columns.replaceAll("'","").split(",");Ae(l),l[0].col="Baseline Data",k(l),ge(i),Ie("/project/compareBaseline",{state:{tabledata:l,projectData:L,excludedCols:me,displayColumns:fe,columns:i,iconState:ye,projectId:n}}),clearTimeout(e),V(!1)}))},children:[" ",(0,b.jsx)(d.wPj,{}),"Compare Baseline"]}):9==T.length||8==T.length||0==T.length?(0,b.jsxs)("button",{type:"submit",style:{cursor:"not-allowed"},className:"btn btn-primary",children:[" ",(0,b.jsx)(d.wPj,{}),"Compare Baseline"]}):(0,b.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{cursor:"not-allowed"},children:[" ",(0,b.jsx)(d.wPj,{}),"Compare Baseline"]})]}):"",(0,b.jsx)("br",{}),H?(0,b.jsx)(p.Z,{handleAbort:function(){ce.current&&ce.current.abort(),V(!1)}}):""]})}},37901:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var a=n(29439),l=n(72791),s=(n(74569),n(40091),n(72572),n(80184));var r=n(90928),i=n(57689),o=n(83854);n(43648);var c=function(e){var t=(0,l.useState)(!1),n=(0,a.Z)(t,2),c=n[0],d=(n[1],(0,i.TH)());console.log("in line 10------"),console.log(e),console.log(d.state);var u=null===d||void 0===d?void 0:d.state,m=u.tabledata,h=u.projectData,p=u.excludedCols,f=u.displayColumns,v=u.columns,x=u.iconState,g=u.projectId,j=(0,i.s0)();return(0,l.useEffect)((function(){console.log("in line 15------")}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"pageTitle",children:[(0,s.jsxs)("div",{className:"childOne",children:[c?(0,s.jsx)(o.Z,{}):"",null===h||void 0===h?void 0:h.map((function(e){return(0,s.jsx)("h2",{children:e.projectName})}))]}),(0,s.jsx)("div",{className:"childTwo",children:(0,s.jsx)("h2",{children:"Project Compare Baseline"})}),(0,s.jsx)("div",{className:"childThree"})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"pull-right mr20",onClick:function(){j("/project/Overview/:".concat(g),{state:{btnState:"Baselines"}})},children:(0,s.jsx)("i",{style:{float:"right",color:"#15a7ea",cursor:"pointer",textDecoration:"underline"},children:"Go Back"})})}),(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsx)(r.default,{data:m,rows:20,excludedCols:p,displayColumns:f,columns:v,iconState:x})})]})}},90928:function(e,t,n){n.r(t);var a=n(74165),l=n(15861),s=n(29439),r=(n(72426),n(72791)),i=n(56355),o=(n(37901),n(7692)),c=n(80184);t.default=function(e){var t=e.data,n=(e.excludedCols,e.displayColumns),d=e.iconState,u=e.columns,m=(e.rowExpand,(0,r.useState)([])),h=(0,s.Z)(m,2),p=h[0],f=h[1],v=(0,r.useState)(null),x=(0,s.Z)(v,2),g=x[0],j=x[1],b=(0,r.useState)(!1),y=(0,s.Z)(b,2),N=y[0],S=y[1],A=(0,r.useState)(!1),C=(0,s.Z)(A,2),Z=C[0],E=C[1],w=(0,r.useState)(i.jS6),D=(0,s.Z)(w,2),k=D[0];D[1],console.log(Z);var I=(0,r.useRef)([]);(0,r.useEffect)((function(){j(t)}),[t]),(0,r.useEffect)((function(){R()}),[g]),(0,r.useEffect)((function(){P()}),[N]);var P=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var l,s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=JSON.parse(JSON.stringify(t)),s=(0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l[r],Object.keys(t).forEach((function(e,a){n.includes(e.trim())&&0==N&&delete t[e]}));case 2:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<l.length)){e.next=8;break}return e.delegateYield(s(),"t0",5);case 5:r++,e.next=3;break;case 8:j(l),R();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){console.log(e);for(var t=e+1;;){var n;if(0==(null===(n=I.current[t])||void 0===n?void 0:n.attributes.level.nodeValue))return;I.current[t].classList.contains("displayNone")?I.current[t].classList.remove("displayNone"):I.current[t].classList.add("displayNone"),t+=1}};console.log(g);var R=function(){f((function(){return null===g||void 0===g?void 0:g.map((function(e,t){var a=[];return u.forEach((function(l,s){var r,u;console.log(l);var m,h=""+e[l.trim()]==null?" ":e[l.trim()],p=null;null!==h&&void 0!==h&&h.includes("^")&&(p=null===(m=h.replaceAll("&",""))||void 0===m?void 0:m.split("^"))[0];var f=null!=p?p[0]:h,v=null;if(null!==f&&void 0!==f&&f.includes("{")){var x=f;x=x.replaceAll("{",'{"').replaceAll("}",'"}').replaceAll("::",'":"'),v=JSON.parse(x),console.log(v)}console.log(n),(0!=N||0==n.includes(l))&&a.push(e.id<0?(0,c.jsxs)("th",{style:{textAlign:"center",backgroundColor:"rgb(230 229 229)",cursor:"pointer"},className:"ellipsis baseline",title:null!=p?p[0]:h.replace(/[[\]{}]/g,"").split(",").map((function(e){return e.replace(/::/g," : ").trim()})).join("\n"),rowSpan:null!=p&&p[1],children:[f.includes("{")?v.map((function(e,t){return console.log("in line 134-----"),console.log(e),(0,c.jsx)("span",{style:{textAlign:"center"},children:Object.keys(e).map((function(t){return(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)("strong",{className:"col-4",style:{textAlign:"end",cursor:"pointer"},children:t}),(0,c.jsx)("strong",{className:"col-1",children:":"}),(0,c.jsx)("span",{className:"col-5",style:{fontWeight:"normal",textAlign:"left"},children:e[t]})]})}))},t)})):f,(0,c.jsxs)("span",{onClick:function(){S((function(e){return!e}))},children:[t==d[0]&&s==d[1]&&l==d[2]&&(0,c.jsx)(i.jS6,{})," "," "]})]}):(0,c.jsx)("td",{className:"ellpss baseline",style:{fontSize:"13px",textAlign:"left"},title:null!=p?p[0]:h,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(c.Fragment,{children:["col"==l&&0==e.lvl&&1==(null===(r=g[t+1])||void 0===r?void 0:r.lvl)&&(0,c.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){T(t),console.log(Z),E(!0),1==Z?i.NR5:i.jS6},children:[k," "]}),"col"==l&&0==e.lvl&&2==(null===(u=g[t+1])||void 0===u?void 0:u.lvl)&&(0,c.jsxs)("span",{onClick:function(){T(t)},style:{cursor:"pointer"},children:[(0,c.jsx)(i.jS6,{})," "]})]}),null!==h&&void 0!==h&&h.includes("{")?v.map((function(e,t){return console.log("in line 134-----"),console.log(e),(0,c.jsx)("span",{style:{textAlign:"center"},children:Object.keys(e).map((function(t){return(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)("strong",{className:"col-4",style:{textAlign:"end",cursor:"pointer"},children:t}),(0,c.jsx)("strong",{className:"col-1",children:":"}),(0,c.jsx)("span",{className:"col-5",style:{fontWeight:"normal",textAlign:"left"},children:e[t]})]})}))},t)})):null!=p?p[0]:"Planned Cost"==h||"Planned Effort"==h||"Planned Start Date"==h||"Task Plan"==h||"Planned End Date"==h||"Number of Project Change Requests"==h||"Agile"==h||2==e.lvl?"Task Plan"==h||"Agile"==h?(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)(o.nRX,{})," \xa0",h]}):(0,c.jsxs)("span",{style:{cursor:"pointer"},children:["\xa0\xa0\xa0\xa0\xa0\xa0",(0,c.jsx)(o.nRX,{})," \xa0",h]}):h]})}))})),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("tr",{level:e.lvl,ref:function(e){I.current[t]=e},className:"".concat(e.lvl>0&&"displayNone"),children:a},t)})}))}))};return(0,c.jsxs)("div",{children:[" ",(0,c.jsx)("div",{style:{height:"auto",overflowX:"scroll"},children:(0,c.jsx)("table",{className:"table table-bordered table-hover table-responsive ",children:(0,c.jsx)("tbody",{children:p})})})]})}},10050:function(e,t,n){n.r(t);var a=n(93433),l=n(4942),s=n(1413),r=n(29439),i=n(72791),o=n(17425),c=n(78820),d=n(14651),u=n(70828),m=n(16856),h=n(74569),p=n.n(h),f=n(34831),v=n(63521),x=n(58241),g=n(72426),j=n.n(g),b=(n(73220),n(57689)),y=(n(65713),n(59513)),N=n.n(y),S=n(32125),A=n(7692),C=n(72920),Z=n(38262),E=n(80184);t.default=function(){var e,t,n,h,g,y,w=f.N.baseUrl,D=localStorage.getItem("resId"),k=(0,i.useState)(1),I=(0,r.Z)(k,2),P=I[0],T=I[1],R=((0,b.TH)(),(0,i.useState)(null)),_=(0,r.Z)(R,2),B=_[0],M=_[1],F=(0,i.useState)(),U=(0,r.Z)(F,2),Q=U[0],L=U[1],J=(0,i.useState)(),O=(0,r.Z)(J,2),Y=O[0],H=O[1],V=(0,i.useState)([]),z=(0,r.Z)(V,2),G=z[0],K=z[1],q=(0,i.useState)([]),W=(0,r.Z)(q,2),X=W[0],$=W[1],ee=(0,i.useState)([]),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],le=(0,i.useState)([]),se=(0,r.Z)(le,2),re=se[0],ie=se[1],oe=(0,i.useState)([]),ce=(0,r.Z)(oe,2),de=ce[0],ue=ce[1],me=(0,i.useState)([]),he=(0,r.Z)(me,2),pe=he[0],fe=he[1],ve=(0,i.useState)([]),xe=(0,r.Z)(ve,2),ge=xe[0],je=xe[1],be=(0,i.useState)([]),ye=(0,r.Z)(be,2),Ne=ye[0],Se=ye[1],Ae=(0,i.useState)([]),Ce=(0,r.Z)(Ae,2),Ze=Ce[0],Ee=Ce[1],we=(0,i.useState)([]),De=(0,r.Z)(we,2),ke=De[0],Ie=De[1],Pe=(0,i.useState)([]),Te=(0,r.Z)(Pe,2),Re=Te[0],_e=Te[1],Be=(0,i.useState)([]),Me=(0,r.Z)(Be,2),Fe=Me[0],Ue=Me[1],Qe=(0,i.useState)([]),Le=(0,r.Z)(Qe,2),Je=Le[0],Oe=Le[1],Ye=(0,i.useState)([]),He=(0,r.Z)(Ye,2),Ve=He[0],ze=He[1],Ge=(0,i.useState)([]),Ke=(0,r.Z)(Ge,2),qe=Ke[0],We=Ke[1],Xe=(0,i.useState)([]),$e=(0,r.Z)(Xe,2),et=$e[0],tt=$e[1],nt=(0,i.useState)([]),at=(0,r.Z)(nt,2),lt=at[0],st=at[1],rt=(0,i.useState)([]),it=(0,r.Z)(rt,2),ot=it[0],ct=it[1],dt=(0,i.useState)([]),ut=(0,r.Z)(dt,2),mt=ut[0],ht=ut[1],pt=(0,i.useState)(!1),ft=(0,r.Z)(pt,2),vt=ft[0],xt=ft[1],gt=(0,i.useState)(!1),jt=(0,r.Z)(gt,2),bt=jt[0],yt=jt[1],Nt=(0,i.useState)([]),St=(0,r.Z)(Nt,2),At=St[0],Ct=St[1],Zt=(0,i.useState)([]),Et=(0,r.Z)(Zt,2),wt=Et[0],Dt=Et[1],kt=(0,i.useState)([]),It=(0,r.Z)(kt,2),Pt=It[0],Tt=It[1],Rt=(0,i.useState)([]),_t=(0,r.Z)(Rt,2),Bt=_t[0],Mt=_t[1],Ft=(0,i.useState)([]),Ut=(0,r.Z)(Ft,2),Qt=Ut[0],Lt=Ut[1],Jt=(0,i.useState)([]),Ot=(0,r.Z)(Jt,2),Yt=Ot[0],Ht=Ot[1],Vt=(0,i.useState)(),zt=(0,r.Z)(Vt,2),Gt=zt[0],Kt=zt[1],qt=(0,i.useState)(!1),Wt=(0,r.Z)(qt,2),Xt=Wt[0],$t=Wt[1],en=(0,i.useState)({docType:""}),tn=(0,r.Z)(en,2),nn=tn[0],an=tn[1],ln=(0,i.useState)([]),sn=(0,r.Z)(ln,2),rn=sn[0],on=sn[1];(0,i.useEffect)((function(){p()({method:"GET",url:w+"/CommonMS/master/getMenus?loggedUserId=".concat(D)}).then((function(e){e.data.forEach((function(e){"Delivery"===e.display_name&&on([e])}))}))}),[]);var cn=(0,i.useState)(""),dn=(0,r.Z)(cn,2),un=(dn[0],dn[1]),mn=(0,i.useRef)([]),hn=(0,i.useState)({projectCode:"",projectName:"",customerId:"",holidayCalendarId:"",weekCalendarId:"",approvingCostCenterId:"",typProjectCatId:"",typContractTermsCatId:"",typSchedulingModeId:"",typTimeEntryModeId:"",isBillable:"1",isOpenForTime:"1",isOpenForExpenses:"1",plannedStartDt:"",plannedEndDt:"",isPrjStatus:"0",size:"",UnitOfMeasure:"",isTaskPlanUpload:"0",currencyId:"",isUsageReq:"1",isUtilizationReq:"1",preliminaryStartDt:"",preliminaryEndDt:"",projectHealthId:"498",prjHealthUpdatedDate:"",projectdivisionId:"0",projectPhase:"",source:"PPM",isDeliverable:"",sfEngTypeId:"",serviceOfferingId:"",businessUnit:"",divisionId:"",engagementId:"",teamLocationId:"",effortTypeId:"",projectExecMethodId:"",value:"",loggedId:"",deliveryManager:"",primaryManger:"",projectRequestor:"",projectApproval:"",facilitator:"",pcqaType:"",clientEmail:"",PoNumber:""}),pn=(0,r.Z)(hn,2),fn=pn[0],vn=pn[1],xn=function(){p()({method:"get",url:w+"/ProjectMS/risks/getAssignedData"}).then((function(e){var t=e.data;Ue(t),Oe(t),ze(t),We(t)})).catch((function(e){}))},gn=(0,b.s0)(),jn=function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getEffortTypesById?pcid=".concat(e)}).then((function(e){var t=e.data;Tt(t)})).catch((function(e){}))};(0,i.useEffect)((function(){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getAllProjectCategorys"}).then((function(e){var t=e.data;K(t),jn()})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getAllDepartments"}).then((function(e){var t=e.data;$(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getCustomers"}).then((function(e){var t=e.data;ae(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getHolidayCalendars"}).then((function(e){var t=e.data;Ee(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getWeekCalendars"}).then((function(e){var t=e.data;Ie(t)})),xn(),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getLkupTypes"}).then((function(e){var t=e.data;Se(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getProjectPhases"}).then((function(e){var t=e.data;st(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getProjectTypes"}).then((function(e){var t=e.data;ct(t)})),p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getserviceOfferings"}).then((function(e){e.data,Dt(e.data.map((function(e){return{key:e.id,title:e.offering_name}})))})).catch((function(e){})),p()({method:"get",url:w+"/ProjectMS/Audit/getProjectNameandId"}).then((function(e){var t=e.data;Kt(t)})).catch((function(e){}))}),[]);var bn=function(e){Ht(e.target.files[0])};(0,i.useEffect)((function(){yn()}),[P]);var yn=function(){for(var e=[],t=0;t<P;t++)e.push(t);M((function(){return e.map((function(e){return(0,E.jsxs)("div",{className:"group-content row",children:[(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Contract Document Type "}),(0,E.jsxs)("select",{className:"cancel",id:"docType",onChange:function(e){var t=e.target,n=t.value,a=t.id;an((0,s.Z)((0,s.Z)({},nn),{},(0,l.Z)({},a,n)))},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:"386",children:"Email"}),(0,E.jsx)("option",{value:"387",children:"Others"}),(0,E.jsx)("option",{value:"385",children:"PO"}),(0,E.jsx)("option",{value:"384",children:"SOW"})]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Upload Contract Document "}),(0,E.jsx)("input",{className:"fileUpload form-control cancel",type:"file",name:"file",id:"file",onChange:bn})]}),(0,E.jsx)("div",{className:"form-group col-md-4 mb-2",style:{marginTop:"17px",fontSize:"20px"},children:(0,E.jsx)(c.YK6,{onClick:function(){return T((function(e){return e-1}))}})})]})}))}))},Nn=function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n))),fe([]),function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getDivisionsById?cid=".concat(e)}).then((function(e){var t=e.data;fe(t)}))}(n),function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getCustomerEmail?cid=".concat(e)}).then((function(e){var t=e.data[0].customer_emails;ie(t)}))}(n)},Sn=function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n))),je([]),function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getEngagementsById?Did=".concat(e)}).then((function(e){var t=e.data;je(t)}))}(n)},An=function(e){var t,n=e.target,a=n.value,r=n.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},r,a))),function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getEngagementTypeById?eid=".concat(e)}).then((function(e){var t=e.data;Ct(t)})).catch((function(e){}))}(a),function(e){p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getContractTeamsById?eid=".concat(e)}).then((function(e){var t=e.data;tt(t)})).catch((function(e){}))}(a),t=a,p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getPoNumberByEnguagementId?eid=".concat(t)}).then((function(e){var t=e.data;ht(t)}))},Cn=function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n)))},Zn=function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n)))};return(0,E.jsxs)("div",{children:[(0,E.jsxs)(E.Fragment,{children:[bt?(0,E.jsxs)("div",{className:"statusMsg success",children:[" ",(0,E.jsx)(A.hXj,{})," Project Created Successfully"," "]}):"",vt?(0,E.jsxs)("div",{className:"statusMsg error cancel",children:[" ",(0,E.jsx)(c.CSE,{})," Please select the valid values for highlighted fields"," "]}):"",Xt?(0,E.jsxs)("div",{className:"statusMsg error",children:[" ",(0,E.jsx)(c.CSE,{}),"Please select the valid values for highlighted fields"]}):""]}),(0,E.jsxs)("div",{className:"pageTitle",children:[(0,E.jsx)("div",{className:"childOne"}),(0,E.jsx)("div",{className:"childTwo",children:(0,E.jsx)("h2",{children:"Create Project"})}),(0,E.jsx)("div",{className:"childThree"})]}),(0,E.jsx)(Z.Z,{routes:rn,currentScreenName:["Projects","Create Project"]}),(0,E.jsx)("div",{className:"helpBtn",style:{float:"right",paddingTop:"5px"},children:(0,E.jsx)(C.Z,{pdfname:"CreateProjects.pdf",name:"Project Create"})}),(0,E.jsxs)("div",{className:"group mb-5 customCard",children:[(0,E.jsx)("h2",{children:"Project Details"}),(0,E.jsxs)("div",{className:"group-content row",children:[(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Project Code ",(0,E.jsx)("span",{className:"error-text unique",children:"\xa0*"})]}),(0,E.jsx)("div",{className:"textfield",ref:function(e){mn.current[0]=e},children:(0,E.jsx)("input",{type:"text",className:"unique cancel",id:"projectCode",name:"projectCode",placeholder:"Project Code",onKeyDown:function(e){"Space"===e.code&&""===e.target.value.trim()&&e.preventDefault()},onChange:function(e){var t=e.target.value.replace(/^\s+/g,"");e.target.value=t,function(e){var t=e.target,n=t.value;t.id,vn((0,s.Z)((0,s.Z)({},fn),{},{projectCode:n}))}(e)}})})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Project Name",(0,E.jsx)("span",{className:"error-text unique",children:"\xa0*"})," "]}),(0,E.jsx)("div",{className:"textfield",ref:function(e){mn.current[1]=e},children:(0,E.jsx)("input",{type:"text",className:" unique cancel",id:"projectName",placeholder:"Project Name",required:!0,onKeyDown:function(e){"Space"===e.code&&""===e.target.value.trim()&&e.preventDefault()},onChange:function(e){var t=e.target.value.replace(/^\s+/g,"");e.target.value=t,function(e){var t=e.target,n=t.value;t.id,vn((0,s.Z)((0,s.Z)({},fn),{},{projectName:n}))}(e)}})})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"typProjectCatId",children:["Project Category ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel  ",id:"typProjectCatId",onChange:function(e){!function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n))),jn(n)}(e)},ref:function(e){mn.current[2]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),G.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.project_category_name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Business Unit ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"businessUnit",onChange:function(e){!function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n)))}(e)},ref:function(e){mn.current[3]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),X.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Customer ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"customerId",onChange:function(e){return Nn(e)},ref:function(e){mn.current[4]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),ne.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.full_name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Division ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"divisionId",onChange:function(e){return Sn(e)},ref:function(e){mn.current[5]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),pe.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Engagement Name ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"engagementId",onChange:function(e){return An(e)},ref:function(e){mn.current[6]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),ge.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Engagement Type ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel disableField",id:"approvingCostCenterId",disabled:!0,onChange:function(e){return Cn(e)},ref:function(e){mn.current[7]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),At.map((function(e){var t;return(0,E.jsxs)("option",{value:e.id,selected:e.lkup_name==(null===(t=At[0])||void 0===t?void 0:t.lkup_name),children:[" ",e.lkup_name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Contract Terms ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel disableField",id:"typContractTermsCatId",disabled:!0,onChange:function(e){return Cn(e)},ref:function(e){mn.current[8]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),et.map((function(e){var t;return(0,E.jsxs)("option",{value:e.id,selected:e.lkup_name==(null===(t=et[0])||void 0===t?void 0:t.lkup_name),children:[" ",e.lkup_name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Effort Type"}),(0,E.jsxs)("select",{className:"text cancel",id:"effortTypeId",onChange:function(e){Zn(e)},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),Pt.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.effort_name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Execution Methodology ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"projectExecMethodId",onChange:function(e){Zn(e)},ref:function(e){mn.current[9]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:365,children:"Agile"}),(0,E.jsx)("option",{value:366,children:"Waterfall"}),(0,E.jsx)("option",{value:367,children:"Iterative"}),(0,E.jsx)("option",{value:368,children:"Other"})]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Project Phase ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"projectPhase",onChange:function(e){return Cn(e)},ref:function(e){mn.current[10]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),lt.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.lkup_name]})}))]})]}),(0,E.jsx)("div",{className:"col-md-4 ",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:" form-group col-md-6",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Project Scope"}),(0,E.jsx)("input",{type:"text",className:"text cancel",id:"value",defaultValue:"0",required:!0,onChange:function(e){var t=e.target.value;/^[0-9]*\.?[0-9]*$/.test(t)||(e.target.value=t.replace(/[^0-9.]/g,"")),function(e){var t=e.target,n=t.value;t.id,vn((0,s.Z)((0,s.Z)({},fn),{},{value:n}))}(e)}})]}),(0,E.jsxs)("div",{className:" form-group col-md-6",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Unit of Measurement"}),(0,E.jsxs)("select",{className:"text cancel",id:"UnitOfMeasure",onChange:function(e){return function(e){var t=e.target,n=t.value,a=t.id;vn((0,s.Z)((0,s.Z)({},fn),{},(0,l.Z)({},a,n)))}(e)},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:243,children:"FP"}),(0,E.jsx)("option",{value:244,children:"UCP"})]})]})]})}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Currency ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"currencyId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[11]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),Ne.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.description]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"Revenue"}),(0,E.jsx)("input",{type:"text",className:"text cancel",id:"size",defaultValue:"0.00",required:!0,onChange:function(e){var t=e.target.value;/^[0-9]*\.?[0-9]*$/.test(t)||(e.target.value=t.replace(/[^0-9.]/g,"")),function(e){var t=e.target,n=t.value;t.id,vn((0,s.Z)((0,s.Z)({},fn),{},{size:n}))}(e)}})]}),(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col-md-6",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Deliverables ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"isDeliverable",onChange:function(e){return Cn(e)},ref:function(e){mn.current[12]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:"Yes",children:"Yes"}),(0,E.jsx)("option",{value:"No",children:"No"})]})]}),(0,E.jsxs)("div",{className:"form-group col-md-6 ",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Team Location ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"teamLocationId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[13]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:364,children:"Blended Shore"}),(0,E.jsx)("option",{value:361,children:"Client Site"}),(0,E.jsx)("option",{value:363,children:"Off Shore"}),(0,E.jsx)("option",{value:362,children:"Onsite"})]})]})]})}),(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"form-group col-md-6 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"PO Number"}),(0,E.jsxs)("select",{className:"cancel",id:"PoNumber",onChange:function(e){return Cn(e)},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),mt.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-6 mb-2",children:[(0,E.jsx)("label",{htmlFor:"name",children:"SF Engagement Type"}),(0,E.jsxs)("select",{className:"text cancel",id:"sfEngTypeId",onChange:function(e){return Cn(e)},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:1357,children:"New Persuit"}),(0,E.jsx)("option",{value:1358,children:"Stream"})]})]})]})})]})]}),(0,E.jsxs)("div",{className:"group mb-5 customCard",children:[(0,E.jsx)("h2",{children:"Schedule"}),(0,E.jsxs)("div",{className:"group-content row",children:[(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Preliminary Start Date ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("div",{className:"datepicker cancel",ref:function(e){mn.current[14]=e},children:(0,E.jsx)(N(),{id:"plannedStartDt",className:"cancel",selected:Q,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){L(e),vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,l.Z)({},"plannedStartDt",j()(e).format("yyyy-MM-DD")))}))},placeholderText:"Preliminary Start Date",onKeyDown:function(e){e.preventDefault()}})})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Preliminary End Date ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})," "]}),(0,E.jsx)("div",{className:"datepicker cancel",ref:function(e){mn.current[15]=e},children:(0,E.jsx)(N(),{className:"cancel ",id:"plannedEndDt",selected:Y,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){H(e),vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,l.Z)({},"plannedEndDt",j()(e).format("yyyy-MM-DD")))}))},minDate:Q,placeholderText:"Preliminary End Date",onKeyDown:function(e){e.preventDefault()}})})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Time Entry Mode ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})," "]}),(0,E.jsxs)("select",{className:"text cancel",id:"typTimeEntryModeId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[16]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:19,children:"Project Level"}),(0,E.jsx)("option",{value:20,children:"Task Level"})]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:["Scheduling Mode ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"typSchedulingModeId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[17]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,E.jsx)("option",{value:30,children:"Days"}),(0,E.jsx)("option",{value:31,children:"Hours"}),(0,E.jsx)("option",{value:29,children:"Weeks"})]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:[" ","Holiday Calendar ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"holidayCalendarId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[18]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),Ze.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.name]})}))]})]}),(0,E.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,E.jsxs)("label",{htmlFor:"name",children:[" ","Week Calendar ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsxs)("select",{className:"text cancel",id:"weekCalendarId",onChange:function(e){return Cn(e)},ref:function(e){mn.current[19]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),ke.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.calendar_name]})}))]})]})]})]}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsxs)("div",{className:"group mb-5 customCard",children:[(0,E.jsx)("h2",{children:"Key Contact "}),(0,E.jsxs)("div",{className:"group-content row",children:[(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsxs)("label",{className:"col-5",htmlFor:"name",children:["Delivery Manager ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("div",{className:"autoComplete-container react  cancel  reactsearchautocomplete",ref:function(e){mn.current[20]=e},children:(0,E.jsx)(v.ReactSearchAutocomplete,{items:Fe,type:"Text",name:"resource",id:"deliveryManager",className:"err text cancel nochange",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"Type minimum 3 characters to get the list",resource:Fe,onClear:function(e){vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},{deliveryManager:""})}))},resourceFnc:xn,onSelect:function(e){vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},{deliveryManager:e.id})}))},showIcon:!1})})})]})}),(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsxs)("label",{className:"col-5",htmlFor:"name",children:["Primary Manager ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("div",{className:"autoComplete-container react cancel  reactsearchautocomplete",ref:function(e){mn.current[21]=e},children:(0,E.jsx)(v.ReactSearchAutocomplete,{items:Fe,type:"Text",name:"resource",id:"primaryManger",className:"err text cancel nochange",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"Type minimum 3 characters to get the list",resource1:Je,onClear:function(e){vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},{primaryManger:""})}))},resourceFnc:xn,onSelect:function(e){var t;vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},{primaryManger:e.id,projectRequestor:e.id})})),ue((function(t){return(0,s.Z)((0,s.Z)({},t),{},{projectRequestor:e.name})})),t=e.id,p()({method:"get",url:w+"/ProjectMS/ProjectScopeChange/getSupervisor?UseId=".concat(t)}).then((function(e){var t=e.data.resorseId,n=e.data.name;_e(n),vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},{projectApproval:t})}))}))},showIcon:!1})})})]})}),(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsxs)("label",{className:"col-5",htmlFor:"name",children:["Project Requestor"," ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("div",{className:"autoComplete-container cancel  reactsearchautocomplete",ref:function(e){mn.current[22]=e},children:(0,E.jsx)(v.ReactSearchAutocomplete,{items:Ve,type:"Text",name:"resource",id:"projectRequestor",className:"err text cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:de.projectRequestor,resource2:Ve,onClear:function(e){vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},{projectRequestor:""})}))},resourceFnc:xn,onSelect:function(e){vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},{projectRequestor:e.id})}))},showIcon:!1})})})]})}),(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsxs)("label",{className:"col-5",htmlFor:"name",children:["Project Approver ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("div",{className:"autoComplete-container cancel  reactsearchautocomplete ",id:"auto",ref:function(e){mn.current[23]=e},children:(0,E.jsx)(v.ReactSearchAutocomplete,{items:qe,type:"Text",name:"resource",id:"projectApproval",className:"err ",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:Re,resource:Fe,onClear:function(e){vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},{projectApproval:""})}))},resourceFnc:qe,onSelect:function(e){vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},{projectApproval:e.id})}))},showIcon:!1})})})]})})]})]})}),(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsxs)("div",{className:"group mb-0 customCard",children:[(0,E.jsx)("h2",{children:" Services Offered"}),(0,E.jsx)("div",{className:"group-content row",children:(0,E.jsx)("div",{className:"transfer",ref:function(e){mn.current[24]=e},children:0===wt.length?(0,E.jsx)("div",{children:"No data available."}):(0,E.jsx)(x.Z,{listStyle:{width:180,height:150},dataSource:wt,targetKeys:Qt,selectedKeys:Bt,onChange:function(e){Lt(e);var t=[];e.forEach((function(e){t.push(e)})),vn((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,l.Z)({},"serviceOfferingId",t.toString()))}))},onSelectChange:function(e,t){Mt([].concat((0,a.Z)(e),(0,a.Z)(t)))},render:function(e){return e.title}})})})]})}),"25"==(null===(e=et[0])||void 0===e?void 0:e.id)||"26"==(null===(t=et[0])||void 0===t?void 0:t.id)||"27"==(null===(n=et[0])||void 0===n?void 0:n.id)||"28"==(null===(h=et[0])||void 0===h?void 0:h.id)||"606"==(null===(g=et[0])||void 0===g?void 0:g.id)||"752"==(null===(y=et[0])||void 0===y?void 0:y.id)?(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsxs)("div",{className:"group mb-5 customCard",children:[(0,E.jsxs)("h2",{children:[(0,E.jsx)(o.t_2,{})," PCQA"]}),(0,E.jsxs)("div",{className:"group-content row",children:[(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsx)("label",{className:"col-5 ",htmlFor:"deliveryManager ",children:"Facilitator"}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6 ",children:(0,E.jsx)("div",{className:"autoComplete-container",ref:function(e){var t,n,a,l,s,r;"25"!=(null===(t=et[0])||void 0===t?void 0:t.id)&&"26"!=(null===(n=et[0])||void 0===n?void 0:n.id)&&"27"!=(null===(a=et[0])||void 0===a?void 0:a.id)&&"28"!=(null===(l=et[0])||void 0===l?void 0:l.id)&&"606"!=(null===(s=et[0])||void 0===s?void 0:s.id)&&"752"!=(null===(r=et[0])||void 0===r?void 0:r.id)||(mn.current[24]=e)},children:(0,E.jsx)(v.ReactSearchAutocomplete,{items:Ve,type:"Text",name:"resource",id:"facilitator",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"Type minimum 3 characters to get the list",resource2:Ve,resourceFnc:xn,onSelect:function(e){vn((function(t){return(0,s.Z)((0,s.Z)({},t),{},{facilitator:e.id})}))},showIcon:!1})})})]})}),(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsx)("label",{className:"col-5 ",htmlFor:"primaryManager  ",children:"Client Email"}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("input",{type:"text",className:"form-control disableField",id:"clientEmail ",required:!0,placeholder:"Client Email",Value:""===re?" ":re,onChange:function(e){!function(e){var t=e.target,n=t.value;t.id,vn((0,s.Z)((0,s.Z)({},fn),{},{clientEmail:n}))}(e),un(e)},disabled:!0})})]})}),(0,E.jsx)("div",{className:" col-md-12 mb-2",children:(0,E.jsxs)("div",{className:"form-group row",children:[(0,E.jsxs)("label",{className:"col-5 ",htmlFor:"projectRequestor ",children:["Project Type ",(0,E.jsx)("span",{className:"error-text",children:"\xa0*"})]}),(0,E.jsx)("span",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-6 ",children:(0,E.jsxs)("select",{className:"text cancel",id:"pcqaType",onChange:function(e){return Cn(e)},ref:function(e){mn.current[25]=e},children:[(0,E.jsx)("option",{value:"",children:" <<Please Select>>"}),ot.map((function(e){return(0,E.jsxs)("option",{value:e.id,children:[" ",e.lkup_name]})}))]})})]})})]})]})}):""]}),(0,E.jsxs)("div",{className:"group mb-5 customCard",children:[(0,E.jsx)("h2",{children:"Documents "}),B,(0,E.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 my-2 btn-container center",children:(0,E.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){T((function(e){return e+1}))},children:[" ",(0,E.jsx)(m.LkC,{}),"Add"," "]})})]}),(0,E.jsxs)("div",{className:" form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:[(0,E.jsxs)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return function(){var e,t;if((0,S.Z)(mn))return yt(!1),void xt(!0);if(Gt.some((function(e){return e.name==fn.projectName}))){for(var n=document.getElementsByClassName("unique"),a=0;a<n.length;a++)n[a].classList.add("error-block");return $t(!0),void xt(!1)}p().postForm(w+"/ProjectMS/ProjectScopeChange/projectCreate?ObjectTypeId=3&loggedUserId=512&commitMessage=createFolder",{file:Yt,model:JSON.stringify({projectCode:fn.projectCode,projectName:fn.projectName,customerId:fn.customerId,holidayCalendarId:fn.holidayCalendarId,weekCalendarId:fn.weekCalendarId,approvingCostCenterId:null===(e=At[0])||void 0===e?void 0:e.id,typProjectCatId:fn.typProjectCatId,typContractTermsCatId:null===(t=et[0])||void 0===t?void 0:t.id,typSchedulingModeId:fn.typSchedulingModeId,typTimeEntryModeId:fn.typTimeEntryModeId,isBillable:fn.isBillable,isOpenForTime:fn.isOpenForTime,isOpenForExpenses:fn.isOpenForExpenses,plannedStartDt:fn.plannedStartDt,plannedEndDt:fn.plannedEndDt,isPrjStatus:fn.isPrjStatus,size:fn.size,UnitOfMeasure:fn.UnitOfMeasure,isTaskPlanUpload:fn.isTaskPlanUpload,currencyId:fn.currencyId,isUsageReq:fn.isUsageReq,isUtilizationReq:fn.isUtilizationReq,preliminaryStartDt:fn.preliminaryStartDt,preliminaryEndDt:fn.preliminaryEndDt,projectHealthId:fn.projectHealthId,prjHealthUpdatedDate:fn.prjHealthUpdatedDate,projectdivisionId:fn.projectdivisionId,projectPhase:fn.projectPhase,source:fn.source,isDeliverable:fn.isDeliverable,sfEngTypeId:fn.sfEngTypeId,serviceOfferingId:fn.serviceOfferingId,businessUnit:fn.businessUnit,divisionId:fn.divisionId,engagementId:fn.engagementId,teamLocationId:fn.teamLocationId,effortTypeId:fn.effortTypeId,projectExecMethodId:fn.projectExecMethodId,value:fn.value,loggedId:D,deliveryManager:fn.deliveryManager,primaryManger:fn.primaryManger,projectRequestor:fn.projectRequestor,projectApproval:fn.projectApproval,facilitator:fn.facilitator,pcqaType:fn.pcqaType,clientEmail:re,PoNumber:fn.PoNumber,docType:nn.docType})},{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data;xt(!1),yt(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){yt(!1),gn("/project/Overview/:".concat(t.projectId.id))}),1e3)}))}()},children:[(0,E.jsx)(d.CLo,{})," Save"]}),(0,E.jsxs)("button",{className:"btn btn-secondary",onClick:function(){gn("/project/create",{state:{btnState:"create"}}),window.location.reload()},children:[(0,E.jsx)(u.sQZ,{})," Cancel"]})]})]})}},92080:function(e,t,n){n.d(t,{Z:function(){return r}});n(72791);var a=n(15473),l=n(20890),s=n(80184);function r(e){var t=e.rowData,n=e.setAnchorEl,r=e.anchorEl;console.log(t+"in line 9...");var i=function(){n(null)},o=Boolean(r);return(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{"aria-owns":o?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){n(e.currentTarget)},onMouseLeave:i}),(0,s.jsx)(a.ZP,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:o,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:i,disableRestoreFocus:!0,children:(0,s.jsx)(l.Z,{sx:{p:1},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{style:{fontSize:"14px"},children:"Approval WorkFlow:"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{style:{fontSize:"13px"},children:t})]})})})]})}},84082:function(e,t,n){n.d(t,{Z:function(){return ee}});var a=n(93433),l=n(4942),s=n(1413),r=n(74165),i=n(15861),o=n(29439),c=n(72791),d=n(74569),u=n.n(d),m=n(34831),h=n(47477),p=n(1063),f=n(80184);var v=function(e){var t,n=e.resDtl,l=m.N.baseUrl,s=(0,c.useState)(0),r=(0,o.Z)(s,2),i=r[0],d=(r[1],(0,c.useState)([])),v=(0,o.Z)(d,2),x=v[0],g=v[1];(0,c.useEffect)((function(){j()}),[n,i]);var j=function(){u()({method:"get",url:l+"/customersms/Customers/getResAccountRoleDtls?rid=".concat(n,"&dateFlag=").concat(i)}).then((function(e){var t=e.data,n=[].concat([{customer:"Customer",role_types:"Roles"}],(0,a.Z)(t));console.log(n),g(n)}))};console.log(x);var b=(0,c.useState)([]),y=(0,o.Z)(b,2),N=y[0],S=y[1],A=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.customer,children:e.customer})},C=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.role_types,children:e.role_types})},Z=null===(t=Object.keys(N))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"customer"==e?A:"role_types"==e?C:"",field:e,header:N[e]},e)}));return(0,c.useEffect)((function(){x[0]&&S(JSON.parse(JSON.stringify(x[0])))}),[x]),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("h2",{children:"Customer Roles"}),(0,f.jsx)("div",{className:"group mb-3 customCard ",children:(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)("div",{className:"col-md-12 mt-1",children:(0,f.jsx)(h.Z,{data:x,rows:5,dynamicColumns:Z,headerData:N,setHeaderData:S})})})})]})})},x=(n(72572),n(72426)),g=n.n(x),j=n(11087);var b=function(e){e.resDtl;var t,n=e.resper,l=(0,c.useState)("0"),s=(0,o.Z)(l,2),r=s[0],i=s[1];console.log(r);var d=(0,c.useState)([]),v=(0,o.Z)(d,2),x=v[0],b=v[1],y=(0,c.useState)([]),N=(0,o.Z)(y,2),S=N[0],A=N[1],C=(0,c.useState)([]),Z=(0,o.Z)(C,2),E=Z[0],w=Z[1],D=(0,c.useState)([]),k=(0,o.Z)(D,2),I=k[0],P=k[1],T=m.N.baseUrl,R=function(e){var t;console.log("in line 91------------"),console.log(e);var n=null===(t=E[0])||void 0===t?void 0:t.split(":");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(j.rU,{target:"_blank",to:n[0]+":"+e[n[1]],"data-toggle":"tooltip",title:e.projectName,children:e[S[0]]})})},_=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"right","data-toggle":"tooltip",title:e.fromDate,children:e.fromDate})},B=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"right","data-toggle":"tooltip",title:e.toDate,children:e.toDate})},M=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.allocType,children:e.allocType})},F=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"right","data-toggle":"tooltip",title:e.noOfHrs,children:e.noOfHrs})},U=null===(t=Object.keys(I))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"projectName"==e?R:"fromDate"==e?_:"toDate"==e?B:"allocType"==e?M:"noOfHrs"==e?F:"",field:e,header:I[e]},e)}));(0,c.useEffect)((function(){x[0]&&P(JSON.parse(JSON.stringify(x[0])))}),[x]),(0,c.useEffect)((function(){!function(){var e;u()({method:"get",url:T+"/customersms/Customers/getResProjectDtls?rid=".concat(null===(e=n[0])||void 0===e?void 0:e.id,"&dateFlag=").concat(r)}).then((function(e){for(var t=e.data,n=0;n<t.length;n++)t[n].fromDate=null==t[n].fromDate?"":g()(t[n].fromDate).format("DD-MMM-yyyy"),t[n].toDate=null==t[n].toDate?"":g()(t[n].toDate).format("DD-MMM-yyyy");A(["projectName"]),w(["/project/Overview/:projectId"]);var l=[].concat([{projectName:"Project Name",fromDate:"From Date",toDate:"To Date",allocType:"Alloc Type",noOfHrs:"Hours"}],(0,a.Z)(t));console.log(l),b(l)}))}()}),[r,n]);var Q=function(e){console.log(e.target.id,"--radio"),i(e.currentTarget.id)};return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("h2",{children:"Project Details"}),(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsxs)("div",{className:"col-md-12 mb-2",children:[(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",id:"0",checked:"0"==r,onChange:function(e){return Q(e)}}),(0,f.jsx)("label",{htmlFor:"country-select",children:"Current+Future"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"-1",id:"-1",checked:"-1"===r,onChange:function(e){return Q(e)}}),(0,f.jsx)("label",{htmlFor:"past",children:"Past"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"",id:"",checked:""===r,onChange:function(e){return Q(e)}}),(0,f.jsx)("label",{htmlFor:"all",children:"All"})]})]}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)(h.Z,{data:x,rows:5,linkColumns:S,linkColumnsRoutes:E,dynamicColumns:U,headerData:I,setHeaderData:P})})]})]})})};var y=function(e){var t,n=e.resDtl,l=m.N.baseUrl,s=(0,c.useState)([]),r=(0,o.Z)(s,2),i=r[0],d=r[1],v=(0,c.useState)(0),x=(0,o.Z)(v,2),g=x[0];x[1],(0,c.useEffect)((function(){b()}),[n,g]);var b=function(){u()({method:"get",url:l+"/customersms/Customers/getResPrjRoleDetails?rid=".concat(n,"&dateFlag=").concat(g)}).then((function(e){var t=e.data;A(["projectName"]),w(["/project/Overview/:projectId"]);var n=[].concat([{customer:"Customer",projectName:"Project Name",role_types:"Roles"}],(0,a.Z)(t));console.log(n),d(n)}))};console.log(i);var y=(0,c.useState)([]),N=(0,o.Z)(y,2),S=N[0],A=N[1],C=(0,c.useState)([]),Z=(0,o.Z)(C,2),E=Z[0],w=Z[1],D=(0,c.useState)([]),k=(0,o.Z)(D,2),I=k[0],P=k[1],T=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.customer,children:e.customer})},R=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.role_types,children:e.role_types})},_=function(e){var t;console.log("in line 91------------"),console.log(e);var n=null===(t=E[0])||void 0===t?void 0:t.split(":");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(j.rU,{target:"_blank",to:n[0]+":"+e[n[1]],"data-toggle":"tooltip",title:e.projectName,children:e[S[0]]})})},B=null===(t=Object.keys(I))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"customer"==e?T:"role_types"==e?R:"projectName"==e?_:"",field:e,header:I[e]},e)}));return(0,c.useEffect)((function(){i[0]&&P(JSON.parse(JSON.stringify(i[0])))}),[i]),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("h2",{children:"Project Roles"}),(0,f.jsx)("div",{className:"group mb-3 customCard",children:(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)("div",{className:"col-md-12 mt-1",children:(0,f.jsx)(h.Z,{data:i,rows:5,dynamicColumns:B,headerData:I,setHeaderData:P})})})})]})})};var N=function(e){var t,n=e.resDtl;console.log(n);var l=(0,c.useState)([]),s=(0,o.Z)(l,2),r=s[0],i=(s[1],m.N.baseUrl),d=(0,c.useState)([]),v=(0,o.Z)(d,2),x=v[0],g=v[1],j=(0,c.useState)([]),b=(0,o.Z)(j,2),y=b[0],N=b[1],S=(0,c.useState)([]),A=(0,o.Z)(S,2),C=A[0],Z=(A[1],(0,c.useState)([])),E=(0,o.Z)(Z,2),w=E[0],D=E[1],k=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.empName,children:e.empName})},I=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.name,children:e.name})},P=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.long_title,children:e.long_title})},T=null===(t=Object.keys(w))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"empName"==e?k:"name"==e?I:"long_title"==e?P:"",field:e,header:w[e]},e)}));return(0,c.useEffect)((function(){x[0]&&D(JSON.parse(JSON.stringify(x[0])))}),[x]),console.log(r),(0,c.useEffect)((function(){u()({method:"get",url:i+"/customersms/Customers/getReporteeDtls?rid=".concat(n)}).then((function(e){var t=e.data,n=[].concat([{empName:"Employee Name",name:"Business Unit",long_title:"Designation"}],(0,a.Z)(t));console.log(n),g(n),N(x)}))}),[n]),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"customCard mt-2",children:[(0,f.jsx)("h2",{style:{marginTop:"-20px"},children:"Reportee Details"}),(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("div",{className:"col-md-12 mb-2"}),(0,f.jsx)("div",{className:"col-md-12 mt-1",children:(0,f.jsx)(h.Z,{data:x,rows:5,linkColumns:y,linkColumnsRoutes:C,dynamicColumns:T,headerData:w,setHeaderData:D})})]})]})})},S=(n(41980),n(39122),n(31896),n(81975),n(79361));var A=function(e){var t,n=e.resDtl,l=(0,c.useState)([]),s=(0,o.Z)(l,2),r=s[0],i=s[1],d=(0,c.useState)([]),v=(0,o.Z)(d,2),x=v[0],j=v[1],b=m.N.baseUrl,y=function(e){return(0,f.jsxs)("span",{children:[" ",(0,f.jsx)(S.Z,{skillRating:e.skill_rating_id})]})},N=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.group_name,children:e.group_name})},A=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.display_name,children:e.display_name})},C=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.skill_category,children:e.skill_category})},Z=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",align:"right",title:e.experience,children:e.experience})},E=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"right","data-toggle":"tooltip",title:e.last_used,children:e.last_used})},w=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.skill_status,children:e.skill_status})},D=null===(t=Object.keys(x))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"skill_rating_id"==e?y:"group_name"==e?N:"display_name"==e?A:"skill_category"==e?C:"experience"==e?Z:"last_used"==e?E:"skill_status"==e?w:"",field:e,header:x[e]},e)}));return(0,c.useEffect)((function(){r[0]&&j(JSON.parse(JSON.stringify(r[0])))}),[r]),(0,c.useEffect)((function(){u()({method:"get",url:b+"/customersms/Customers/getSkillDetails?rid=".concat(n)}).then((function(e){var t=e.data;console.log(t);for(var n=0;n<t.length;n++)t[n].experience=null==t[n].experience?"NA":t[n].experience,t[n].last_used=null==t[n].last_used?"NA":g()(t[n].last_used).format("DD-MMM-yyyy"),t[n].skill_status=1==t[n].skill_status?" Approved":"Requested";var l=[].concat([{group_name:"Skill Group",display_name:"Skill",skill_category:"Type",experience:"Exp (Months)",skill_rating_id:"Rating",last_used:"Last Used",skill_status:"Status"}],(0,a.Z)(t));console.log(l),i(l)}))}),[n]),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"customCard mt-2",children:[(0,f.jsx)("h2",{style:{marginTop:"-20px"},children:"Skills Details"}),(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("div",{className:"col-md-12 mb-2"}),(0,f.jsx)("div",{className:"col-md-12 mt-1",children:(0,f.jsx)(h.Z,{data:r,rows:5,dynamicColumns:D,headerData:x,setHeaderData:j})})]})]})})};var C=function(e){var t,n=e.resDtlHierarchy,l=(0,c.useState)([]),s=(0,o.Z)(l,2),r=s[0],i=s[1],d=(0,c.useState)("0"),v=(0,o.Z)(d,2),x=v[0],j=v[1],b=(0,c.useState)([]),y=(0,o.Z)(b,2),N=y[0],S=y[1],A=m.N.baseUrl,C=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.course,children:e.course})},Z=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",align:"right",title:e.registrationDate,children:e.registrationDate})},E=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"right","data-toggle":"tooltip",title:e.completionDate,children:e.completionDate})},w=null===(t=Object.keys(N))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(p.s,{sortable:!0,body:"course"==e?C:"registrationDate"==e?Z:"completionDate"==e?E:"",field:e,header:N[e]},e)}));(0,c.useEffect)((function(){r[0]&&S(JSON.parse(JSON.stringify(r[0])))}),[r]);var D=function(){u()({method:"get",url:A+"/customersms/Customers/getUserTrainingDtls?rid=".concat(n,"&dateFlag=").concat(x)}).then((function(e){for(var t=e.data,n=0;n<t.length;n++)t[n].registrationDate=null==t[n].registrationDate?"NA":g()(t[n].registrationDate).subtract(1,"days").format("DD-MMM-yyyy"),t[n].completionDate=null==t[n].completionDate?"NA":g()(t[n].completionDate).subtract(1,"days").format("DD-MMM-yyyy");var l=[].concat([{course:"Course Name",registrationDate:"Registration Date",completionDate:"Completion Date"}],(0,a.Z)(t));console.log(l),i(l)}))};(0,c.useEffect)((function(){D()}),[]),(0,c.useEffect)((function(){D()}),[n,x]);var k=function(e){j(e.currentTarget.id),console.log(e.currentTarget.id)};return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"customCard mt-2",children:[(0,f.jsx)("h2",{style:{marginTop:"-20px"},children:"Training Details"}),(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("div",{className:"col-md-12 mb-2"}),(0,f.jsxs)("div",{className:"col-md-12 mt-1",children:[(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"0",id:"0",value:"0",checked:"0"===x,onChange:function(e){return k(e)}}),(0,f.jsx)("label",{htmlFor:"country-select",children:"Current"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"-1",id:"-1",checked:"-1"===x,onChange:function(e){return k(e)}}),(0,f.jsx)("label",{htmlFor:"country-select",children:"Past"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input",type:"radio",name:"",id:"",checked:""==x,onChange:function(e){return k(e)}}),(0,f.jsx)("label",{htmlFor:"country-select",children:"All"})]})]}),(0,f.jsx)("div",{className:"col-md-12 mt-1",children:(0,f.jsx)(h.Z,{data:r,rows:5,dynamicColumns:w,headerData:N,setHeaderData:S})})]})]})})},Z=(n(43272),n(63521)),E=n(83854),w=n(32125),D=n(78983),k=n(84373),I=n(56355),P=n(40071),T=n(66934),R=n(12065),_=n(99651),B=n(41523),M=n(56125),F=n(27336),U=n(63509);function Q(e){var t=(0,F.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,f.jsx)(F.q.div,{style:t,children:(0,f.jsx)(M.Z,(0,s.Z)({},e))})}var L=(0,T.ZP)((function(e){var t,n,a,l,r,i;return(0,f.jsx)("div",{children:(0,c.createElement)(_.Z,(0,s.Z)((0,s.Z)({},e),{},{key:String(null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===(n=e.node)||void 0===n?void 0:n.id),label:(0,f.jsx)(U.ZP,{title:null===e||void 0===e||null===(a=e.node)||void 0===a?void 0:a.full_name,children:(0,f.jsx)("span",{children:null===e||void 0===e||null===(l=e.node)||void 0===l?void 0:l.full_name})}),TransitionComponent:Q}),Array.isArray(null===(r=e.node)||void 0===r?void 0:r.subRows)?null===(i=e.node)||void 0===i?void 0:i.subRows.map((function(e){return J(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,l.Z)(t,"& .".concat(B.Z.iconContainer),{"& .close":{opacity:.3}}),(0,l.Z)(t,"& .".concat(B.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,R.Fq)(n.palette.text.primary,.4))}),t})),J=function(e){return(0,f.jsx)("div",{children:(0,f.jsx)(L,{node:e})})};var O=n(72920),Y=n(38262),H=n(6748),V=n(99259);function z(e){return(0,f.jsx)(V.Z,(0,s.Z)((0,s.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,f.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function G(e){return(0,f.jsx)(V.Z,(0,s.Z)((0,s.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,f.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function K(e){var t=(0,F.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,f.jsx)(F.q.div,{style:t,children:(0,f.jsx)(M.Z,(0,s.Z)({},e))})}var q=(0,T.ZP)((function(e){var t,n,a,l,r;return(0,f.jsx)("div",{children:(0,c.createElement)(_.Z,(0,s.Z)((0,s.Z)({},e),{},{key:String(null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===(n=e.node)||void 0===n?void 0:n.id),label:null===(a=e.node)||void 0===a?void 0:a.full_name,TransitionComponent:K}),Array.isArray(null===(l=e.node)||void 0===l?void 0:l.subRows)?null===(r=e.node)||void 0===r?void 0:r.subRows.map((function(e){return W(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,l.Z)(t,"& .".concat(B.Z.iconContainer),{"& .close":{opacity:.3}}),(0,l.Z)(t,"& .".concat(B.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,R.Fq)(n.palette.text.primary,.4))}),t})),W=function(e){return(0,f.jsx)("div",{children:(0,f.jsx)(q,{node:e})})};function X(e){var t=e.data,n=e.resId;console.log(t),console.log(n);var r=function(e,t){if(!Array.isArray(e))return[];t=(0,s.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},r=[],i=t.children;return null===e||void 0===e||e.forEach((function(e){var a=e[t.id],r=e[t.parentId];n[a]=(0,s.Z)((0,s.Z)((0,l.Z)({},i,[]),e),n[a]),n[r]=n[r]||(0,l.Z)({},i,[]),n[r][i].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&r.push.apply(r,(0,a.Z)(e[i]))})),r}(t),i=JSON.parse(JSON.stringify(r));i[0].subRows.splice(1,1),console.log(i),console.log(i[0]);var o=function e(t){var n=[String(t.id)];return t.subRows&&t.subRows.length>0&&t.subRows.forEach((function(t){n.push.apply(n,(0,a.Z)(e(t)))})),n}(r[0]);return(0,f.jsx)(H.Z,{"aria-label":"rich object",defaultExpanded:o,defaultCollapseIcon:(0,f.jsx)(z,{}),defaultExpandIcon:(0,f.jsx)(G,{}),className:"hierarchyTree",sx:{"& .css-1g86id8-MuiTreeItem-content .MuiTreeItem-label":{width:"auto",minwidth:0}},children:W(r[0])})}var $=n(57689);var ee=function(e){var t,n,d,h,p,x,g,j,S,T,R,_,B,M,F,U,Q,L,J,H,V,z,G,K,q,W,ee,te,ne,ae,le,se,re,ie,oe,ce,de,ue,me,he,pe,fe,ve,xe,ge,je,be,ye,Ne,Se,Ae,Ce,Ze,Ee,we,De,ke,Ie,Pe,Te,Re,_e,Be,Me,Fe,Ue,Qe,Le,Je,Oe=e.resId,Ye=localStorage.getItem("resId"),He=parseInt(Ye)+1,Ve=(0,c.useState)(!1),ze=(0,o.Z)(Ve,2),Ge=ze[0],Ke=ze[1],qe=(0,$.UO)().resourceId,We=(null===qe||void 0===qe?void 0:qe.replace(":",""))-parseInt(1),Xe=0==We.length?He:We,$e=isNaN(Xe+parseInt(1))?He:Xe+parseInt(1),et=(0,c.useState)(!1),tt=(0,o.Z)(et,2),nt=tt[0],at=tt[1],lt=(0,c.useState)(k.u1R),st=(0,o.Z)(lt,2),rt=(st[0],st[1]),it=(0,c.useState)(I.UdN),ot=(0,o.Z)(it,2),ct=ot[0],dt=ot[1],ut=(0,c.useState)([]),mt=(0,o.Z)(ut,2),ht=mt[0],pt=mt[1],ft=(0,c.useState)([]),vt=(0,o.Z)(ft,2),xt=vt[0],gt=vt[1],jt=(0,c.useState)(!1),bt=(0,o.Z)(jt,2),yt=bt[0],Nt=bt[1],St=(0,c.useState)(!1),At=(0,o.Z)(St,2),Ct=At[0],Zt=At[1],Et=(0,c.useState)([]),wt=(0,o.Z)(Et,2),Dt=wt[0],kt=wt[1],It=(0,c.useState)([]),Pt=(0,o.Z)(It,2),Tt=Pt[0],Rt=Pt[1],_t=null===ht||void 0===ht?void 0:ht.getResProfile;console.log(_t),null===_t||void 0===_t||null===(t=_t[0])||void 0===t||t.resName;var Bt=(0,c.useState)(Oe-parseInt(1)),Mt=(0,o.Z)(Bt,2),Ft=Mt[0],Ut=Mt[1];console.log(Ft);var Qt=(0,c.useRef)([]),Lt=(0,c.useState)(Ye),Jt=(0,o.Z)(Lt,2),Ot=Jt[0],Yt=(Jt[1],m.N.baseUrl),Ht=(0,c.useState)([]),Vt=(0,o.Z)(Ht,2),zt=Vt[0],Gt=Vt[1];(0,c.useEffect)((function(){Kt()}),[]);var Kt=function(){u()({method:"GET",url:Yt+"/CommonMS/master/getMenus?loggedUserId=".concat(Ye)}).then((function(e){e.data.forEach((function(e){"Teams"===e.display_name&&Gt([e])}))}))},qt=function(){setTimeout((function(){document.body.click()}),2e3),u()({method:"get",url:Yt+"/ProjectMS/Issues/getAssignedData"}).then((function(e){var t=e.data;Rt(t)}))};(0,c.useEffect)((function(){}),[Tt]);var Wt=(0,c.useState)(null),Xt=(0,o.Z)(Wt,2),$t=Xt[0],en=Xt[1],tn=null===(n=Dt[0])||void 0===n?void 0:n.id;(0,c.useEffect)((function(){null!==tn&&en(tn)}),[tn]);var nn=parseInt($t)-1,an=(parseInt(Ye),function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){document.body.click()}),1),e.next=3,u()({method:"get",url:Yt+"/customersms/Customers/getResPerDetails?rid=".concat($e)}).then((function(e){var t=e.data;kt(t),console.log(t)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ln=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,w.Z)(Qt),setTimeout((function(){document.body.click()}),1),e.next=4,u()({method:"get",url:Yt+"/customersms/Customers/getResPerDetails?rid=".concat($t)}).then((function(e){var n=e.data;kt(n),!t&&at(!nt),dt(nt?I.UdN:I.NR5)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log($e-parseInt(1));var sn=(0,c.useState)(!1),rn=(0,o.Z)(sn,2),on=rn[0],cn=rn[1];console.log(">>visibleC",on),(0,c.useEffect)((function(){u()({method:"get",url:Yt+"/customersms/Customers/getResProfile?rid=".concat($e)}).then((function(e){var t=e.data;pt(t)})),qt(),an(),Ke(!1),setTimeout((function(){Nt(!0)}),2e3),u()({method:"get",url:Yt+"/customersms/Customers/getResProfileUpwardhierarchy?rid=".concat($e-parseInt(1))}).then((function(e){if(console.log(e.data),0===e.data.length){var t={department_id:-1,full_name:xt,has_childs:0,id:Ot,parent_id:-1,subRows:[]};console.log(t),Ut([t])}else{var n=dn(e.data);Ut(n)}Ke(!0),Nt(!1)}))}),[]);var dn=function(e,t){t=(0,s.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},r=[],i=t.children;return e.forEach((function(e){var a=e[t.id],r=e[t.parentId];n[a]=(0,s.Z)((0,s.Z)((0,l.Z)({},i,[]),e),n[a]),n[r]=n[r]||(0,l.Z)({},i,[]),n[r][i].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&r.push.apply(r,(0,a.Z)(e[i]))})),r},un=(0,c.useRef)(null),mn=function(){if((0,w.Z)(Qt))return Zt(!0),void setTimeout((function(){Zt(!1)}),3e3);!function(){var e=(0,w.Z)(Qt);u()({method:"get",url:Yt+"/customersms/Customers/getResProfile?rid=".concat($t)}).then((function(t){var n=t.data;pt(n),!e&&at(!nt),dt(nt?I.UdN:I.NR5)}))}(),function(){var e=(0,w.Z)(Qt);Ke(!1),setTimeout((function(){Nt(!0)}),2e3),u()({method:"get",url:Yt+"/customersms/Customers/getResProfileUpwardhierarchy?rid=".concat(nn)}).then((function(t){if(0===t.data.length)Ut([{department_id:-1,full_name:xt,has_childs:0,id:Ot,parent_id:-1,subRows:[]}]);else{var n=dn(t.data);Ut(n)}Ke(!0),Nt(!1),!e&&at(!nt),dt(nt?I.UdN:I.NR5)}))}(),ln()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"col-md-12",children:[Ct?(0,f.jsx)("div",{className:"statusMsg error col-12 mb-2",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(P.SZZ,{}),"\xa0","Please enter resource name"]})}):"",(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Profile"})}),(0,f.jsx)("div",{className:"childThree"})]})]}),(0,f.jsx)(Y.Z,{routes:zt,currentScreenName:["Profile"]}),(0,f.jsx)("div",{className:"col-md-12 ",children:(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsxs)(f.Fragment,{children:[1==on?(0,f.jsx)("span",{className:"backArrow",style:{cursor:"pointer"},onClick:function(){cn(!on),rt(on?k.hjJ:k.u1R)},children:on?(0,f.jsx)(k.hjJ,{}):(0,f.jsx)(k.u1R,{})}):"",(0,f.jsx)("div",{className:"col-md-2 ",children:(0,f.jsxs)(D.V9,{visible:!on,setvisiblec:"false",children:[0==on?(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsxs)("h2",{style:{textAlign:"left",color:"#297AB0",fontSize:"14px",paddingTop:"7px",cursor:"pointer"},children:["Reporting Hierarchy",(0,f.jsx)("span",{className:"backArrow",style:{cursor:"pointer"},onClick:function(){cn(!on),rt(on?k.hjJ:k.u1R)},children:on?(0,f.jsx)(k.hjJ,{}):(0,f.jsx)(k.u1R,{})})]})}):"",(0,f.jsx)("div",{style:{minHeight:"calc(100vh - 225px)",maxHeight:"calc(100vh - 225px)",overflow:"auto",border:"1px solid #ccc",padding:"10px"},children:Ge?(0,f.jsx)("div",{style:{display:"flex"},children:(0,f.jsx)(X,{data:Ft,resId:Oe})}):""})]})})]}),(0,f.jsxs)("div",{className:0==on?"col-10":"col-12",children:[(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,f.jsx)("h2",{children:"Search Filters"}),(0,f.jsx)("div",{className:"helpBtn",children:(0,f.jsx)(O.Z,{pdfname:"ResourceProfileTeams.pdf",name:"Resource Profile Help"})}),(0,f.jsx)("div",{onClick:function(){at(!nt),dt(nt?I.UdN:I.NR5)},children:(0,f.jsx)("span",{children:ct})})]}),(0,f.jsx)(D.V9,{visible:!nt,children:(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:"col-md-8 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-3",htmlFor:"text-input-inline",children:["Resource Name"," ",(0,f.jsx)("span",{className:" error-text ml-1",children:"*"})]}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6 autocomplete",ref:function(e){Qt.current[0]=e},children:(0,f.jsx)("div",{className:" autoComplete-container",children:(0,f.jsx)(Z.ReactSearchAutocomplete,{items:Tt,type:"Text",name:"resName",id:"resName",className:"wrapperauto",issueDetails:Tt,getData:qt,inputSearchString:null===(d=Dt[0])||void 0===d?void 0:d.name,onSelect:function(e){en(e.id),gt(e.name);var t=e.name.replace(/\s*\(.*?\)\s*/g,"");gt(t)},onClear:function(){en(null)},showIcon:!1})})})]})}),(0,f.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 my-2 btn-container center",children:(0,f.jsxs)("button",{type:"button",className:"btn btn-primary",title:"Search",onClick:function(){mn()},children:[(0,f.jsx)(I.U41,{})," Search"]})})]})})]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("h2",{children:"Resource Details"}),(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Resource Name"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(h=_t[0])||void 0===h?void 0:h.resName,children:[null==(null===_t||void 0===_t||null===(p=_t[0])||void 0===p?void 0:p.resName)?"":null===_t||void 0===_t||null===(x=_t[0])||void 0===x?void 0:x.resName," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Designation"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(g=_t[0])||void 0===g?void 0:g.designation,children:[null==(null===_t||void 0===_t||null===(j=_t[0])||void 0===j?void 0:j.designation)?"":null===_t||void 0===_t||null===(S=_t[0])||void 0===S?void 0:S.designation," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Employment Type"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(T=_t[0])||void 0===T?void 0:T.empType,children:[null==(null===_t||void 0===_t||null===(R=_t[0])||void 0===R?void 0:R.empType)?"":null===_t||void 0===_t||null===(_=_t[0])||void 0===_?void 0:_.empType," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Gender"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(B=_t[0])||void 0===B?void 0:B.gender,children:[null==(null===_t||void 0===_t||null===(M=_t[0])||void 0===M?void 0:M.gender)?"":null===_t||void 0===_t||null===(F=_t[0])||void 0===F?void 0:F.gender," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Email ID"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsx)("p",{className:"ellipsis","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(U=_t[0])||void 0===U?void 0:U.emailID,children:null===_t||void 0===_t||null===(Q=_t[0])||void 0===Q?void 0:Q.emailID})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Citizenship"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(L=_t[0])||void 0===L?void 0:L.citizenship,children:[null==(null===_t||void 0===_t||null===(J=_t[0])||void 0===J?void 0:J.citizenship)?"":null===_t||void 0===_t||null===(H=_t[0])||void 0===H?void 0:H.citizenship," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Business Unit"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(V=_t[0])||void 0===V?void 0:V.businessUnit,children:[null==(null===_t||void 0===_t||null===(z=_t[0])||void 0===z?void 0:z.businessUnit)?"":null===_t||void 0===_t||null===(G=_t[0])||void 0===G?void 0:G.businessUnit," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Supervisor"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(K=_t[0])||void 0===K?void 0:K.supervisor,children:[null==(null===_t||void 0===_t||null===(q=_t[0])||void 0===q?void 0:q.supervisor)?"-":null===_t||void 0===_t||null===(W=_t[0])||void 0===W?void 0:W.supervisor," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Gross Capacity"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(ee=_t[0])||void 0===ee?void 0:ee.gCapacity,children:[null==(null===_t||void 0===_t||null===(te=_t[0])||void 0===te?void 0:te.gCapacity)?"":null===_t||void 0===_t||null===(ne=_t[0])||void 0===ne?void 0:ne.gCapacity," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Joining Date"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(ae=_t[0])||void 0===ae?void 0:ae.joiningDate,children:[null==(null===_t||void 0===_t||null===(le=_t[0])||void 0===le?void 0:le.joiningDate)?"":null===_t||void 0===_t||null===(se=_t[0])||void 0===se?void 0:se.joiningDate," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"End Date"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(re=_t[0])||void 0===re?void 0:re.res_endDate,children:[null==(null===_t||void 0===_t||null===(ie=_t[0])||void 0===ie?void 0:ie.res_endDate)?"":null===_t||void 0===_t||null===(oe=_t[0])||void 0===oe?void 0:oe.res_endDate," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Employee Status"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(ce=_t[0])||void 0===ce?void 0:ce.user_status,children:[null==(null===_t||void 0===_t||null===(de=_t[0])||void 0===de?void 0:de.user_status)?"":null===_t||void 0===_t||null===(ue=_t[0])||void 0===ue?void 0:ue.user_status," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Net Capacity"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(me=_t[0])||void 0===me?void 0:me.nCapacity,children:[null==(null===_t||void 0===_t||null===(he=_t[0])||void 0===he?void 0:he.nCapacity)?"":null===_t||void 0===_t||null===(pe=_t[0])||void 0===pe?void 0:pe.nCapacity," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Country"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(fe=_t[0])||void 0===fe?void 0:fe.country,children:[null==(null===_t||void 0===_t||null===(ve=_t[0])||void 0===ve?void 0:ve.country)?"":null===_t||void 0===_t||null===(xe=_t[0])||void 0===xe?void 0:xe.country," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Sf Owner Division"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(ge=_t[0])||void 0===ge?void 0:ge.SfOwnerDivision,children:[null==(null===_t||void 0===_t||null===(je=_t[0])||void 0===je?void 0:je.SfOwnerDivision)?"":null===_t||void 0===_t||null===(be=_t[0])||void 0===be?void 0:be.SfOwnerDivision," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Renewal Date"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===_t||void 0===_t||null===(ye=_t[0])||void 0===ye?void 0:ye.renewalDate,children:[null==(null===_t||void 0===_t||null===(Ne=_t[0])||void 0===Ne?void 0:Ne.renewalDate)?"":null===_t||void 0===_t||null===(Se=_t[0])||void 0===Se?void 0:Se.renewalDate," "]})})]})})]})]}),(null===ht||void 0===ht||null===(Ae=ht.getResProfileSubContract)||void 0===Ae?void 0:Ae.length)>0?(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsx)("h2",{children:"Sub Contract Details"}),(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"External Email"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(Ce=ht.getResProfileSubContract[0])||void 0===Ce?void 0:Ce.external_email,children:[null==(null===ht||void 0===ht||null===(Ze=ht.getResProfileSubContract[0])||void 0===Ze?void 0:Ze.external_email)?"":null===ht||void 0===ht||null===(Ee=ht.getResProfileSubContract[0])||void 0===Ee?void 0:Ee.external_email," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Resource Manager"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(we=ht.getResProfileSubContract[0])||void 0===we?void 0:we.resource_manager,children:[null==(null===ht||void 0===ht||null===(De=ht.getResProfileSubContract[0])||void 0===De?void 0:De.resource_manager)?"":null===ht||void 0===ht||null===(ke=ht.getResProfileSubContract[0])||void 0===ke?void 0:ke.resource_manager," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Cost Rate"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(Ie=ht.getResProfileSubContract[0])||void 0===Ie?void 0:Ie.cost_rate,children:[null==(null===ht||void 0===ht||null===(Pe=ht.getResProfileSubContract[0])||void 0===Pe?void 0:Pe.cost_rate)?"":null===ht||void 0===ht||null===(Te=ht.getResProfileSubContract[0])||void 0===Te?void 0:Te.cost_rate," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Company Category"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(Re=ht.getResProfileSubContract[0])||void 0===Re?void 0:Re.comp_category,children:[null==(null===ht||void 0===ht||null===(_e=ht.getResProfileSubContract[0])||void 0===_e?void 0:_e.comp_category)?"":null===ht||void 0===ht||null===(Be=ht.getResProfileSubContract[0])||void 0===Be?void 0:Be.comp_category," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Eligibility Rehire"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(Me=ht.getResProfileSubContract[0])||void 0===Me?void 0:Me.eligibility_rehire,children:[null==(null===ht||void 0===ht||null===(Fe=ht.getResProfileSubContract[0])||void 0===Fe?void 0:Fe.eligibility_rehire)?"":null===ht||void 0===ht||null===(Ue=ht.getResProfileSubContract[0])||void 0===Ue?void 0:Ue.eligibility_rehire," "]})})]})}),(0,f.jsx)("div",{className:"col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-4",htmlFor:"text-input-inline",children:"Ext. Company Name"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-7",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:null===ht||void 0===ht||null===(Qe=ht.getResProfileSubContract[0])||void 0===Qe?void 0:Qe.external_comp_name,children:[null==(null===ht||void 0===ht||null===(Le=ht.getResProfileSubContract[0])||void 0===Le?void 0:Le.external_comp_name)?"":null===ht||void 0===ht||null===(Je=ht.getResProfileSubContract[0])||void 0===Je?void 0:Je.external_comp_name," "]})})]})})]})]}):"",(0,f.jsxs)("div",{className:"classContent col-md-12",children:[(0,f.jsx)("div",{children:(0,f.jsx)(v,{resDtl:$t})}),(0,f.jsx)("div",{children:(0,f.jsx)(y,{resDtl:$t})}),(0,f.jsx)("div",{children:(0,f.jsx)(b,{resDtl:$t,resper:Dt})}),(0,f.jsx)("div",{children:(0,f.jsx)(N,{resDtl:$t})}),(0,f.jsx)("div",{children:(0,f.jsx)(A,{resDtl:$t})}),(0,f.jsx)("div",{children:(0,f.jsx)(C,{resDtlHierarchy:nn})})]})]})]})]})}),yt?(0,f.jsx)(E.Z,{handleAbort:function(){un.current&&un.current.abort(),Nt(!1)}}):""]})}},43272:function(e,t,n){var a=n(29439),l=n(72791),s=n(27494),r=n(80184);t.Z=function(e){var t,n,i,o,c,d=e.displayHierarchyHead,u=(0,l.useState)(!1),m=(0,a.Z)(u,2),h=(m[0],m[1],{color:"black",fill:"black"}),p=function(e){console.log("data",e,typeof e),onSubmit(e)};return console.log(d,"--- hierrachy"),console.log(null===d||void 0===d?void 0:d.length,"---length"),(0,r.jsx)("div",{className:"group mb-3 customCard",children:(0,r.jsx)("div",{className:"group mb-3 customCard",children:(0,r.jsx)("div",{className:"group-content row",children:(0,r.jsx)(s.Z,{content:null===(t=d[0])||void 0===t?void 0:t.text,canHide:!0,open:!0,style:h,onClick:function(){var e;return p(null===(e=d[0])||void 0===e?void 0:e.text)},children:(null===d||void 0===d?void 0:d.length)>1&&(0,r.jsx)(s.Z,{content:null===(n=d[1])||void 0===n?void 0:n.text,canHide:!0,open:!0,style:h,onClick:function(){var e;return p(null===(e=d[1])||void 0===e?void 0:e.text)},children:(null===d||void 0===d?void 0:d.length)>2&&(0,r.jsx)(s.Z,{content:null===(i=d[2])||void 0===i?void 0:i.text,canHide:!0,open:!0,style:h,onClick:function(){var e;return p(null===(e=d[2])||void 0===e?void 0:e.text)},children:(null===d||void 0===d?void 0:d.length)>3&&(0,r.jsx)(s.Z,{content:null===(o=d[3])||void 0===o?void 0:o.text,canHide:!0,open:!0,style:h,onClick:function(){var e;return p(null===(e=d[3])||void 0===e?void 0:e.text)},children:(null===d||void 0===d?void 0:d.length)>4&&(0,r.jsx)(s.Z,{content:null===(c=d[4])||void 0===c?void 0:c.text,canHide:!0,open:!0,style:h,onClick:function(){var e;return p(null===(e=d[4])||void 0===e?void 0:e.text)}})})})})})})})})}},79361:function(e,t,n){n(72791);var a=n(56355),l=n(78820),s=n(80184);t.Z=function(e){var t=e.skillRating,n=Array.from({length:5},(function(e,n){return(0,s.jsx)("span",{children:t>=n+1?(0,s.jsx)(a.QJe,{}):(0,s.jsx)(l.y5j,{})},n)}));return(0,s.jsx)("div",{children:n})}},13972:function(e,t,n){var a=n(1413),l=n(29439),s=n(72791),r=n(87890),i=n(37145),o=n(1063),c=(n(41980),n(39122),n(31896),n(81975),n(25103)),d=(n(17153),n(11087)),u=n(72426),m=n.n(u),h=n(80184);t.Z=function(e){var t,n=e.data,u=e.rows,p=(e.col,e.headerdatagroup,e.linkColumns),f=e.linkColumnsRoutes,v=(e.rowGroupMode,e.groupRowsBy,(0,s.useState)([])),x=(0,l.Z)(v,2),g=x[0],j=x[1],b=(0,s.useState)([]),y=(0,l.Z)(b,2),N=y[0],S=y[1],A=(0,s.useState)([]),C=(0,l.Z)(A,2),Z=C[0],E=C[1];(0,s.useEffect)((function(){j(JSON.parse(JSON.stringify(n)))}),[n]),(0,s.useEffect)((function(){g.length>0&&(S(g[0]),E(g.splice(1)))}),[g]);var w={contains:{value:null,matchMode:r.a6.CONTAINS}},D=(0,s.useState)({global:w.contains}),k=(0,l.Z)(D,2),I=k[0],P=k[1];(0,s.useEffect)((function(){P({global:w.contains})}),[N]);var T=(0,s.useState)(""),R=(0,l.Z)(T,2),_=R[0],B=R[1],M=function(e){var t=e.target.value,n=(0,a.Z)({},I);n.global.value=t,P(n),B(t)},F=function(e){var t,n=null===(t=f[0])||void 0===t?void 0:t.split(":");return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.rU,{target:"_blank",to:n[0]+":"+e[n[1]],children:e[p]})})},U=(0,h.jsxs)("div",{className:"flex justify-content-between",children:[(0,h.jsx)("span",{}),(0,h.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,h.jsx)("i",{className:"pi pi-search"}),(0,h.jsx)(c.o,{defaultValue:_,onChange:M,placeholder:"Keyword Search"})]})]}),Q=null===(t=Object.keys(N))||void 0===t?void 0:t.map((function(e,t){var n,a;return null!==p&&void 0!==p&&p.includes(e)?n=F:e.includes("min_salary")||e.includes("max_salary")?(a=e,n=function(e){var t=e[a].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,h.jsx)("div",{"data-toggle":"tooltip",title:t,children:(0,h.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:["$ ",(0,h.jsx)("span",{className:"align right",children:t})]})})}):n=e.includes("updated_date")||e.includes("month")?function(e){return function(t){var n=m()(t[e].split("T")[0]).format("DD-MMM-YYYY");return(0,h.jsx)("div",{"data-toggle":"tooltip",title:n,children:n})}}(e):function(e){return function(t){return(0,h.jsx)("div",{className:"ellipsis",title:"".concat(t[e]),children:t[e]})}}(e),(0,h.jsx)(o.s,{sortable:!0,body:n,field:e,header:N[e]},e)}));return(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"card darkHeader",children:Object.keys(N).length>0&&(0,h.jsx)(i.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:Z,paginator:!0,showGridlines:!0,rows:u,dataKey:"id",filters:I,responsiveLayout:"scroll",header:U,emptyMessage:"No Records found.",className:" primeReactDataTable",children:Q})})})}},84127:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(1413),l=n(4942),s=n(93433),r=n(29439),i=n(72791),o=n(11683),c=(n(26809),n(11087)),d=n(80184);function u(e){var t=e.data,n=e.expandedCols,u=(e.colExpandState,e.formData,e.setFormData,e.linkId),m=e.resourcedata,h=(0,i.useState)([]),p=(0,r.Z)(h,2),f=p[0],v=p[1],x=(0,i.useState)(null),g=(0,r.Z)(x,2),j=g[0],b=g[1],y=(0,i.useState)({}),N=(0,r.Z)(y,2),S=N[0],A=N[1],C=(0,i.useState)(!1),Z=(0,r.Z)(C,2),E=Z[0],w=(Z[1],(0,i.useState)([])),D=(0,r.Z)(w,2),k=D[0],I=D[1];(0,i.useEffect)((function(){P()}),[t]);var P=function(){var e,a,i,o,h=t.tableData,p=null;null!==t&&void 0!==t&&null!==(e=t.columns)&&void 0!==e&&e.includes("'")?p=null===t||void 0===t||null===(o=t.columns)||void 0===o?void 0:o.replaceAll("'",""):p=null===t||void 0===t?void 0:t.columns;var f=null===(a=p)||void 0===a?void 0:a.split(","),x=null;void 0!=f&&(x=(0,s.Z)(f));for(var g=[],j=[],y={},N=0;N<(null===(S=x)||void 0===S?void 0:S.length);N++){var S,C=x[N].trim(),Z=h[0];y[C]=Z[C]}var E=Object.entries(y),w=["Id","Rate","Cost"],D=E.filter((function(e){return!w.includes(e[0])}));I(D),D.map((function(e){var t=(0,r.Z)(e,2),a=t[0];t[1];n.includes(a)&&j.push((0,l.Z)({},a,!1))})),A(Object.assign.apply(Object,[{}].concat(j)));var k=null===h||void 0===h?void 0:h.filter((function(e){return-1==e.Id}));D.map((function(e,t){var n=(0,r.Z)(e,2),a=n[0],l=n[1];g.push({accessorKey:a,header:l,enableColumnActions:!1,enableHiding:!0,rowspan:5,Header:function(e){e.column;return(0,d.jsxs)("div",{className:a.includes("_L")||null!==a&&void 0!==a&&a.includes("_N")?"disabledDatesColumn":a.includes("Name")?"project mixer":"allocations"!==(null===m||void 0===m?void 0:m.resourcecapType)&&"assigned"!==(null===m||void 0===m?void 0:m.resourcecapType)&&"unassigned"!==(null===m||void 0===m?void 0:m.resourcecapType)||!a.includes("Role")?a.includes("Name")||a.includes("Total")?"mixer":"datesColumn":"role mixer",children:[l," "]})}})}));var P=k&&(null===(i=Object.entries(k[0]))||void 0===i?void 0:i.filter((function(e){return!(null!==w&&void 0!==w&&w.includes(e[0]))})));g.map((function(e){var t=g.indexOf(e);P.map((function(n,a){var l=(0,r.Z)(n,2),s=l[0],i=l[1];if(s==e.accessorKey){var o={id:s,header:(0,d.jsxs)("div",{className:s.includes("_L")||null!==s&&void 0!==s&&s.includes("_N")?"disabledDatesColumn":s.includes("_W")?"datesColumn":""==i||null==i||void 0==i?"":"datesColumn",title:i,children:[" ",null==i||0==i?"":i]}),accessorKey:s,Cell:function(e){var t=e.cell;return(0,d.jsx)(d.Fragment,{children:"Name"==t.column.id&&null!=t.row.original?(0,d.jsx)(d.Fragment,{children:"Total"==t.row.original.Name?"Total":(0,d.jsx)(c.rU,{title:t.getValue().split("_")[0],to:"/project/capacityPlan/:".concat(u),target:"_blank",children:t.getValue().split("_")[0]})}):null!=t.getValue()&&"leave"==t.getValue().split("_")[1]?(0,d.jsx)("span",{className:"datesColumn pink align right ",title:t.getValue().split("_")[0],children:t.getValue().split("_")[0]}):"0_holday"==t.getValue()||"0.00_holday"==t.getValue()?(0,d.jsx)("span",{className:"datesColumn blue align right ",title:t.getValue().split("_")[0],children:t.getValue().split("_")[0]}):null!=t.getValue()&&s.includes("_L")||s.includes("_W")||s.includes("_N")?(0,d.jsx)("span",{className:"disabledDatesColumn   align right",title:t.getValue(),children:t.getValue()}):s.includes("Role")&&null!=t.getValue()?(0,d.jsx)("div",{className:"role",title:t.getValue(),children:t.getValue()}):s.includes("_L")?(0,d.jsxs)("div",{class:"disabledDatesColumn",title:t.getValue(),children:[" ",t.getValue()]}):s.includes("_W")?(0,d.jsxs)("div",{class:"disabledDatesColumn ",title:t.getValue(),children:[" ",t.getValue()]}):(0,d.jsx)("div",{className:"datesColumn align right",title:t.getValue(),children:t.getValue()})})}};g[t].columns=[o]}}))})),b(g);var T=null===h||void 0===h?void 0:h.filter((function(e){return-1!==e.Id&&-2!==e.Id}));v(T)};(0,i.useEffect)((function(){E?A({}):T()}),[E]);var T=function(){var e=[];k.map((function(t){var a=(0,r.Z)(t,2),s=a[0];a[1];n.includes(s)&&e.push((0,l.Z)({},s,!1))})),A(Object.assign.apply(Object,[{}].concat(e)))};return(0,d.jsx)("div",{className:"materialReactExpandableTable calenderTable allocationsCalenderTable darkHeader",children:null!==f&&void 0!==f&&f.length?(0,d.jsx)(o.ZP,{columns:j,data:f,enablePagination:!1,enableGlobalFilter:!0,enableDensityToggle:!1,enableFullScreenToggle:!1,enableHiding:!1,enableColumnFilters:!1,enableBottomToolbar:!1,enableTopToolbar:!0,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,initialState:{showGlobalFilter:!0,expanded:!1,density:"compact",columnVisibility:(0,a.Z)({},S)},state:{columnVisibility:(0,a.Z)({},S)},defaultColumn:{minSize:40,maxSize:1e3,size:40},enableStickyHeader:!0,muiSearchTextFieldProps:{variant:"outlined"},muiTableContainerProps:{sx:{maxHeight:"50vh"}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"22px",padding:"0px 5px"}}},muiTableHeadProps:{sx:{"tr:nth-of-type(2) th":{zIndex:"auto"},"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",padding:"0 5px"}}}}):null})}},1684:function(e,t,n){n.d(t,{Z:function(){return D}});var a=n(93433),l=n(29439),s=n(4942),r=n(1413),i=n(72791),o=n(6748),c=n(99259),d=n(66934),u=n(12065),m=n(99651),h=n(41523),p=n(56125),f=n(27336),v=n(73728),x=n(74569),g=n.n(x),j=(n(97931),n(63521)),b=n(7692),y=n(34831),N=n(78820),S=n(80184);function A(e){return(0,S.jsx)(c.Z,(0,r.Z)((0,r.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,S.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function C(e){return(0,S.jsx)(c.Z,(0,r.Z)((0,r.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,S.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function Z(e){var t=(0,f.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,S.jsx)(f.q.div,{style:t,children:(0,S.jsx)(p.Z,(0,r.Z)({},e))})}var E=(0,d.ZP)((function(e){var t,n,a,l,s;return(0,S.jsx)("div",{children:(0,i.createElement)(m.Z,(0,r.Z)((0,r.Z)({},e),{},{key:String(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id),label:null===e||void 0===e||null===(a=e.node)||void 0===a?void 0:a.full_name,TransitionComponent:Z}),Array.isArray(null===e||void 0===e||null===(l=e.node)||void 0===l?void 0:l.subRows)?null===e||void 0===e||null===(s=e.node)||void 0===s?void 0:s.subRows.map((function(e){return w(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,s.Z)(t,"& .".concat(h.Z.iconContainer),{"& .close":{opacity:.3}}),(0,s.Z)(t,"& .".concat(h.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,u.Fq)(n.palette.text.primary,.4))}),t})),w=function(e){return(0,S.jsx)("div",{children:(0,S.jsx)(E,{node:e})},String(null===e||void 0===e?void 0:e.id))};function D(e){var t=y.N.baseUrl,n=e.defaultExpandedRows,c=e.validation,d=e.popDocFolderId,u=e.setNodeClicked,m=e.setResName,h=(0,i.useState)([]),p=(0,l.Z)(h,2),f=p[0],x=p[1],Z=(0,i.useState)([]),E=(0,l.Z)(Z,2),D=E[0],k=E[1],I=(0,i.useState)(!1),P=(0,l.Z)(I,2),T=P[0],R=P[1];(0,i.useEffect)((function(){R(!0),g()({method:"get",url:t+"/revenuemetricsms/RevenueMarginAnalysis/getReportees2"}).then((function(e){var t=e.data,n=t.map((function(e){return{name:e.full_name,id:e.id}}));console.log(n),k(n);var a=t.filter((function(e){return null===e.parent_id||t.some((function(t){return t&&"null"!==t&&t.id===e.parent_id}))}));R(!1),x(a)})).catch((function(e){console.log(e),R(!1)}))}),[]);(0,i.useEffect)((function(){}),[d]);var _=function(e,t){return e.filter((function(e){return"SOW"!==e.full_name}))}(function(e,t){t=(0,r.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},l=[],i=t.children;return e.forEach((function(e){var a=e[t.id],l=e[t.parentId];n[a]=(0,r.Z)((0,r.Z)((0,s.Z)({},i,[]),e),n[a]),n[l]=n[l]||(0,s.Z)({},i,[]),n[l][i].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&l.push.apply(l,(0,a.Z)(e[i]))})),l}(f)),B={display:"flex",alignItems:"center",gap:"4px"};return(0,S.jsxs)("div",{children:[c?(0,S.jsxs)("div",{className:"statusMsg error mb-2",children:[" ",(0,S.jsx)(N.CSE,{})," Please select valid values for highlighted fields"]}):"",(0,S.jsx)("div",{className:"col-md-12 mb-2",children:(0,S.jsxs)("div",{className:"form-group row",children:[(0,S.jsxs)("label",{className:"col-5",htmlFor:"email-input",children:["Search\xa0",(0,S.jsx)("span",{className:"error-text ml-1",children:"*"})]}),(0,S.jsx)("span",{className:"col-1 p-0",children:":"}),(0,S.jsx)("div",{className:"col-6",children:(0,S.jsx)("div",{className:"autoComplete-container ",children:(0,S.jsx)(j.ReactSearchAutocomplete,{items:D,type:"Text",name:"prjId",id:"prjId",className:"error AutoComplete",onSelect:function(e){console.log("??????"),u(e.id);var t=D.filter((function(t){return t.id===parseInt(e.id)})).map((function(e){return e.name}));m(t)},showIcon:!1,placeholder:"Type minimum 3 characters"})})})]})}),T?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.E$Q,{})," Loading..."]}):(0,S.jsx)("div",{className:"hierarchy tree",style:{minHeight:"50px",maxHeight:"300px",overflowY:"auto"},children:(0,S.jsx)(o.Z,{"aria-label":"customized",defaultExpanded:[n],defaultCollapseIcon:(0,S.jsxs)("div",{style:B,children:[(0,S.jsx)(A,{}),(0,S.jsx)("span",{children:" "}),(0,S.jsx)(v.FYx,{})," "]}),defaultExpandIcon:(0,S.jsxs)("div",{style:B,children:[(0,S.jsx)(C,{}),(0,S.jsx)("span",{children:" "}),(0,S.jsx)(v.FYx,{})," "]}),defaultEndIcon:(0,S.jsx)(v.FYx,{}),defaultParentIcon:(0,S.jsx)(v.FYx,{}),sx:{"& .css-1g86id8-MuiTreeItem-content .MuiTreeItem-label":{width:"auto",minwidth:0}},className:"hierarchyTree",onNodeSelect:function(e,t){console.log("Clicked??",e);var n=D.filter((function(e){return e.id===parseInt(t)})).map((function(e){return e.name}));u(t),m(n)},children:_.map((function(e){return w(e)}))})})]})}},56812:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(4942),l=n(1413),s=n(74165),r=n(15861),i=n(29439),o=n(78983),c=n(72791),d=n(56355),u=n(72426),m=n.n(u),h=n(36167),p=n(59513),f=n.n(p),v=n(74569),x=n.n(v),g=n(34831),j=(n(41980),n(39122),n(31896),n(81975),n(93433)),b=n(37145),y=n(1063),N=n(78820),S=n(20860),A=n(70828),C=n(7692),Z=n(48068),E=n(53329),w=n(59962),D=n.n(w),k=n(32125),I=n(13972),P=n(86388),T=n(83854),R=n(80184);var _=function(e){var t=g.N.baseUrl,n=e.popUp,u=e.tableData,h=e.setTableData,p=e.getSearch,f=e.SetPopUp,v=e.resLocation,w=e.setResLocation,_=e.departments,B=e.setDepartments,M=e.roletype,F=e.formData,U=e.setLoaderTimer,Q=e.loaderTimer,L=e.abortController,J=(0,c.useState)(!1),O=(0,i.Z)(J,2),Y=O[0],H=O[1],V=(0,c.useState)(""),z=(0,i.Z)(V,2),G=z[0],K=z[1],q=(0,c.useState)(!1),W=(0,i.Z)(q,2),X=W[0],$=W[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],le=(0,c.useState)(!1),se=(0,i.Z)(le,2),re=se[0],ie=se[1],oe=(0,c.useState)(!1),ce=(0,i.Z)(oe,2),de=ce[0],ue=ce[1],me=(0,c.useState)(!1),he=(0,i.Z)(me,2),pe=he[0],fe=he[1],ve=(0,c.useState)([]),xe=(0,i.Z)(ve,2),ge=xe[0],je=xe[1],be=(0,c.useState)(!1),ye=(0,i.Z)(be,2),Ne=ye[0],Se=ye[1],Ae=(0,c.useState)(null),Ce=(0,i.Z)(Ae,2),Ze=Ce[0],Ee=Ce[1],we=(0,c.useState)("UploadRoleTypeCost"),De=(0,i.Z)(we,2),ke=De[0],Ie=(De[1],(0,c.useState)(!1)),Pe=(0,i.Z)(Ie,2),Te=Pe[0],Re=Pe[1],_e=(0,c.useState)(""),Be=(0,i.Z)(_e,2),Me=Be[0],Fe=Be[1],Ue=localStorage.getItem("resId"),Qe=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+"/CostMS/SalaryBand/uploadDocs",e.next=3,x().post(n,Ze,{headers:{"Content-Type":"multipart/form-data"}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(e){if(""==e.max_salary||""==e.min_salary)return ie(!0),void setTimeout((function(){ie(!1)}),3e3);if(Number(e.max_salary)<Number(e.min_salary))Re(!0);else{var n={id:e.Id,countryId:""+e.Country_id,department:""+e.department_id,roleType:""+e.role_type_id,roleCost:""+e.role_cost,minSal:""+e.min_salary,maxSal:""+e.max_salary,month:""==e.id||null==e.id?m()(new Date).startOf("month").format("YYYY-MM-DD"):e.month,createdBy:""==e.id||null==e.id?Ue:e.created_by,createdDate:""==e.id||null==e.id?m()(new Date).format("YYYY-MM-DD"):m()(e.created_date).format("YYYY-MM-DD"),updatedBy:Ue,updatedDate:m()(new Date).format("YYYY-MM-DD")};x()({url:t+"/CostMS/SalaryBand/Post",method:"post",data:n}).then((function(e){$(!0),p(),setTimeout((function(){$(!1)}),3e3)}))}};function Je(e){var t=e.setHistoryPopUp,n=e.historyPopUp,a=e.historyData;return(0,R.jsx)("div",{children:(0,R.jsx)(D(),{children:(0,R.jsxs)(o.Tk,{size:"xl",visible:n,className:"ui-dialog ",onClose:function(){return t(!1)},children:[(0,R.jsx)(o.p0,{className:"hgt22",children:(0,R.jsx)(o.fl,{children:(0,R.jsx)("span",{className:"ft16",children:"Salary Band History"})})}),(0,R.jsx)(o.sD,{children:(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-md-12",children:(0,R.jsx)(I.Z,{data:a,rows:10})})})})]})})})}function Oe(e){var t=e.deletePopUp,n=e.setDeletePopUp,a=e.deleteRecord;return(0,R.jsx)("div",{children:(0,R.jsx)(D(),{children:(0,R.jsxs)(o.Tk,{alignment:"center",backdrop:"static",size:"sm",visible:t,className:"ui-dialog",onClose:function(){n(!1)},children:[(0,R.jsx)(o.p0,{style:{cursor:"all-scroll"},children:(0,R.jsx)(o.fl,{children:(0,R.jsx)("span",{children:"Delete SalaryBand"})})}),(0,R.jsxs)(o.sD,{children:[(0,R.jsx)("h6",{children:"Are you sure you want to delete SalaryBand?"}),(0,R.jsxs)("div",{className:"btn-container center my-2",children:[(0,R.jsxs)("button",{type:"button",title:"Delete",className:"btn btn-primary",onClick:function(){a()},children:[(0,R.jsx)(S.UQg,{}),"Delete"]}),(0,R.jsxs)("button",{type:"button",title:"Cancel",className:"btn btn-primary",onClick:function(){n(!1)},children:[" ",(0,R.jsx)(A.sQZ,{}),"Cancel"]})]})]})]})})})}function Ye(e){var n=e.addrow,s=e.setAddRow,r=e.resLocation,d=e.departments,u=e.roletype,h=e.setSuccessMessage,f=e.formData,v=(e.setLoaderTimer,{country:"",department:"",roleType:"",minSal:"",maxSal:"",month:f.month,createdBy:Ue,createdDate:m()(new Date).format("YYYY-MM-DD"),updatedBy:Ue,updatedDate:m()(new Date).format("YYYY-MM-DD")}),g=(0,c.useState)(v),j=(0,i.Z)(g,2),b=j[0],y=j[1],S=(0,c.useState)(!1),A=(0,i.Z)(S,2),C=A[0],Z=A[1],w=(0,c.useState)(!1),D=(0,i.Z)(w,2),I=D[0],P=D[1],T=(0,c.useRef)([]),_=function(e){var t=e.target,n=t.name,s=t.value;y((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},n,s))}))};return(0,R.jsx)("div",{children:(0,R.jsxs)(o.Tk,{alignment:"center",backdrop:"static",size:"lg",visible:n,className:"ui-dialog",onClose:function(){s(!1)},children:[(0,R.jsx)(o.p0,{style:{cursor:"all-scroll"},children:(0,R.jsx)(o.fl,{children:(0,R.jsx)("span",{children:"Add Salary Band"})})}),(0,R.jsx)(o.sD,{children:(0,R.jsxs)("div",{className:"col-md-12",children:[C?(0,R.jsxs)("div",{className:"statusMsg error",children:[(0,R.jsx)(N.CSE,{})," ","Please select the valid values for highlighted fields"]}):"",I?(0,R.jsxs)("div",{className:"statusMsg error",children:[(0,R.jsx)(N.CSE,{})," ","Maximum Salary Should be greater than Minimum Salary"]}):"",(0,R.jsxs)("div",{className:"group-content row mb-2",children:[(0,R.jsxs)("div",{className:"form-group row mb-2",children:[(0,R.jsxs)("label",{className:"col-5",children:["Country",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1",children:":"}),(0,R.jsx)("div",{className:"col-6 error text",children:(0,R.jsxs)("select",{id:"country",name:"country",className:"error text",onChange:_,ref:function(e){T.current[0]=e},children:[(0,R.jsx)("option",{value:"",children:" <<Please Select>>"}),r.map((function(e,t){return(0,R.jsx)("option",{value:e.value,children:e.label},t)}))]})})]}),(0,R.jsxs)("div",{className:"form-group row mb-2",children:[(0,R.jsxs)("label",{className:"col-5",children:["Department",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1",children:":"}),(0,R.jsx)("div",{className:"col-6 error text",children:(0,R.jsxs)("select",{id:"department",name:"department",className:"error text",onChange:_,ref:function(e){T.current[1]=e},children:[(0,R.jsx)("option",{value:"",children:" <<Please Select>>"}),d.map((function(e,t){return(0,R.jsx)("option",{value:e.value,children:e.label},t)}))]})})]}),(0,R.jsxs)("div",{className:"form-group row mb-2",children:[(0,R.jsxs)("label",{className:"col-5",children:["Role Type",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1",children:":"}),(0,R.jsx)("div",{className:"col-6 error text",children:(0,R.jsxs)("select",{id:"roleType",name:"roleType",className:"error text",onChange:_,ref:function(e){T.current[2]=e},children:[(0,R.jsx)("option",{value:"",children:" <<Please Select>>"}),u.map((function(e,t){return(0,R.jsx)("option",{value:e.value,children:e.label},t)}))]})})]}),(0,R.jsxs)("div",{className:"form-group row mb-2",children:[(0,R.jsxs)("label",{className:"col-5",children:["Min Salary",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1",children:":"}),(0,R.jsx)("div",{className:"col-6 error textfield",ref:function(e){T.current[3]=e},children:(0,R.jsx)("input",{type:"text",id:"minSal",name:"minSal",placeholder:"Enter Salary in $",onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},onChange:_})})]}),(0,R.jsxs)("div",{className:"form-group row mb-2",children:[(0,R.jsxs)("label",{className:"col-5",children:["Max Salary",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1",children:":"}),(0,R.jsx)("div",{className:"col-6 error textfield",ref:function(e){T.current[4]=e},children:(0,R.jsx)("input",{type:"text",id:"maxSal",name:"maxSal",placeholder:"Enter Salary in $",onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},onChange:_})}),(0,R.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3",children:(0,R.jsxs)("button",{className:"btn btn-primary",onClick:function(){!function(){if((0,k.Z)(T))Z(!0);else{if(Number(b.maxSal)<Number(b.minSal))return P(!0),void setTimeout((function(){P(!1)}),3e3);L.current=new AbortController,x()({url:t+"/CostMS/SalaryBand/Post",signal:L.current.signal,method:"post",data:b}).then((function(e){s(!1),h(!0),setTimeout((function(){h(!1)}),3e3),p()}))}}()},children:[(0,R.jsx)(E.Z,{title:"Save"}),"Save"]})})]})]})]})})]})})}return(0,c.useEffect)((function(){u.forEach((function(e,t){if(""===e.min_salary||""===e.max_salary){var n=document.getElementsByClassName("p-row-editor-init p-link-".concat(t))[0];null===n||void 0===n||n.setAttribute("title","Edit row ".concat(t)),null===n||void 0===n||n.click(),setTimeout((function(){var n=document.getElementsByClassName("p-row-editor-cancel p-link-".concat(t))[0];null===n||void 0===n||n.setAttribute("title","Cancel editing row ".concat(t)),null===n||void 0===n||n.addEventListener("click",(function(n){if(""===e.min_salary||""===e.max_salary){var a=(0,j.Z)(u);a.splice(t,1),h(a),ie(!1)}}),!0)}),200)}}))}),[u]),(0,R.jsxs)("div",{children:[X?(0,R.jsxs)("div",{className:"statusMsg success",children:[(0,R.jsx)(C.hXj,{}),"Updated Successfully "]}):"",ne?(0,R.jsxs)("div",{className:"statusMsg success",children:[(0,R.jsx)(C.hXj,{}),"Deleted Successfully "]}):"",re?(0,R.jsxs)("div",{className:"statusMsg error",children:[(0,R.jsx)(N.CSE,{}),"Please Enter the Highlighted Fields"]}):"",pe?(0,R.jsxs)("div",{className:"statusMsg success",children:[(0,R.jsx)(C.hXj,{}),"Saved Successfully "]}):"",Te?(0,R.jsxs)("div",{className:"statusMsg error",children:[(0,R.jsx)(N.CSE,{}),"Maximum Salary Should be greater than min Salary"]}):"",(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:"align right mb-2",children:[(0,R.jsxs)("button",{className:"btn btn-primary mr-2",title:"Save",onClick:function(){f(!0)},children:[(0,R.jsx)(Z.Z,{})," Upload"]}),(0,R.jsxs)("button",{className:"btn btn-primary",title:"Add",onClick:function(){ue(!0)},children:[(0,R.jsx)(d.wEH,{}),"Add"]})]}),(0,R.jsxs)(b.w,{value:u,showGridlines:!0,editMode:"row",onRowEditComplete:function(e){var t=[u],n=e.newData;t[e.index]=n,h(t),Le(e.newData)},dataKey:"id",stripedRows:!0,className:"primeReactDataTable salaryBandTable darkHeader",paginator:!0,pagination:"true",rows:10,paginationperpage:5,paginationrowsperpageoptions:[5,15,25,50],children:[(0,R.jsx)(y.s,{field:"country",header:"Country",body:function(e){return(0,R.jsx)("div",{"data-toggle":"tooltip",title:e.country,children:e.country})}}),(0,R.jsx)(y.s,{field:"department",header:"Department",body:function(e){return(0,R.jsx)("div",{"data-toggle":"tooltip",title:e.department,children:e.department})}}),(0,R.jsx)(y.s,{field:"role_type",header:"Role Type",body:function(e){return(0,R.jsx)("div",{"data-toggle":"tooltip",title:e.role_type,children:e.role_type})}}),(0,R.jsx)(y.s,{field:"min_salary",header:"Min.Salary",body:function(e){var t=Number(e.min_salary).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,R.jsx)("div",{"data-toggle":"tooltip",title:t,children:(0,R.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:["$ ",(0,R.jsx)("span",{className:"align right",children:t})]})})},editor:function(e){return t=e,(0,R.jsx)(R.Fragment,{children:(0,R.jsx)("input",{className:"error ".concat(re&&!t.rowData.min_salary?"error-block":""),type:"text",id:"min_salary",name:"min_salary",defaultValue:t.rowData.min_salary,onChange:function(e){t.editorCallback(e.target.value)}})});var t}}),(0,R.jsx)(y.s,{field:"max_salary",header:"Max.Salary",body:function(e){var t=Number(e.max_salary).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,R.jsx)("div",{"data-toggle":"tooltip",title:t,children:(0,R.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:["$ ",(0,R.jsx)("span",{className:"align right",children:t})]})})},editor:function(e){return t=e,(0,R.jsx)(R.Fragment,{children:(0,R.jsx)("input",{className:"error ".concat(re&&!t.rowData.max_salary?"error-block":""),type:"text",id:"max_salary",name:"max_salary",defaultValue:t.rowData.max_salary,onChange:function(e){t.editorCallback(e.target.value)}})});var t}}),(0,R.jsx)(y.s,{field:"role_cost",header:"Role cost",body:function(e){var t=Number(e.role_cost).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return(0,R.jsx)("div",{"data-toggle":"tooltip",title:t,children:(0,R.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:["$ ",(0,R.jsx)("span",{className:"align right",children:t})]})})}}),(0,R.jsx)(y.s,{field:"resource_cnt",header:"Current Count",body:function(e){return(0,R.jsx)("div",{"data-toggle":"tooltip",title:e.resource_cnt,className:"align right",children:e.resource_cnt})}}),(0,R.jsx)(y.s,{field:"StandardDeviation",header:"Standard Deviation"}),(0,R.jsx)(y.s,{header:"History",body:function(e){return(0,R.jsx)("div",{className:"align center",onClick:function(n){!function(e){Se(!0),L.current=new AbortController,x()({url:t+"/CostMS/SalaryBand/getHistory?country=".concat(e.Country_id,"&department=").concat(e.department_id,"&roleType=").concat(e.role_type_id),signal:L.current.signal}).then((function(e){je([{country:"Country",department:"Department",roleType:"Role Type",min_salary:"Min Salary",max_salary:"Max Salary",month:"Month",userName:"Updated By",updated_date:"Updated Date"}].concat(e.data))}))}(e)},children:(0,R.jsx)(N.wYb,{size:"1.5em",title:"History",style:{cursor:"pointer"},color:"grey"})})},bodyStyle:{textAlign:"align center"}}),(0,R.jsx)(y.s,{rowEditor:!0}),(0,R.jsx)(y.s,{header:"Action",body:function(e){return(0,R.jsx)("div",{className:"align center",children:(0,R.jsx)(N.YK6,{size:"1.5em",title:"Delete",style:{cursor:"pointer"},color:"orange",onClick:function(){H(!0),K(e.Id)}})})},bodyStyle:{textAlign:"align center"}})]})]}),Y?(0,R.jsx)(Oe,{deletePopUp:Y,setDeletePopUp:H,deleteRecord:function(){U(!0),L.current=new AbortController,x()({method:"delete",url:t+"/CostMS/SalaryBand/delete?Id=".concat(G),signal:L.current.signal}).then((function(e){H(!1),p(),ae(!0),U(!1),setTimeout((function(){ae(!1)}),300)}))}}):"",de?(0,R.jsx)(Ye,{setAddRow:ue,addrow:de,resLocation:v,setResLocation:w,departments:_,setDepartments:B,roletype:M,setSuccessMessage:fe,formData:F,setLoaderTimer:U}):"",Ne?(0,R.jsx)(Je,{historyData:ge,setHistoryPopUp:Se,historyPopUp:Ne,setLoaderTimer:U}):"",n?(0,R.jsx)(P.Z,{excelUploadPopUp:n,setExcelUploadPopUp:f,excelFile:Ze,setExcelFile:Ee,uploadExcelSheet:Qe,getResourcesCostData:p,formData:F,stateValue:ke,setLoaderTimer:U,updateMsg:Me,setUpdateMsg:Fe}):"",Q?(0,R.jsx)(T.Z,{handleAbort:function(){L.current&&L.current.abort(),U(!1)}}):""]})};var B=function(){var e=(0,c.useState)(!1),t=(0,i.Z)(e,2),n=t[0],u=t[1],p=(0,c.useState)(d.UdN),v=(0,i.Z)(p,2),j=v[0],b=v[1],y=(0,c.useState)([]),S=(0,i.Z)(y,2),A=S[0],C=S[1],Z=(0,c.useState)([]),E=(0,i.Z)(Z,2),w=E[0],D=E[1],I=(0,c.useState)([{}]),P=(0,i.Z)(I,2),T=P[0],B=P[1],M=(0,c.useState)([]),F=(0,i.Z)(M,2),U=F[0],Q=F[1],L=(0,c.useState)(new Date),J=(0,i.Z)(L,2),O=J[0],Y=J[1],H=(0,c.useState)([{}]),V=(0,i.Z)(H,2),z=V[0],G=V[1],K=(0,c.useState)([]),q=(0,i.Z)(K,2),W=q[0],X=q[1],$=(0,c.useState)(!1),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],ae=(0,c.useState)([]),le=(0,i.Z)(ae,2),se=le[0],re=le[1],ie=(0,c.useState)(!1),oe=(0,i.Z)(ie,2),ce=oe[0],de=oe[1],ue=(0,c.useState)(!1),me=(0,i.Z)(ue,2),he=me[0],pe=me[1],fe=(0,c.useRef)([]),ve=(0,c.useRef)([]),xe={departments:"170,211,123,82,168,207,212,18,213,49,149,208,243,999",resLocation:"6,5,3,8,7,1,2",month:m()(new Date).startOf("month").format("YYYY-MM-DD"),roletype:"117,143,142,493,418,531,539,565,701,192,503,754,752,490,917,495,144,388,504,385,385,533,729,658,244,732,765,723,755,389,918,722,753,390,391,391,386,303,392,919,920,532,536,667,393,651,646,128,713,730,771,152,394,498,751,756,821,921,537,176,93,396,397,399,398,400,400,362,387,89,527,528,491,401,48,301,489,496,91,98,494,132,727,757,819,492,463,428,428,46,85,746,776,750,922,506,173,500,129,731,760,377,699,923,220,395,403,505,147,668,404,497,148,534,501,187,378,721,740,306,234,728,725,161,499,405,405,296,341,406,724,307,307,237,702,759,758,174,502,199,105,105,402,84,407,409"},ge=(0,c.useState)(xe),je=(0,i.Z)(ge,2),be=je[0],ye=je[1],Ne=g.N.baseUrl,Se=function(e){e.expanded;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(d.qL$,{className:"chevronIcon"})})},Ae=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()({url:Ne+"/CostMS/cost/getDepartments"});case 2:t=e.sent,(n=t.data).push({value:999,label:"Non-Revenue Units"}),D(n.filter((function(e){return e.value>=0}))),a=[],l=[],n.length>0&&n.forEach((function(e){if(e.value>=0){var t={label:e.label,value:e.value};a.push(t),l.push(t.value)}})),C(a),D(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){(0,k.Z)(fe)?de(!0):(pe(!0),de(!1),ve.current=new AbortController,x()({method:"post",url:Ne+"/CostMS/SalaryBand/getData",signal:ve.current.signal,data:{country:be.resLocation,department:be.departments,roletype:be.roletype,month:be.month}}).then((function(e){pe(!1),re(e.data)})))};(0,c.useEffect)((function(){Ae(),x()({method:"get",url:Ne+"/revenuemetricsms/metrics/getreslocation"}).then((function(e){var t=e.data;B(e.data),Q(t.filter((function(e){return e.value>=0})));var n=[];t.forEach((function(e){e.value>=0&&n.push(e.value)}))})),x()({url:Ne+"/CostMS/SalaryBand/roleTypes"}).then((function(e){var t=e.data;G(e.data),X(t.filter((function(e){return e.value>=0})));var n=[];t.forEach((function(e){e.value>=0&&n.push(e.value)}))}))}),[]),(0,c.useEffect)((function(){x()({method:"post",url:Ne+"/CostMS/SalaryBand/getData",signal:ve.current.signal,data:{country:be.resLocation,department:be.departments,roletype:be.roletype,month:be.month}}).then((function(e){pe(!1),re(e.data)}))}),[]);var Ze=function(e,t){var n=e.map((function(e){return e.value})),a=t.map((function(e){return e.value}));return n.length===a.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")};return(0,R.jsxs)("div",{className:"col-md-12",children:[ce?(0,R.jsxs)("div",{className:"statusMsg error",children:[(0,R.jsx)(N.CSE,{}),"Please Enter the Highlighted Fields"]}):"",(0,R.jsx)("div",{className:"pageTitle",children:(0,R.jsxs)("div",{className:"childOne",children:[(0,R.jsx)("div",{className:"childTwo",children:(0,R.jsx)("h2",{children:"Salary Band"})}),(0,R.jsx)("div",{className:"childThree"})]})}),(0,R.jsxs)("div",{className:"gropu mb-3 customCard",children:[(0,R.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,R.jsx)("h2",{children:"Search Filters"}),(0,R.jsx)("div",{onClick:function(){u(!n),b(n?d.UdN:d.NR5)},children:(0,R.jsx)("span",{children:j})})]}),(0,R.jsx)(o.V9,{visible:!n,children:(0,R.jsxs)("div",{className:"group-content row",children:[(0,R.jsx)("div",{className:"col-md-4 mb-2",children:(0,R.jsxs)("div",{className:"form-group row",children:[(0,R.jsxs)("label",{className:"col-5",htmlFor:"department",children:["Department",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1 p-0",children:":"}),(0,R.jsx)("div",{className:"col-6 multiselect",ref:function(e){fe.current[0]=e},children:(0,R.jsx)(h.NU,{ArrowRenderer:Se,id:"departments",options:A,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,value:w,selected:w,valueRenderer:Ze,disabled:!1,onChange:function(e){D(e);var t=[];e.forEach((function(e){t.push(e.value)})),ye((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"departments",t.toString()))}))}})})]})}),(0,R.jsx)("div",{className:" col-md-4 mb-2",children:(0,R.jsxs)("div",{className:"form-group row",children:[(0,R.jsxs)("label",{className:"col-5",htmlFor:"Location",children:["Country",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1 p-0",children:":"}),(0,R.jsx)("div",{className:"col-6 multiselect",ref:function(e){fe.current[1]=e},children:(0,R.jsx)(h.NU,{ArrowRenderer:Se,id:"resLocation",options:T,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,value:U,selected:U,valueRenderer:Ze,onChange:function(e){Q(e);var t=[];e.forEach((function(e){t.push(e.value)})),ye((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"resLocation",t.toString()))}))}})})]})}),(0,R.jsx)("div",{className:"col-md-4 mb-2",children:(0,R.jsxs)("div",{className:"form-group row",children:[(0,R.jsxs)("label",{className:"col-5",htmlFor:"Role Type",children:["Role Type",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1 p-0",children:":"}),(0,R.jsx)("div",{className:"col-6 multiselect",ref:function(e){fe.current[2]=e},children:(0,R.jsx)(h.NU,{ArrowRenderer:Se,id:"roletype",options:z,hasSelectAll:!0,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,selected:W,value:W,valueRenderer:Ze,onChange:function(e){X(e);var t=[];e.forEach((function(e){t.push(e.value)})),ye((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"roletype",t.toString()))}))}})})]})}),(0,R.jsx)("div",{className:" col-md-4 mb-2",children:(0,R.jsxs)("div",{className:"form-group row",children:[(0,R.jsxs)("label",{className:"col-5",htmlFor:"month",children:["Month",(0,R.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,R.jsx)("span",{className:"col-1 p-0",children:":"}),(0,R.jsx)("div",{className:"col-6 datepicker",ref:function(e){fe.current[3]=e},children:(0,R.jsx)(f(),{id:"month",selected:O,onChange:function(e){Y(e),ye((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,a.Z)({},"month",m()(e).format("YYYY-MM-DD")))}))},dateFormat:"MMM-yyyy",showMonthYearPicker:!0,maxDate:new Date})})]})}),(0,R.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-1",children:(0,R.jsxs)("button",{type:"submit",className:"btn btn-primary center",onClick:function(){Ce()},children:[(0,R.jsx)(d.U41,{})," Search"]})})]})})]}),(0,R.jsx)("div",{className:"col-md-12",children:(0,R.jsx)(_,{popUp:te,SetPopUp:ne,tableData:se,setTableData:re,getSearch:Ce,resLocation:T,setResLocation:B,departments:A,setDepartments:C,roletype:z,formData:be,setLoaderTimer:pe,loaderTimer:he,abortController:ve})})]})}},18752:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(29439),l=n(72791),s=n(1413),r=n(40071),i=n(63521),o=n(74569),c=n.n(o),d=n(34831),u=n(11087),m=n(7692),h=n(38262),p=n(72920),f=n(80184);var v=function(e){var t=e.setButtonState,n=(0,l.useState)([]),o=(0,a.Z)(n,2),v=o[0],x=o[1],g=(0,l.useState)(""),j=(0,a.Z)(g,2),b=(j[0],j[1]),y=(0,l.useState)(!1),N=(0,a.Z)(y,2),S=N[0],A=N[1],C=d.N.baseUrl,Z=(0,l.useState)([{}]),E=(0,a.Z)(Z,2),w=E[0],D=E[1],k=localStorage.getItem("resId"),I=(0,l.useState)([]),P=(0,a.Z)(I,2),T=P[0],R=P[1];(0,l.useEffect)((function(){_()}),[]);var _=function(){c()({method:"GET",url:C+"/CommonMS/master/getMenus?loggedUserId=".concat(k)}).then((function(e){e.data.forEach((function(e){"Teams"===e.display_name&&R([e])}))}))},B=(0,l.useState)([]),M=(0,a.Z)(B,2),F=M[0],U=M[1];console.log(F),(0,l.useEffect)((function(){}),[v]),(0,l.useEffect)((function(){c()({method:"get",url:C+"/ProjectMS/Issues/getAssignedData"}).then((function(e){var t=e.data;x(t)})),c()({method:"get",url:C+"/ProjectMS/stakeholders/getprofileopen?user_id=".concat(k)}).then((function(e){U(e.data)})).then((function(e){}))}),[]);var Q=function(){null==w.id?(b("1px solid rgb(183 1 1) !important"),A(!0)):(A(!1),u.rU,"/resource/profile/:".concat(w.id),c()({method:"post",url:C+"/ProjectMS/stakeholders/updateUserSearchHistorteamsel",data:{user_id:k,object_id:w.id},headers:{"Content-Type":"application/json"}}).then((function(e){})))};return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Teams Search History"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsxs)("div",{children:[(0,f.jsx)(h.Z,{routes:T,currentScreenName:["Profile","Teams Search History"]}),(0,f.jsx)("div",{className:"helpBtn",children:(0,f.jsx)(p.Z,{pdfname:"MyDashboard.pdf",name:"My Dashboard Help"})}),(0,f.jsx)("div",{className:"body body-bg col-xs-12 col-sm-12 col-md-12 col-lg-12 customCard ",children:(0,f.jsxs)("div",{className:"form-group cvu darkHeader",children:[(0,f.jsx)("div",{className:"col-6 my-2 no-padding",children:(0,f.jsxs)("table",{id:"details",className:"col-12 table table-bordered  openTable ",children:[(0,f.jsxs)("thead",{children:[(0,f.jsx)("tr",{children:(0,f.jsx)("th",{colSpan:4,className:"tableheading",style:{backgroundColor:"#eeeeee"},children:(0,f.jsx)("h6",{className:"text-center m-0",style:{color:"#187fde",fontSize:"15px"},children:"Recent Teams Searches"})})}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"tableheading",style:{backgroundColor:"#eeeeee"},children:(0,f.jsx)("h6",{className:"text-center m-0 ",style:{fontSize:"13px"},children:"Teams"})}),(0,f.jsx)("th",{className:"tableheading",style:{backgroundColor:"#eeeeee"},children:(0,f.jsx)("h6",{className:"text-center m-0",style:{fontSize:"13px"},children:"Departments"})})]})]}),(0,f.jsx)("tbody",{children:F.map((function(e,n){var a;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)(u.rU,{"data-toggle":"tooltip",title:"Go To Resource Profile",onClick:function(){var n;t("Profile"),n=e.object_id,u.rU,"/resource/profile/:".concat(n),c()({method:"post",url:C+"/ProjectMS/stakeholders/updateUserSearchHistorypo",data:{user_id:k,object_id:n},headers:{"Content-Type":"application/json"}}).then((function(e){}))},to:"/resource/profile/:".concat(e.object_id),target:"_blank",children:e.Empname})}),(0,f.jsx)("td",{children:null===(a=F[n])||void 0===a?void 0:a.name})]},e.object_id)}))})]})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-6",children:S?(0,f.jsx)("div",{className:"statusMsg error ",style:{display:"block"},children:(0,f.jsxs)("span",{children:[(0,f.jsx)(r.SZZ,{}),"\xa0","Please select any Teams"]})}):""}),(0,f.jsxs)("div",{className:"row ",children:[(0,f.jsx)("div",{className:"col-1 ",children:(0,f.jsxs)("h6",{children:["Teams ",(0,f.jsx)("span",{style:{color:"red"},children:"*"}),"\xa0\xa0\xa0\xa0:"]})}),(0,f.jsxs)("div",{className:"col-4 autoComplete-container",id:"autoComplete",children:[(0,f.jsx)(i.ReactSearchAutocomplete,{items:v,type:"Text",name:"Teams",id:"Teams",className:"AutoComplete",onSelect:function(e){D(e)},showIcon:!1,onClear:function(){D((function(e){return(0,s.Z)((0,s.Z)({},e),{},{id:null})}))},placeholder:"Type minimum 4 characters"})," "]}),(0,f.jsx)("div",{className:"err col-2",children:void 0==w.id?(0,f.jsxs)("button",{title:"Search",className:"btn btn-primary",onClick:function(){t("Profile"),Q()},children:[(0,f.jsx)(m.Goc,{})," Search"]}):(0,f.jsx)(u.rU,{title:"Search",to:"/resource/profile/:".concat(w.id),target:"_blank",children:(0,f.jsxs)("button",{title:"Search",className:"btn btn-primary ",onClick:function(){t("Profile"),Q()},children:[(0,f.jsx)(m.Goc,{})," Search"]})})})]})]})]})})]})]})},x=n(74165),g=n(15861),j=n(4942),b=n(36167),y=n(1063),N=n(56355),S=n(78983),A=n(47477);n(41980),n(39122),n(31896);var C=n(73220),Z=n(32125),E=(n(81975),n(83854)),w=n(37145),D=n(72426),k=n.n(D),I=function(e){var t,n=e.data,s=e.loaderState,r=e.setLoaderState,i=e.setShowVisaDtl,o=e.showVisaDtl,m=(0,l.useState)([]),h=(0,a.Z)(m,2),p=h[0],v=h[1],x=(0,l.useState)([]),g=(0,a.Z)(x,2),j=g[0],b=g[1],N=(0,l.useRef)(null),S=d.N.baseUrl;(0,l.useEffect)((function(){n[0]&&v(JSON.parse(JSON.stringify(n[0])));b(["XLS"])}),[n]);var C=(0,l.useState)([]),Z=(0,a.Z)(C,2),D=Z[0],I=Z[1],P=(0,l.useState)([]),T=(0,a.Z)(P,2),R=T[0],_=T[1],B=(0,l.useState)([]),M=(0,a.Z)(B,2),F=M[0],U=M[1],Q=function(){c().get(S+"/ProjectMS/Audit/getUserid?userId=".concat(D)).then((function(e){for(var t=e.data,n=0;n<t.length;n++)t[n].issuedDate=null==t[n].issuedDate?"":k()(t[n].issuedDate).format("DD-MMM-YYYY"),t[n].validUpto=null==t[n].validUpto?"":k()(t[n].validUpto).format("DD-MMM-YYYY");_(t),i(!0)})).catch((function(e){return console.log(e)}))};(0,l.useEffect)((function(){Q()}),[D]);var L=function(e){return(0,f.jsx)("div",{className:"align left  ellipsis ",children:1===e.resVisaStat?(0,f.jsx)(u.rU,{onClick:function(){return t=e.resUserId,n=e.resName,I(t),U(n),void Q();var t,n},children:e.resVisaStat}):e.resVisaStat})},J=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resName,children:e.resName})},O=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resSupName,children:e.resSupName})},Y=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resDept,children:e.resDept})},H=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resLob,children:e.resLob})},V=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resTitle,children:e.resTitle})},z=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resCitizenship,children:e.resCitizenship})},G=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resLocation,children:e.resLocation})},K=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resRole,children:e.resRole})},q=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.resNotes,children:e.resNotes})},W=null===(t=Object.keys(p))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(y.s,{sortable:!0,field:e,header:p[e],body:"resVisaStat"==e?L:"resName"==e?J:"resSupName"==e?O:"resDept"==e?Y:"resLob"==e?H:"resTitle"==e?V:"resCitizenship"==e?z:"resLocation"==e?G:"resRole"==e?K:"resNotes"==e&&q},e)}));return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"",children:[s?(0,f.jsx)("div",{className:"loaderBlock",children:(0,f.jsx)(E.Z,{handleAbort:function(){N.current&&N.current.abort(),r(!1)}})}):"",(0,f.jsx)(A.Z,{rows:10,data:n,dynamicColumns:W,headerData:p,setHeaderData:v,exportData:j})]}),(0,f.jsx)("div",{className:"col-md-12 mt-4 darkHeader",children:!0===o?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h5",{children:[F," - Visa Details"]}),(0,f.jsxs)(w.w,{className:"primeReactDataTable eventsTable",value:R,showGridlines:!0,paginator:!0,rows:10,emptyMessage:"No Data Found",paginationPerPage:5,rowsPerPageOptions:[10,25,50],paginationRowsPerPageOptions:[5,15,25,50],children:[(0,f.jsx)(y.s,{header:"Country Name",body:function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.countryName,children:e.countryName})}}),(0,f.jsx)(y.s,{header:"Visa Type",body:function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.visaType,children:e.visaType})}}),(0,f.jsx)(y.s,{header:"Visa Number",body:function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.visaNumber,children:e.visaNumber})}}),(0,f.jsx)(y.s,{header:"Issued Date",body:function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.issuedDate,children:e.issuedDate})}}),(0,f.jsx)(y.s,{header:"Valid Upto",body:function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",className:"ellipsis",title:e.validUpto,children:e.validUpto})}})]})]}):""})]})};var P=function(){var e=localStorage.getItem("resId"),t=(0,l.useState)([]),n=(0,a.Z)(t,2),i=n[0],o=n[1],u=(0,l.useRef)(null),m=(0,l.useState)([{value:"11",label:"Employee"},{value:"12",label:"Contractors"}]),v=(0,a.Z)(m,2),y=v[0],A=(v[1],(0,l.useState)(y)),E=(0,a.Z)(A,2),w=E[0],D=E[1],k=(0,l.useState)(!1),P=(0,a.Z)(k,2),T=P[0],R=P[1],_=(0,l.useState)([]),B=(0,a.Z)(_,2),M=B[0],F=B[1],U=(0,l.useState)([]),Q=(0,a.Z)(U,2),L=Q[0],J=Q[1],O=(0,l.useState)([]),Y=(0,a.Z)(O,2),H=Y[0],V=Y[1],z=(0,l.useState)([]),G=(0,a.Z)(z,2),K=G[0],q=G[1],W=(0,l.useState)([]),X=(0,a.Z)(W,2),$=X[0],ee=X[1],te=(0,l.useState)(!1),ne=(0,a.Z)(te,2),ae=ne[0],le=ne[1],se=(0,l.useState)(!1),re=(0,a.Z)(se,2),ie=re[0],oe=re[1],ce=d.N.baseUrl,de=(0,l.useState)(!1),ue=(0,a.Z)(de,2),me=ue[0],he=ue[1],pe=(0,l.useState)(N.UdN),fe=(0,a.Z)(pe,2),ve=fe[0],xe=fe[1],ge=(0,l.useState)([]),je=(0,a.Z)(ge,2),be=(je[0],je[1]),ye=(0,l.useState)(!1),Ne=(0,a.Z)(ye,2),Se=Ne[0],Ae=Ne[1],Ce=(0,l.useRef)([]),Ze={resBusinessUnit:"170,211,123,82,168,207,212,18,213,49,149,208,243,999",resType:"-1",country:"6,5,3,8,4,7,1,2",resStatus:"-1",resBillableType:"0,1,2",resLobType:"11,12",loggedUser:e},Ee=(0,l.useState)(Ze),we=(0,a.Z)(Ee,2),De=we[0],ke=we[1],Ie=(0,l.useState)([{value:"0",label:"Billable"},{value:"1",label:"Partial Billable"},{value:"2",label:"Not Billable"}]),Pe=(0,a.Z)(Ie,2),Te=Pe[0],Re=(Pe[1],(0,l.useState)(Te)),_e=(0,a.Z)(Re,2),Be=_e[0],Me=_e[1],Fe=(0,l.useState)([]),Ue=(0,a.Z)(Fe,2),Qe=Ue[0],Le=Ue[1];(0,l.useEffect)((function(){Je()}),[]);var Je=function(){c()({method:"GET",url:ce+"/CommonMS/master/getMenus?loggedUserId=".concat(e)}).then((function(e){e.data.forEach((function(e){"Teams"===e.display_name&&Le([e])}))}))};(0,l.useEffect)((function(){He(),Oe(),Ve()}),[]);var Oe=function(){c().get(ce+"/CostMS/cost/getCountries").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.country_name,value:e.id};t.push(n)})),F(t),J(t)})).catch((function(e){return console.log(e)}))};(0,l.useEffect)((function(){var e=[];M.forEach((function(t){e.push(t.value)})),ke((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,j.Z)({},"country",e.toString()))}))}),[M]);var Ye,He=function(){c().get(ce+"/ProjectMS/Audit/getloggeduser?loggedId=".concat(e)).then((function(e){var t=e.data;ee(t)})).catch((function(e){return console.log(e)}))},Ve=function(){var e=(0,g.Z)((0,x.Z)().mark((function e(){var t,n,a;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c()({url:ce+"/CostMS/cost/getDepartments"});case 2:t=e.sent,(n=t.data).push({value:0,label:"Non-Revenue Units"}),V(n),q(n.filter((function(e){return 0!=e.value}))),a=[],n.forEach((function(e){0!=e.value&&a.push(e.value)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(e){e.expanded;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(N.qL$,{className:"chevronIcon"})})};return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Resource View List"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(h.Z,{routes:Qe,currentScreenName:["Profile","Resource View List"]}),(0,f.jsx)("div",{className:"col-md-12  mt-2",children:me?(0,f.jsxs)("div",{className:"statusMsg error",children:[" ",(0,f.jsxs)("span",{children:[" ",(0,f.jsx)(r.SZZ,{})," Please select highlighted field values"," "]})]}):""}),(0,f.jsxs)("div",{className:"group mb-5 customCard",children:[(0,f.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,f.jsx)("h2",{children:"Search Filters"}),(0,f.jsx)("div",{className:"helpBtn",children:(0,f.jsx)(p.Z,{pdfname:"ResourceSearchViewList.pdf",name:"Resource Search View List Help"})}),(0,f.jsx)("div",{onClick:function(){Ae(!Se),xe(Se?N.UdN:N.NR5)},children:(0,f.jsx)("span",{children:ve})})]}),(0,f.jsx)(S.V9,{visible:!Se,setVisible:"false",children:(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"resType",children:["Resource Type\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("select",{id:"resType",onChange:function(e){ke((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,j.Z)({},"resType",e.target.value))}))},children:[(0,f.jsx)("option",{value:"-1",children:"All Reportees"}),(0,f.jsx)("option",{value:"0",children:"Direct Reportees"}),(0,f.jsx)("option",{value:"1",children:"InDirect Reportees"})]})})]})}),(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"resourcebillable",children:["Resource Billable",(0,f.jsx)("span",{className:"error-text mx-2",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ce.current[0]=e},children:(0,f.jsx)(b.NU,{id:"resBillableType",options:Te,ArrowRenderer:ze,hasSelectAll:!0,valueRenderer:function(e,t){return e.length===Te.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},value:Be,onChange:function(e){Me(e);var t=[];e.forEach((function(e){t.push(e.value)})),ke((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,j.Z)({},"resBillableType",t.toString()))}))}})})]})}),(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"resBusinessUnit",children:["Business Unit\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ce.current[1]=e},children:(0,f.jsx)(b.NU,{id:"resBusinessUnit",ArrowRenderer:ze,options:H,hasSelectAll:!0,disableSearch:!1,value:K,valueRenderer:function(e,t){return e.length===H.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},disabled:!1,onChange:function(e){q(e);var t=[];e.forEach((function(e){t.push(e.value)})),ke((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,j.Z)({},"resBusinessUnit",t.toString()))}))}})})]})}),(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"resStatus",children:["Resource Status\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("select",{id:"resStatus",onChange:function(e){ke((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,j.Z)({},"resStatus",e.target.value))}))},children:[(0,f.jsx)("option",{value:"-1",children:"<<All>>"}),(0,f.jsx)("option",{value:"1",children:"Active"}),(0,f.jsx)("option",{value:"0",children:"InActive"})]})})]})}),(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",children:["Res.Location\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ce.current[2]=e},children:(0,f.jsx)(b.NU,{id:"country",ArrowRenderer:ze,options:M,hasSelectAll:!0,value:L,valueRenderer:function(e,t){return e.length===M.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},disabled:!1,onChange:function(e){J(e);var t=[];e.forEach((function(e){t.push(e.value)})),ke((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,j.Z)({},"country",t.toString()))}))}})})]})}),(0,f.jsx)("div",{className:" col-md-3 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"lob",children:["Resource LOB Category\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 multiselect",ref:function(e){Ce.current[3]=e},children:(0,f.jsx)(b.NU,{id:"resLobType",options:y,ArrowRenderer:ze,hasSelectAll:!0,value:w,valueRenderer:function(e,t){return e.length==y.length?"<< ALL >>":0===e.length?"<< Please Select >>":e.map((function(t){return e.length>1?t.label+",":t.label}))},overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<< All>>"},onChange:function(e){D(e);var t=[];e.forEach((function(e){t.push(e.value)})),ke((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,j.Z)({},"resLobType",t.toString()))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12  btn-container center my-0",children:(0,f.jsxs)("button",{type:"submit",className:"btn btn-primary",title:"Search",onClick:function(){return function(){if((0,C.Z)(Ce),""==De.resBillableType||""==De.resBusinessUnit||""==De.country||""==De.resLobType){if((0,Z.Z)(Ce))return void he(!0)}else{oe(!0);var e=setTimeout((function(){le(!0)}),2e3);u.current=new AbortController,he(!1),Ye=L.length===M.length?"6,5,3,8,4,7,1,2":De.country,c().get(ce+"/ProjectMS/Audit/getTeamsSearch?resBusinessUnit=".concat(De.resBusinessUnit,"&resType=").concat(De.resType,"&resCountry=").concat(Ye,"&resStatus=").concat(De.resStatus,"&resBillableType=").concat(De.resBillableType,"&resLobType=").concat(De.resLobType.length>2?"11,12":De.resLobType,"&loggedUser=").concat($)).then((function(e){var t=e.data,n=[{resName:"Resource Name",resSupName:"Supervisor",resDept:"Business Unit",resLob:"LOB Category",resTitle:"Title",resCitizenship:"Citizenship",resLocation:"Location",resRole:"Role Type",resNotes:"Notes",resVisaStat:"Visa status"}],a=[],l=[];t.map((function(t,n){n<0?a.push(e.data[n]):l.push(e.data[n])})),be(n.concat(l));var s=t.sort((function(e,t){var n=e.resName.toUpperCase(),a=t.resName.toUpperCase();return n<a?-1:n>a?1:0}));o(n.concat(s)),R(!1)})),clearTimeout(e),le(!1),Ae(!Se),xe(Se?N.UdN:N.NR5)}}()},children:[(0,f.jsx)(N.U41,{}),"Search"," "]})})]})})]}),(0,f.jsx)("div",{className:"col-md-12",children:!0===ie?(0,f.jsx)(I,{data:i,setShowVisaDtl:R,loaderState:ae,setLoaderState:le,showVisaDtl:T}):""})]})},T=n(84082);var R=function(){var e=["Profile","Search","Open"],t=localStorage.getItem("resId"),n=parseInt(t)+1,s=(0,l.useState)(n),r=(0,a.Z)(s,2),i=r[0],o=r[1],c=window.location.href,d=(c.split(":"),(0,l.useState)(e[0])),u=(0,a.Z)(d,2),m=u[0],h=u[1];return console.log(i),(0,l.useEffect)((function(){c.includes("profile")&&h("Profile");var e=c.split(":");o(e[e.length-1])}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"tabs",children:e.map((function(e,t){return(0,f.jsx)("button",{className:m===e?"buttonDisplayClick":"buttonDisplay",onClick:function(){h(e)},children:e},t)}))}),"Profile"===m&&(0,f.jsx)(T.Z,{resId:i,setResourceId:o}),"Search"===m&&(0,f.jsx)(P,{}),"Open"===m&&(0,f.jsx)(v,{setButtonState:h})]})}},21381:function(e,t,n){var a=n(93433),l=n(1413),s=n(74165),r=n(15861),i=n(29439),o=n(72791),c=n(37145),d=n(1063),u=n(74569),m=n.n(u),h=n(34831),p=n(72426),f=n.n(p),v=n(83854),x=n(57689),g=(n(59962),n(78983)),j=n(39126),b=n(36036),y=n(56355),N=n(78820),S=n(7692),A=n(92080),C=n(49648),Z=n(16030),E=n(80184);t.Z=function(e){var t=(0,o.useState)([]),n=(0,i.Z)(t,2),u=n[0],p=n[1],w=(0,o.useState)([]),D=(0,i.Z)(w,2),k=D[0],I=D[1],P=(0,o.useState)([]),T=(0,i.Z)(P,2),R=T[0],_=T[1],B=(0,o.useState)(0),M=(0,i.Z)(B,2),F=M[0],U=M[1],Q=(0,o.useState)(null),L=(0,i.Z)(Q,2),J=L[0],O=L[1],Y=(0,o.useState)(!1),H=(0,i.Z)(Y,2),V=H[0],z=H[1],G=(0,o.useState)(!1),K=(0,i.Z)(G,2),q=K[0],W=K[1],X=(0,o.useState)([]),$=(0,i.Z)(X,2),ee=$[0],te=$[1],ne=(0,o.useState)(!1),ae=(0,i.Z)(ne,2),le=ae[0],se=ae[1],re=(0,o.useState)({}),ie=(0,i.Z)(re,2),oe=ie[0],ce=ie[1],de=(0,o.useState)([]),ue=(0,i.Z)(de,2),me=ue[0],he=ue[1],pe=(0,o.useState)(!1),fe=(0,i.Z)(pe,2),ve=fe[0],xe=fe[1],ge=(0,o.useState)([]),je=(0,i.Z)(ge,2),be=je[0],ye=je[1],Ne=(0,o.useState)(!0),Se=(0,i.Z)(Ne,2),Ae=Se[0],Ce=Se[1],Ze=(0,o.useState)({}),Ee=(0,i.Z)(Ze,2),we=Ee[0],De=Ee[1],ke=(0,o.useState)(),Ie=(0,i.Z)(ke,2),Pe=Ie[0],Te=Ie[1],Re=(0,o.useState)([]),_e=(0,i.Z)(Re,2),Be=_e[0],Me=_e[1],Fe=(0,o.useState)(!0),Ue=(0,i.Z)(Fe,2),Qe=(Ue[0],Ue[1]),Le=(0,o.useState)(!1),Je=(0,i.Z)(Le,2),Oe=Je[0],Ye=Je[1],He=(0,o.useState)(0),Ve=(0,i.Z)(He,2),ze=Ve[0],Ge=Ve[1],Ke=(0,o.useState)([]),qe=(0,i.Z)(Ke,2),We=qe[0],Xe=qe[1],$e=h.N.baseUrl,et=localStorage.getItem("resId"),tt=localStorage.getItem("resName"),nt=e.setIsClassicView,at=(e.handleAbort,o.useState(null)),lt=(0,i.Z)(at,2),st=lt[0],rt=lt[1],it=function(){rt(!1)},ot=(0,Z.I0)(),ct=(0,x.s0)(),dt=(0,o.useState)([]),ut=(0,i.Z)(dt,2),mt=ut[0],ht=ut[1];(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().get($e+"/ProjectMS/projectExpenses/paymentUsers");case 3:t=e.sent,n=t.data,ht(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,o.useEffect)((function(){m()({method:"get",url:$e+"/ProjectMS/defectphases/getresourceid?id=".concat(et)}).then((function(e){var t=e.data;U(t)}))}),[]),(0,o.useEffect)((function(){0!=F&&(pt(),ft(),vt())}),[F]);var pt=function(){m().get($e+"/ProjectMS/projectExpenses/teamExpenses?resourceid=".concat(F,"&projectid=-1")).then((function(e){_(e.data)})).catch((function(e){return console.log(e)}))},ft=function(){m().get($e+"/timeandexpensesms/expensesSearch/myRequests?resId=".concat(F)).then((function(e){I(e.data)})).catch((function(e){return console.log(e)}))},vt=function(){W(!1),m().get("".concat($e,"/timeandexpensesms/expensesSearch/expenseApprovals?resId=").concat(F),{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{subrows:[]})}));p(t),W(!1)})).catch((function(e){return console.log(e)}))},xt=R.map((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{serial:t+1})})),gt=k.map((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},{serial:t+1})})),jt=function(e){return e.minDt===e.maxDt?(0,E.jsx)("div",{title:"".concat(f()(e.minDt).format("DD MMM")),children:"".concat(f()(e.minDt).format("DD MMM"))}):(0,E.jsx)("div",{title:"".concat(f()(e.minDt).format("DD MMM")," - ").concat(f()(e.maxDt).format("DD MMM")),children:"".concat(f()(e.minDt).format("DD MMM")," - ").concat(f()(e.maxDt).format("DD MMM"))})},bt=function(e){var t=String(e);if(t.includes(".")){var n=t.split(".");return n[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+"."+n[1].padEnd(2,"0")}return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+".00"},yt=function(e){var t=document.createElement("div");return t.innerHTML=e.clientCurrencyCode,t.innerHTML},Nt=function(e){return(0,E.jsx)("a",{className:"linkSty",onClick:function(){var t;xe(!0),t=e.expense_id,m().get($e+"/ProjectMS/projectExpenses/expenseHistory?expenseId=".concat(t)).then((function(e){he(e.data),xe(!1)})).catch((function(e){return console.log(e)})),se(!0),ce(e)},children:"View"})},St=function(e){return e.includes("Submitted")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#ccc"}})}):e.includes("PM Approved")||e.includes("Pending")||e.includes("IT Approved")||e.includes("HR Approved")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#CDE6FE"}})}):e.includes("PM Rejected")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#e54c53"}})}):e.includes("Drafted")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#EDD4A2"}})}):e.includes("Paid")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#D9FBB3"}})}):e.includes("Approved To Pay")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#0080ff"}})}):e.includes("FM Rejected")||e.includes("IT Rejected")||e.includes("HR Rejected")?(0,E.jsx)("span",{children:(0,E.jsx)(j.rJz,{style:{color:"#e54c53"}})}):(0,E.jsx)("span",{})},At=(0,o.useState)(""),Ct=(0,i.Z)(At,2),Zt=Ct[0],Et=Ct[1],wt=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)&&!mt.includes(parseInt(et))?(0,E.jsx)("div",{children:(0,E.jsx)("select",{onChange:function(t){return Qt(t,e)},id:"dropDown",children:e.drop_down.map((function(e){var t=Object.keys(e)[0],n=e[t];return(0,E.jsx)("option",{value:t,children:n})}))})}):(0,E.jsxs)("div",{onMouseOver:function(t){rt(null===t||void 0===t?void 0:t.currentTarget),Et(e.approvalFlow.split(",").join(" >> ").slice(0,-4))},onMouseLeave:it,className:"ellipsis",children:[St(e.Approval)," ",e.Approval]})};console.log(mt.includes(parseInt(et)));var Dt=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)&&mt.includes(parseInt(et))?(0,E.jsx)("div",{children:(0,E.jsx)("select",{onChange:function(t){return Qt(t,e)},id:"dropDown",children:e.drop_down.map((function(e){var t=Object.keys(e)[0],n=e[t];return(0,E.jsx)("option",{value:t,children:n})}))})}):"string"===typeof e.Payment&&e.Payment.trim().length>0&&/[a-zA-Z]/.test(e.Payment)?(0,E.jsxs)("span",{title:e.Payment,className:"ellipsis",children:[St(e.Payment)," ",e.Payment]}):""},kt=function(e,t){return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{children:(0,E.jsx)("input",{className:"form-check-input",type:"checkbox",id:e.id,style:{height:"20px",width:"20px",marginLeft:"5px"},checked:ee.some((function(t){return t.expense_id===e.expense_id})),onChange:function(n){var l=(0,a.Z)(Be);l[t]=n.target.checked,Me(l),e.Payment=Object.keys(e.drop_down[0])[0];var s=(0,a.Z)(ee);if(n.target.checked)s.push(e);else{var r=s.findIndex((function(t){return t.expense_id===e.expense_id}));-1!==r&&s.splice(r,1)}!function(e){te(e)}(s)},disabled:Jt(e)})})})},It=(0,o.useState)([]),Pt=(0,i.Z)(It,2),Tt=Pt[0],Rt=Pt[1],_t=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)?(0,E.jsx)("textarea",{id:"comment",style:{resize:"none"},defaultValue:e.comments,onChange:function(t){return Qt(t,e)}}):(0,E.jsx)("div",{title:e.comments,className:"ellipsis",children:e.comments})};function Bt(e){var t=e.popUp,n=e.setPopUp,a=e.data,l=e.totalData,i=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n,a){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(l=document.createElement("a")).href=$e+"/CommonMS/document/downloadFile?documentId=".concat(t,"&svnRevision=").concat(n),l.click();case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return(0,E.jsx)("div",{children:ve?(0,E.jsx)(v.Z,{handleAbort:function(){xe(!1)}}):(0,E.jsxs)(g.Tk,{visible:t,backdrop:"static",size:"lg",onClose:function(){return n(!1)},children:[(0,E.jsx)(g.p0,{style:{cursor:"all-scroll"},children:(0,E.jsx)(g.fl,{children:(0,E.jsx)("span",{className:"ft16",children:"Expense Details"})})}),(0,E.jsxs)(g.sD,{children:[(0,E.jsx)("div",{className:"container",children:(0,E.jsx)("div",{className:"form-group content",children:(0,E.jsxs)("div",{className:"col-12 row",children:[(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Project"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:l.filter((function(e){return e.stackId===a.id})).map((function(e){return e.projectName}))})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Resource"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:a.fullName})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Expense Category"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:a.Expense_Type})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Description"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:a.description})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Incurred Amount"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:yt(a)+" "+bt(a.Incurred)})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Disbursed Amount"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:yt(a)+" "+bt(a.disbursed_amount)})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Paid By"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:a.Payee})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Status"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:null==a.Payment||""==a.Payment?a.Approval:a.Payment})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Receipt(s)"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5 ellipsis",children:(0,E.jsx)("a",{className:"linkSty",onClick:function(e){return i(a.document_id,a.svn_revision,a.file_name)},title:a.file_name,children:a.file_name})})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Approval Workflow"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:a.approvalFlow.split(",").join(" >> ").slice(0,-4)})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("strong",{children:"Expense History"})}),(0,E.jsx)("div",{className:"col-1",children:":"})]})]})})}),(0,E.jsx)("div",{style:{backgroundColor:"#eee",border:"1px solid #ddd",minHeight:"40px",maxHeight:"100px",padding:"5px 7px",overflowY:"auto"},className:"row h-50",children:me.filter((function(e){return"Drafted"!=e.state})).map((function(e){return(0,E.jsxs)("div",{children:[(0,E.jsxs)("strong",{children:[e.state," by ",e.firstName," ",e.lastName," on"," ",f()(e.dateCreated).format("DD-MMM-YYYY")]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{className:"col-12 row",children:[(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("span",{children:"Disbursed Amount"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:yt(a)+" "+bt(e.disbursedAmount)})]}),(0,E.jsxs)("div",{className:"col-6 row",children:[(0,E.jsx)("div",{className:"col-6",children:(0,E.jsx)("span",{children:"Comment"})}),(0,E.jsx)("div",{className:"col-1",children:":"}),(0,E.jsx)("div",{className:"col-5",children:""==e.comments||null==e.comments?"NA":e.comments})]})]})]})}))})]}),(0,E.jsx)(g.Ym,{children:(0,E.jsx)("button",{className:"btn btn-outline-secondary mx-auto",onClick:function(){return n(!1)},children:"Close"})})]})})}var Mt=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)?(0,E.jsx)("input",{type:"checkbox",id:"billable",defaultChecked:e.is_billable,onChange:function(t){return Qt(t,e)}}):0==e.is_billable?"No":"Yes"},Ft=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)?(0,E.jsx)("input",{type:"text",id:"disbursed",defaultValue:e.disbursed_amount,onChange:function(t){return Qt(t,e)},onKeyDown:function(e){var t=e.key;/^[0-9]$/.test(t)||"."===t||"Backspace"===t||e.preventDefault()}}):(0,E.jsx)("div",{title:yt(e)+" "+bt(e.disbursed_amount),children:yt(e)+" "+bt(e.disbursed_amount)})},Ut=function(e){return ee.map((function(e){return e.expense_id})).includes(e.expense_id)?(0,E.jsx)("input",{type:"text",id:"client",defaultValue:e.client_amount,onChange:function(t){return Qt(t,e)},onKeyDown:function(e){var t=e.key;/^[0-9]$/.test(t)||"."===t||"Backspace"===t||e.preventDefault()}}):(0,E.jsx)("div",{title:yt(e)+" "+bt(e.client_amount),children:yt(e)+" "+bt(e.client_amount)})};(0,o.useEffect)((function(){ye((function(e){return ee}))}),[ee]);var Qt=function(e,t){var n=be.findIndex((function(e){return e.expense_id===t.expense_id})),s=(0,a.Z)(be);s[n]=(0,l.Z)((0,l.Z)({},s[n]),{},{disbursed_amount:"disbursed"===e.target.id?e.target.value:s[n].disbursed_amount,client_amount:"client"===e.target.id?e.target.value:s[n].client_amount,comments:"comment"===e.target.id?e.target.value:s[n].comments,is_billable:"billable"===e.target.id?e.target.value:s[n].is_billable,Payment:"dropDown"===e.target.id?e.target.value:s[n].Payment}),ye(s)},Lt=function(e){m().get($e+"/timeandexpensesms/expensesSearch/paymentStatus?statusId=".concat(e)).then((function(e){Xe(e.data),Te(Object.keys(e.data[0])[0])})).catch((function(e){return console.log(e)}))},Jt=function(e){return!e.isEdit};return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{style:{overflowX:"hidden"},children:[Oe?(0,E.jsx)("div",{className:"statusMsg success",children:(0,E.jsxs)("span",{children:[(0,E.jsx)(S.hXj,{}),"Expense(s) Saved successfully"]})}):"",(0,E.jsxs)("div",{className:"col-md-12",children:[(0,E.jsxs)("div",{className:"pageTitle",children:[(0,E.jsx)("div",{className:"childOne"}),(0,E.jsx)("div",{className:"childTwo",children:(0,E.jsxs)("h2",{children:["Expense Report of ",tt]})}),(0,E.jsx)("div",{className:"childThree"})]}),(0,E.jsx)("div",{className:"float-end my-2",children:(0,E.jsx)("button",{type:"button",className:"btn btn-primary",title:"View",onClick:function(){ct("/search/userExpenseHistory",{state:{btnState:"Search"}}),ot((0,C.B3)("Search")),nt(!0)},children:"Classic View"})})]}),q?(0,E.jsx)(v.Z,{handleAbort:function(){return W(!1)}}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"w-100 mt-5 ml-4",children:[(0,E.jsx)("div",{className:"col-md-12 childTwo",style:{border:"1px solid #ECF0F1",marginTop:"50px",backgroundColor:"#e9ecef"},children:(0,E.jsx)("h6",{style:{color:"#02277f",marginLeft:"10px",marginTop:"2px"},children:"My Approval Requests"})}),(0,E.jsxs)(c.w,{value:u,className:"primeReactDataTable darkHeader",showGridlines:!0,stripedRows:!0,expandedRows:J,onRowToggle:function(e){return O(e.data)},onRowExpand:function(e){var t=e.data.projectCode;z(!1),m().get($e+"/customersms/Customers/getProjectCode?cid="+encodeURIComponent(t)).then((function(t){m().get($e+"/ProjectMS/projectExpenses/stackExpenses?stackId=".concat(e.data.stackId,"&userId=").concat(et,"&raisedBy=").concat(e.data.raised_by,"&projectId=").concat(t.data.id,"&statusId=").concat(e.data.status_id)).then((function(t){u.find((function(t){return t.stackId===e.data.stackId})).subrows=t.data,z(!1)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},rowExpansionTemplate:function(e){return(0,E.jsxs)(E.Fragment,{children:[V?(0,E.jsx)(v.Z,{handleAbort:function(){return z(!1)}}):"",(0,E.jsxs)(c.w,{value:e.subrows,className:"primeReactDataTable",stripedRows:!0,children:[(0,E.jsx)(d.s,{style:{textAlign:"center"},header:function(t,n){return a=null===e||void 0===e?void 0:e.subrows,(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"form-check pl-4",children:(0,E.jsx)("input",{className:"form-check-input",type:"checkbox",id:a.filter((function(e){return e.isEdit})).map((function(e){return e.id})).toString(),style:{height:"20px",width:"20px"},checked:be.filter((function(e){var t;return e.id===(null===(t=a[0])||void 0===t?void 0:t.id)})).filter((function(e){return 1==e.isEdit})).length===a.filter((function(e){return 1==e.isEdit})).length&&0!==a.filter((function(e){return 1==e.isEdit})).length,onChange:function(e){var t=e.target.checked;Qe(t);var n=e.target.id;if(t){var l=a.filter((function(e){return e.isEdit})),s=Tt;if(0!=l.length)for(var r=0;r<l.length;r++)l[r].Payment=Object.keys(l[r].drop_down[0])[0],s.push(l[r]),Rt(s);var i=s.map((function(e){return""+e.id}));if(ze>0)if(n.includes(","))for(var o=n.split(","),c=0;c<o.length;c++)document.getElementById(o[c]).checked=i.includes(""+o[c]);else document.getElementById(n).checked=i.includes(""+n);te((function(){return Tt}))}else{var d=ee.filter((function(e){return!a.includes(e)}));Rt(d),te((function(){return d}))}Ge((function(e){return e+1}))},disabled:a.every(Jt)})})});var a},body:function(e,t){return kt(e,t)}}),(0,E.jsx)(d.s,{sortable:!0,field:"",header:"Name",body:function(t){return(0,E.jsx)("div",{title:e.stackId===t.id?"".concat(e.projectName):"",className:"ellipsis",children:e.stackId===t.id?"".concat(e.projectName):""})}}),(0,E.jsx)(d.s,{sortable:!0,field:"expense_date",header:"Date",body:function(e){return(0,E.jsx)("div",{title:f()(e.expense_date).format("DD-MMM-yyyy"),className:"ellipsis",children:f()(e.expense_date).format("DD-MMM-yyyy")})}}),(0,E.jsx)(d.s,{sortable:!0,field:"Payee",header:"Payee",body:function(e){return(0,E.jsx)("div",{title:e.Payee,className:"ellipsis",children:e.Payee})}}),(0,E.jsx)(d.s,{sortable:!0,field:"Expense_Type",header:"Expense Type",body:function(e){return(0,E.jsx)("div",{title:e.Expense_Type,className:"ellipsis",children:e.Expense_Type})}}),(0,E.jsx)(d.s,{sortable:!0,field:"is_billable",style:{textAlign:"center"},header:"Billable",body:Mt}),(0,E.jsx)(d.s,{sortable:!0,field:"Incurred",style:{textAlign:"right"},header:"Incurred",body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.Incurred),children:yt(e)+" "+bt(e.Incurred)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"disbursed_amount",header:"Disbursed",style:{textAlign:"right"},body:Ft}),(0,E.jsx)(d.s,{sortable:!0,field:"client_amount",header:"Client",style:{textAlign:"right"},body:Ut}),(0,E.jsx)(d.s,{sortable:!0,field:"Approval",header:"Approval",body:wt}),(0,E.jsx)(d.s,{sortable:!0,field:"Payment",header:"Payment",body:Dt}),(0,E.jsx)(d.s,{sortable:!0,field:"comments",header:"Comments",body:_t}),(0,E.jsx)(d.s,{field:"",header:"Details",body:Nt})]}),(0,E.jsxs)("div",{style:{display:"flex",border:"1px solid #ECF0F1"},children:[(0,E.jsx)("button",{className:"btn btn-primary ms-1 p-1","data-toggle":"tooltip",title:"Save row",disabled:0===be.filter((function(t){return t.id===e.stackId})).length,onClick:function(){return function(e){var t=be.filter((function(t){return t.id===e.stackId})).map((function(e){return{expenseId:e.expense_id,isBillable:0==e.is_billable?0:1,disbursedAmount:parseFloat(e.disbursed_amount),clientAmmount:parseFloat(e.client_amount),payment:parseInt(e.Payment),comments:e.comments,resId:F,stackId:e.id}}));m().post($e+"/ProjectMS/projectExpenses/saveExpenses",t,{headers:{"Content-Type":"application/json"}}).then((function(e){Ye(!0),setTimeout((function(){Ye(!1)}),3e3),pt(),ft(),vt(),te([])})).catch((function(e){return console.log(e)}))}(e)},children:(0,E.jsx)(y.TvB,{})}),(0,E.jsx)("button",{className:"btn btn-primary ms-1 p-1 cancel","data-toggle":"tooltip",title:"Cancel row editing",disabled:0===be.filter((function(t){return t.id===e.stackId})).length,onClick:function(){return function(e){var t=ee.filter((function(t){return t.id!==e.stackId}));te(t),Rt(t)}(e)},children:(0,E.jsx)(b.KZq,{size:"1em"})})]})]})},paginator:!0,rows:10,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],children:[(0,E.jsx)(d.s,{expander:function(e){return!0},style:{width:"5rem"}}),(0,E.jsx)(d.s,{sortable:!0,field:"stackName",header:"Stack",body:function(e){return(0,E.jsx)("div",{title:e.stackName,children:(0,E.jsx)("span",{className:"linkSty",onClick:function(){ct("/expense/Create/".concat(e.stackId)),window.location.reload(),ot((0,C.B3)("Create"))},children:e.stackName})})}}),(0,E.jsx)(d.s,{sortable:!0,field:"resource",header:"Resource",body:function(e){return(0,E.jsx)("div",{title:e.resource,className:"ellipsis",children:e.resource})}}),(0,E.jsx)(d.s,{sortable:!0,field:"approval",header:"Approval Status",body:function(e){return we.stackId!==e.stackId||mt.includes(parseInt(et))?(0,E.jsx)("div",{title:e.approval,children:e.approval}):(0,E.jsx)("div",{children:(0,E.jsx)("select",{onChange:function(e){return Te(e.target.value)},children:null===We||void 0===We?void 0:We.map((function(e){var t=Object.keys(e)[0],n=e[t];return(0,E.jsx)("option",{value:t,children:n},t)}))})})}}),(0,E.jsx)(d.s,{sortable:!0,field:"payment",header:"Payment Status",body:function(e){return we.stackId===e.stackId&&mt.includes(parseInt(et))?(0,E.jsx)("div",{children:(0,E.jsx)("select",{onChange:function(e){return Te(e.target.value)},children:null===We||void 0===We?void 0:We.map((function(e){var t=Object.keys(e)[0],n=e[t];return(0,E.jsx)("option",{value:t,children:n},t)}))})}):e.payment}}),(0,E.jsx)(d.s,{sortable:!0,field:"projectCode",header:"Code",body:function(e){return(0,E.jsx)("div",{title:e.projectCode,className:"ellipsis",children:e.projectCode})}}),(0,E.jsx)(d.s,{sortable:!0,field:"projectName",header:"Name",body:function(e){return(0,E.jsx)("div",{title:e.projectName,className:"ellipsis",children:e.projectName})}}),(0,E.jsx)(d.s,{sortable:!0,field:"amt",header:"Incurred",style:{textAlign:"right"},body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.amt),children:yt(e)+" "+bt(e.amt)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"disbursedAmt",header:"Disbursed",style:{textAlign:"right"},body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.disbursedAmt),children:yt(e)+" "+bt(e.disbursedAmt)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"clientAmt",header:"Client",style:{textAlign:"right"},body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.clientAmt),children:yt(e)+" "+bt(e.clientAmt)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"createdOn",header:"Created On",body:function(e){return(0,E.jsx)("div",{title:f()(e.createdOn).format("DD-MMM-yyyy"),children:f()(e.createdOn).format("DD-MMM-yyyy")})}}),(0,E.jsx)(d.s,{field:"",header:"Actions",style:{textAlign:"center",width:"6rem"},body:function(e){var t;return console.log("first",null===(t=u.find((function(t){return t.stackId==e.stackId})))||void 0===t?void 0:t.isEdit),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.DWq,{size:"1.8em",style:{color:"#428bca",marginRight:"4px",marginLeft:"-15px",cursor:"pointer"},onClick:function(){return function(e){var t=document.createElement("a");t.href=$e+"/ProjectMS/projectExpenses/downloadStack?stackId=".concat(e),t.download="Expense.pdf",t.click()}(e.stackId)}}),mt.includes(parseInt(et))&&("PM Approved"===e.approval||"Approved to pay"===e.approval)||!mt.includes(parseInt(et))&&!e.subrows.length>0&&"Submitted"===e.approval?(0,E.jsx)(N.QML,{size:"1.5em",style:{cursor:"pointer",marginRight:"-15px"},color:"orange",onClick:function(t){Lt(e.status_id),Ce(!1),De(e),Te(Object.keys(e.dropDown[0])[0])}}):""]})}})]}),(0,E.jsxs)("div",{style:{display:"flex",border:"1px solid #ECF0F1"},children:[(0,E.jsx)("button",{className:"btn btn-primary ms-1 p-1","data-toggle":"tooltip",title:"Save row",onClick:function(){var e={stackId:we.stackId,newStatusId:parseInt(Pe)};m().post($e+"/ProjectMS/projectExpenses/saveStackExpenses",e,{headers:{"Content-Type":"application/json"}}).then((function(e){Ye(!0),setTimeout((function(){Ye(!1)}),3e3),De({}),pt(),ft(),vt()})).catch((function(e){return console.log(e)}))},disabled:Ae,children:(0,E.jsx)(y.TvB,{})}),(0,E.jsx)("button",{className:"btn btn-primary ms-1 p-1","data-toggle":"tooltip",title:"Cancel row editing",onClick:function(){Ce(!0),De({})},disabled:Ae,children:(0,E.jsx)(b.KZq,{size:"1em"})})]})]}),(0,E.jsxs)("div",{className:"w-100 mt-5 ml-4",children:[(0,E.jsx)("div",{className:"col-md-12 childTwo",style:{border:"1px solid #ECF0F1",marginTop:"50px",backgroundColor:"#e9ecef"},children:(0,E.jsx)("h6",{style:{color:"#02277f",marginLeft:"10px",marginTop:"2px"},children:"My Requests"})}),(0,E.jsxs)(c.w,{value:gt,className:"primeReactDataTable darkHeader",showGridlines:!0,stripedRows:!0,paginator:!0,rows:10,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],children:[(0,E.jsx)(d.s,{field:"serial",style:{width:"50px",textAlign:"center"},header:"S.No"}),(0,E.jsx)(d.s,{sortable:!0,field:"stackName",header:"Expense #",body:function(e){return(0,E.jsx)("div",{title:e.stackName,children:(0,E.jsx)("span",{className:"linkSty",onClick:function(){ct("/expense/Create/".concat(e.stackId)),window.location.reload(),ot((0,C.B3)("Create"))},children:e.stackName})})}}),(0,E.jsx)(d.s,{sortable:!0,field:"projectName",header:"Project",body:function(e){return(0,E.jsx)("div",{title:e.projectName,className:"ellipsis",children:e.projectName})}}),(0,E.jsx)(d.s,{sortable:!0,field:"maxDt",header:"Dates",body:jt}),(0,E.jsx)(d.s,{sortable:!0,field:"dateCreated",header:"Saved On",body:function(e){return(0,E.jsx)("div",{title:f()(e.dateCreated).format("DD-MMM-yyyy"),children:f()(e.dateCreated).format("DD-MMM-yyyy")})}}),(0,E.jsx)(d.s,{sortable:!0,field:"amount",style:{textAlign:"right"},header:"Due Amount",body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.amount),children:yt(e)+" "+bt(e.amount)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"stackStatus",header:"Status",body:function(e){return(0,E.jsx)("div",{title:e.stackStatus,children:e.stackStatus})}})]})]}),(0,E.jsxs)("div",{className:"w-100 mt-5 ml-4",children:[(0,E.jsx)("div",{className:"col-md-12 childTwo",style:{border:"1px solid #ECF0F1",marginTop:"50px",backgroundColor:"#e9ecef"},children:(0,E.jsx)("h6",{style:{color:"#02277f",marginLeft:"10px",marginTop:"2px"},children:"Team Requests"})}),(0,E.jsxs)(c.w,{value:xt,className:"primeReactDataTable darkHeader",showGridlines:!0,stripedRows:!0,paginator:!0,rows:10,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],children:[(0,E.jsx)(d.s,{field:"serial",style:{width:"50px",textAlign:"center"},header:"S.No"}),(0,E.jsx)(d.s,{sortable:!0,field:"stackName",header:"Expense #",body:function(e){return(0,E.jsx)("div",{title:e.stackName,children:(0,E.jsx)("span",{className:"linkSty",onClick:function(){ct("/expense/Create/".concat(e.stackId)),window.location.reload(),ot((0,C.B3)("Create"))},children:e.stackName})})}}),(0,E.jsx)(d.s,{sortable:!0,field:"projectName",header:"Project",body:function(e){return(0,E.jsx)("div",{title:e.projectName,className:"ellipsis",children:e.projectName})}}),(0,E.jsx)(d.s,{sortable:!0,field:"resource",header:"Created By",body:function(e){return(0,E.jsx)("div",{title:e.resource,className:"ellipsis",children:e.resource})}}),(0,E.jsx)(d.s,{sortable:!0,field:"maxDt",header:"Dates",body:jt}),(0,E.jsx)(d.s,{sortable:!0,field:"createdOn",header:"Saved On",body:function(e){return(0,E.jsx)("div",{title:f()(e.createdOn).format("DD-MMM-yyyy"),children:f()(e.createdOn).format("DD-MMM-yyyy")})}}),(0,E.jsx)(d.s,{sortable:!0,field:"amount",header:"Due Amount",style:{textAlign:"right"},body:function(e){return(0,E.jsx)("div",{title:yt(e)+" "+bt(e.amount),children:yt(e)+" "+bt(e.amount)})}}),(0,E.jsx)(d.s,{sortable:!0,field:"approval",header:"Status",body:function(e){return(0,E.jsx)("div",{title:e.approval,children:e.approval})}})]})]})]}),le?(0,E.jsx)(Bt,{setPopUp:se,data:oe,popUp:le,totalData:u}):"",st&&(0,E.jsx)(A.Z,{handleClose:it,anchorEl:st,rowData:Zt})]})})}},73220:function(e,t){t.Z=function(e){for(var t=e.current,n=[],a=function(e,t){var a;console.log("in line 7---"),console.log(e),console.log(t),t="",null!==(a=e.classList)&&void 0!==a&&a.contains("error-block")&&(e.classList.remove("error-block"),n.push(!0))},l=0;l<t.length;l++){console.log(t[l]);var s=t[l].classList,r=null;if(null!==s&&void 0!==s&&s.contains("text"))a(r=t[l],r.value);else if(s.contains("datepicker")){var i=t[l].children[0].children[0];a(i,i.children[0].value)}else if(s.contains("multiselect")){var o=t[l].children[0].children[0].children[0];a(o,o.children[0].children[0].classList.contains("gray")?"":"present")}else if(s.contains("textfield")){var c=t[l].children[0];console.log(c),a(c,c.value)}else if(s.contains("reactsearchautocomplete")){var d=t[l].children[0].children[0],u=d.children[0].children[0].value;console.log(d),console.log(u),a(d,u)}else if(s.contains("autocomplete")){var m=t[l].children[0].children[0].children[0];a(m,m.children[0].children[0].value)}else if(s.contains("reactautocomplete")){var h=t[l].children[0].children[0].children[0].children[0];console.log(h);var p=h.children[0].children[0].value;console.log(p),a(h,p)}}return n.includes(!0)}},32125:function(e,t){t.Z=function(e){for(var t=e.current,n=[],a=function(e,t){var a,l;""==t?(null===e||void 0===e||null===(a=e.classList)||void 0===a||a.add("error-block"),null===n||void 0===n||n.push(!0)):(null===e||void 0===e||null===(l=e.classList)||void 0===l||l.remove("error-block"),null===n||void 0===n||n.push(!1))},l=0;l<t.length;l++){var s,r=null===(s=t[l])||void 0===s?void 0:s.classList,i=null;if(null!==r&&void 0!==r&&r.contains("text"))a(i=t[l],i.value);else if(null!==r&&void 0!==r&&r.contains("datepicker")){var o,c=t[l].children[0].children[0];a(c,null===(o=c.children[0])||void 0===o?void 0:o.value)}else if(null!==r&&void 0!==r&&r.contains("multiselect")){var d=t[l].children[0].children[0].children[0];a(d,d.children[0].children[0].classList.contains("gray")?"":"present")}else if(null!==r&&void 0!==r&&r.contains("textfield")){var u,m=null===(u=t[l])||void 0===u?void 0:u.children[0];a(m,null===m||void 0===m?void 0:m.value)}else if(null!==r&&void 0!==r&&r.contains("autocomplete")){var h=t[l].children[0].children[0].children[0];a(h,h.children[0].children[0].value)}else if(null!==r&&void 0!==r&&r.contains("reactautocomplete")){var p=t[l].children[0].children[0].children[0].children[0];a(p,p.children[0].children[0].value)}else if(null!==r&&void 0!==r&&r.contains("reactsearchautocomplete")){var f=t[l].children[0].children[0];a(f,f.children[0].children[0].value)}else if(null!==r&&void 0!==r&&r.contains("muidatepicker")){a(t[l],t[l].children[0].children[0].children[0].children[0].value)}else if(null!==r&&void 0!==r&&r.contains("primemultiselect")){t[l];var v=t[l].children[0].classList;0==v.contains("p-inputwrapper-filled")?(v.add("error-block"),n.push(!0)):(v.remove("error-block"),n.push(!1))}}return n.includes(!0)}},18083:function(e,t,n){n.d(t,{Z:function(){return c}});n(72791);var a=n(15473),l=n(65661),s=n(39157),r=(n(85339),n(49686),n(7692)),i=n(11087),o=(n(62508),n(80184));function c(e){var t=e.anchorEl,n=e.handleClose,c=e.name,d=e.LinkId,u=e.setAllocationTable,m=e.setAnchorEl,h=e.setGraphKey1,p=Boolean(t)?"my-popver":void 0;return(0,o.jsx)("div",{children:(0,o.jsx)(a.ZP,{id:p,open:Boolean(t),anchorEl:t,onClose:n,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)(l.Z,{style:{padding:"2px 8px",backgroundColor:"#ddd"},children:[(0,o.jsx)("span",{style:{fontSize:"14px"},children:c}),(0,o.jsx)("button",{style:{float:"right",marginRight:"-8px",backgroundColor:"rgb(221, 221, 221)"},className:"button1",onClick:n,children:(0,o.jsx)(r.czh,{})})]}),(0,o.jsx)(s.Z,{style:{height:"48px"},children:(0,o.jsxs)("ul",{style:{height:"10px"},children:[(0,o.jsx)(i.rU,{to:"/resource/profile/:".concat(d),target:"_blank",children:"View Resource's Profile"}),(0,o.jsx)("br",{}),(0,o.jsx)(i.rU,{onClick:function(){u(!0),m(!1),h((function(e){return e+1}))},children:"View Resource's Allocations"})]})})]})})})}},85339:function(e,t,n){var a=n(4942),l=n(1413),s=n(93433),r=n(29439),i=n(72791),o=n(34831),c=n(18083),d=(n(49686),n(74569)),u=n.n(d),m=(n(47477),n(1063)),h=n(4751),p=n(72426),f=n.n(p),v=n(84127),x=n(78820),g=n(7692),j=(n(29944),n(2248)),b=(n(8584),n(80184));t.Z=function(e){var t,n=(0,i.useState)(!1),d=(0,r.Z)(n,2),p=(d[0],d[1],(0,i.useState)(null)),y=(0,r.Z)(p,2),N=y[0],S=y[1],A=(0,i.useState)(""),C=(0,r.Z)(A,2),Z=C[0],E=C[1],w=(0,i.useState)([]),D=(0,r.Z)(w,2),k=(D[0],D[1]),I=(0,i.useState)([]),P=(0,r.Z)(I,2),T=P[0],R=P[1],_=e.bodyDataa,B=e.flag,M=e.vendorId,F=e.tableTitle,U=e.colorFilterR,Q=(0,i.useState)([]),L=(0,r.Z)(Q,2),J=L[0],O=L[1];console.log(_);var Y=(0,i.useState)([]),H=(0,r.Z)(Y,2),V=H[0],z=H[1],G=(0,i.useState)([]),K=(0,r.Z)(G,2),q=(K[0],K[1]),W=(0,i.useState)([]),X=(0,r.Z)(W,2),$=X[0],ee=X[1],te=(0,i.useState)([]),ne=(0,r.Z)(te,2),ae=ne[0],le=ne[1],se=(0,i.useState)(),re=(0,r.Z)(se,2),ie=re[0],oe=re[1],ce=(0,i.useState)(!1),de=(0,r.Z)(ce,2),ue=de[0],me=de[1],he=(0,i.useRef)(null),pe=(0,i.useState)(0),fe=(0,r.Z)(pe,2),ve=fe[0],xe=fe[1],ge=(0,i.useState)([]),je=(0,r.Z)(ge,2),be=je[0],ye=je[1],Ne=(0,i.useState)(""),Se=(0,r.Z)(Ne,2),Ae=Se[0],Ce=Se[1];(0,i.useEffect)((function(){ve&&he.current&&he.current.scrollIntoView({behavior:"instant"})}),[ve]);var Ze=new Date;console.log($);var Ee=Ze.getFullYear(),we=Ze.getMonth(),De=Ze.getDate(),ke=new Date(Ee,we,De-7);console.log(_);var Ie=f()(Ze).format("yyyy-MM-DD"),Pe={buIds:"-1",country:"-1",fromDate:f()(ke).format("yyyy-MM-DD"),toDate:Ie,lkKey:"total_hc",skillId:"0",isExport:"0",vendorId:M,page:"",custId:"0",projId:"0",buId:"0"};(0,i.useRef)(null),console.log(T,"line mo--------------------107"),console.log(be,"colors22>>");var Te=1==B?U[0]:be[0],Re=1==B?U[1]:be[1],_e=1==B?U[2]:be[2];console.log(Te,Re,_e,"1st 2nd third color");var Be=(0,b.jsxs)("div",{className:"legend red",children:[(0,b.jsx)("div",{className:"legendCircle "}),(0,b.jsx)("div",{className:"legendTxt",children:"Alloc End Date > Contract End Dt "})]});console.log(Be,"table1");var Me=(0,b.jsxs)("div",{className:"legend green",children:[(0,b.jsx)("div",{className:"legendCircle"}),(0,b.jsx)("div",{className:"legendTxt",children:" Alloc End Date = Contract End Dt "})]}),Fe=(0,b.jsxs)("div",{className:"legend amber",children:[(0,b.jsx)("div",{className:"legendCircle"}),(0,b.jsx)("div",{className:"legendTxt",children:" Alloc End Date < Contract End Dt "})]});console.log(Te,"red");var Ue=(0,b.jsx)("div",{className:"row",children:(0,b.jsxs)("div",{className:"legendContainer",children:["#da4832"==Te?Be:"#3dbb49"==Te?Me:"#FF0"==Te?Fe:"","#da4832"==Re?Be:"#3dbb49"==Re?Me:"#FF0"==Re?Fe:"","#da4832"===_e?Be:"#3dbb49"==_e?Me:"#FF0"==_e?Fe:""]})});console.log(Ue,"tablesahid>>");var Qe=[{employee_number:"Emp ID",resource_name:"Name",start_date:"DOJ",department:"Dept",supervisor:"Supervisor",skills:"Skill",projects:"Projects",bill_allocs:"Billable Allocs",bill_rate:"Bill Rate",pay_rate:"Pay Rate",gm_perc:"GM%",alloc_end_date:"Alloc End Date",contract_end_date:"Contract End Date",ad_contract_end_date:"AD Expiry Date",vendor_name:"Vendor Name",contract_type:"Contract Type",skill_type:"Skill Type"}],Le=o.N.baseUrl;(0,i.useEffect)((function(){O(["XLS"])}),[]);var Je="total_hc"==F?"Total HC Details":"contract"==F?"Contract Details":"contract_hire"==F?"Contract 2 Hire Details":"freelancer"==F?"Freelancer Details":"fixed_bid"==F?"Fixed Bid Details":"offered"==F?"Offered Details":"on_exit_path"==F?"On Exit Path Details":"conv_in_prog"==F?"Conv in Prog Details":"awaiting Conv - DP/CL Details";console.log("Table Header: ",Je),(0,i.useEffect)((function(){u()({method:"post",url:Le+"/VendorMS/management/getVendManagementResourceDtls",data:Pe}).then((function(e){var t;e=e.data,console.log(e.data,"line mo--------------------107");for(var n=[{employee_number:"Emp ID",resource_name:"Name",start_date:"DOJ",department:"Dept",supervisor:"Supervisor",skills:"Skill",projects:"Projects",bill_allocs:"Billable Allocs",bill_rate:"Bill Rate($)",pay_rate:"Pay Rate($)",gm_perc:"GM%",alloc_end_date:"Alloc End Date",contract_end_date:"Contract End Date",ad_contract_end_date:"AD Expiry Date",vendor_name:"Vendor Name",contract_type:"Contract Type",skill_type:"Skill Type"}],a=[],l=[],s=0;s<e.length;s++)0==s?a.push(e[s]):l.push(e[s]);1==B?(R(n.concat(_)),q(_),k(_)):(R(n.concat(l)),q(l),k(l)),Ce("Total HC Details:");var r,i,o="",c=0;console.log(l,"bdata"),r=null===(t=l[0].alloc_contract_date_icon)||void 0===t?void 0:t.split("~")[0],i="",console.log(r,"firstColor");for(var d=0;d<l.length;d++){var u,m=null===(u=l[d].alloc_contract_date_icon)||void 0===u?void 0:u.split("~")[0];if(r!=m&&0==c)i=m,c++;else if(r!=m&&i!=m){o=m;break}}console.log(r,i,o,"firstColor"),ye([r,i,o])})).catch((function(e){console.log(e)}))}),[M]),(0,i.useEffect)((function(){1===B&&R(Qe.concat(_))}),[_,Je]),(0,i.useEffect)((function(){!function(){var e=null;if((null===_||void 0===_?void 0:_.length)>0){e=_.map((function(e){var t;return null===(t=e.alloc_contract_date_icon)||void 0===t?void 0:t.split("~")[0]})),console.log(e);var t=(0,s.Z)(new Set(e));ee(t)}}()}),[_]);var Oe=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.department,children:e.department})},Ye=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.supervisor,children:e.supervisor})},He=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.projects,children:e.projects})},Ve=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.skills,children:e.skills})},ze=function(e){return(0,b.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.alloc_end_date,children:e.alloc_end_date})},Ge=function(e){return(0,b.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.alloc_contract_date_icon,children:e.alloc_contract_date_icon})},Ke=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.employee_number,children:e.employee_number})},qe=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_allocs,children:(0,b.jsx)("div",{className:"align right",children:e.bill_allocs})})},We=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_rate,children:(0,b.jsxs)("div",{className:"align right",children:[" ",e.bill_rate]})})},Xe=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.pay_rate,children:(0,b.jsx)("div",{className:"align right",children:e.pay_rate})})},$e=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.gm_perc,children:(0,b.jsx)("div",{className:"align right",children:e.gm_perc})})},et=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.alloc_end_date,children:e.alloc_end_date})},tt=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.vendor_name,children:e.vendor_name})},nt=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.contract_type,children:e.contract_type})},at=function(e){return(0,b.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.contract_end_date,children:e.contract_end_date})},lt=function(e){return(0,b.jsx)("div",{className:"align center",title:e.ad_contract_end_date,children:e.ad_contract_end_date})},st=function(e){return(0,b.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.start_date,children:e.start_date})},rt=function(e){return(0,b.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",title:e.skill_type,children:e.skill_type})},it=function(e){return console.log("in line 91------------"),console.log(e),(0,b.jsxs)("div",{className:"legendContainer  ellipsis",onClick:function(t){console.log(e),function(e,t){E(t)}(0,e.resource_name),oe(e.resource_id),S(t.currentTarget),me(!1)},children:[" ","#da4832~^Alloc End Date > Contract End Dt"==e.alloc_contract_date_icon?(0,b.jsxs)("div",{className:"legend red",children:[(0,b.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date > Contract End Dt"}),(0,b.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",to:h.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#3dbb49~^Alloc End Date = Contract End Dt"==e.alloc_contract_date_icon||"#3dbb49~^No Contract End Dt"==e.alloc_contract_date_icon?(0,b.jsxs)("div",{className:"legend green",to:h.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,b.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date = Contract End Dt"}),(0,b.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#FF0~^Alloc End Date < Contract End Dt"==e.alloc_contract_date_icon?(0,b.jsxs)("div",{className:"legend amber",to:h.J2,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,b.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date < Contract End Dt"}),(0,b.jsx)("div",{className:"ellipsis ","data-toggle":"popoverLink",title:e.resource_name,to:h.J2,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):""," "]})},ot=null===(t=Object.keys(V))||void 0===t?void 0:t.map((function(e,t){return(0,b.jsx)(m.s,{sortable:!0,body:"ad_contract_end_date"==e?lt:"alloc_contract_date_icon"==e?Ge:"alloc_end_date"==e?ze:"employee_number"==e?Ke:"skills"==e?Ve:"projects"==e?He:"department"==e?Oe:"supervisor"==e?Ye:"bill_allocs"==e?qe:"bill_rate"==e?We:"pay_rate"==e?Xe:"gm_perc"==e?$e:"alloc_end_date"==e?et:"vendor_name"==e?tt:"contract_type"==e?nt:"resource_name"==e?it:"start_date"==e?st:"contract_end_date"==e?at:"skill_type"==e&&rt,field:e,header:V[e]},e)})),ct=(0,i.useState)(new Date),dt=(0,r.Z)(ct,2),ut=dt[0],mt=(dt[1],new Date(ut.getFullYear(),ut.getMonth(),1)),ht=localStorage.getItem("resId");console.log(mt),(0,i.useEffect)((function(){bt()}),[ie]);var pt=f()(ut).format("yyyy-MM-DD");console.log(pt,"formattedMonth");var ft={fromDate:f()(pt).startOf("month").format("YYYY-MM-DD"),toDate:f()(pt).startOf("month").add("month",0).format("YYYY-MM-DD")},vt=(0,i.useState)(ft),xt=(0,r.Z)(vt,2),gt=xt[0],jt=xt[1],bt=function(e,t){le([]),u()({method:"post",url:Le+"/revenuemetricsms/metrics/getResourceTable",data:{Src:"project",Typ:"allocations",ObjectId:ie,FromDt:gt.toDate,AllocType:"billable",PrjSource:"-1",contTerms:"28,27,752,606,26,25,1024,612,608,609,610,611,750",engComps:"-1",cslIds:"-1",dpIds:"-1",UserId:ht}}).then((function(e){le(e.data)}))},yt=(0,i.useState)(!1),Nt=(0,r.Z)(yt,2),St=Nt[0],At=Nt[1];return(0,i.useEffect)((function(){St?bt():At(!0)}),[gt.toDate,St]),(0,b.jsxs)("div",{children:[1==B?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"font-weight-bold Vendor-sub-heading pb-0",children:Je}),(0,b.jsx)("div",{className:"mb-2",children:Ue})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"font-weight-bold Vendor-sub-heading pb-0",children:Ae}),(0,b.jsx)("div",{className:"mb-2",children:Ue})]}),(0,b.jsx)(j.Z,{data:T,rows:10,dynamicColumns:ot,headerData:V,setHeaderData:z,exportData:J,fileName:"ResourceVendorManagement"}),N&&(0,b.jsx)(c.Z,{handleClose:function(){S(!1)},anchorEl:N,name:Z,LinkId:ie,setAllocationTable:me,setAnchorEl:S,setGraphKey1:xe}),ue&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"col-md-12 mt-2",children:(0,b.jsxs)("div",{className:"collapseHeader revForcast",children:[(0,b.jsx)("div",{className:"leftSection",children:(0,b.jsx)("span",{children:Z})}),(0,b.jsx)("div",{className:"rightSection",style:{paddingLeft:"865px"},children:(0,b.jsxs)("span",{className:"ml-2 chevronContainer",ref:he,children:[(0,b.jsx)(x.euR,{cursor:"pointer",size:"2em",onClick:function(){jt((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"fromDate",f()(gt.fromDate).subtract("month",1).format("YYYY-MM-DD")))})),jt((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"toDate",f()(gt.toDate).subtract("month",1).format("YYYY-MM-DD")))}))}}),(0,b.jsx)("span",{children:f()(gt.toDate).format("MMM-YYYY")}),(0,b.jsx)(x.EnJ,{cursor:"pointer",size:"2em",onClick:function(){jt((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"fromDate",f()(gt.fromDate).add("month",1).format("YYYY-MM-DD")))})),jt((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},"toDate",f()(gt.toDate).add("month",1).format("YYYY-MM-DD")))}))}})]},ve)}),(0,b.jsx)(g.czh,{fontSize:"20px",style:{backgroundColor:"#c6c0c0",cursor:"pointer"},onClick:function(){me(!1)}})]})}),(0,b.jsx)(v.Z,{linkId:ie,data:ae,expandedCols:[],colExpandState:[]})]})]})}},29944:function(e,t,n){var a=n(29439),l=n(72791),s=n(78820),r=n(11087),i=(n(40941),n(96048),n(72426)),o=n.n(i),c=n(1063),d=(n(47477),n(83854)),u=(n(24745),n(2248)),m=n(80184);t.Z=function(e){var t,n=e.data,i=(e.SetData,e.searchapidata,e.linkColumns),h=e.linkColumnsRoutes,p=e.loaderState,f=e.handleAbort,v=(e.setButtonState,(0,l.useState)([])),x=(0,a.Z)(v,2),g=x[0],j=x[1],b=(0,l.useState)([]),y=(0,a.Z)(b,2),N=y[0],S=y[1],A=(0,l.useState)({}),C=(0,a.Z)(A,2),Z=(C[0],C[1]),E=(0,l.useState)(""),w=(0,a.Z)(E,2),D=w[0];w[1],(0,l.useEffect)((function(){S(["XLS","PDF","PRINT"]);Z({id:"filterTable",type:"select",data:{0:"All",1:"Active"},align:"right",filterTable:""})}),[]),(0,l.useEffect)((function(){console.log(D)}),[D]),(0,l.useEffect)((function(){n[0]&&j(JSON.parse(JSON.stringify(n[0])))}),[n]);var k=function(e){return(0,m.jsx)("div",{align:"center",title:e.expireDt,children:e.expireDt})},I=function(e){return(0,m.jsx)("div",{className:"ellipsis",children:"N/A"===e.website||"na"===e.website||"n/a"===e.website?(0,m.jsx)("span",{children:e.website}):(0,m.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",title:e.website,children:(0,m.jsx)("span",{children:e.website})})})},P=function(e){return(0,m.jsx)("div",{align:"center",title:"Invalid date"==o()(e.nxtRvwDt).format("DD-MMM-yyyy")?"-":o()(e.nxtRvwDt).format("DD-MMM-yyyy"),children:"Invalid date"==o()(e.nxtRvwDt).format("DD-MMM-yyyy")?"-":o()(e.nxtRvwDt).format("DD-MMM-yyyy")})},T=function(e){return(0,m.jsx)("div",{align:"center",title:e.signedDt,children:e.signedDt})},R=function(e){return(0,m.jsx)("div",{align:"right",title:e.phone,children:e.phone})},_=function(e){return(0,m.jsx)("div",{className:"ellipsis",title:e.vendorId,children:e.vendorId})},B=function(e){return(0,m.jsx)("div",{className:"ellipsis",title:e.contactName,children:e.contactName})},M=function(e){return(0,m.jsx)("div",{className:"ellipsis",title:e.email,children:e.email})},F=function(e){return(0,m.jsx)("div",{className:"ellipsis",style:{textAlign:"NA"==e.contryName?"center":""},title:e.contryName,children:e.contryName})},U=function(e){var t,n=null===(t=h[0])||void 0===t?void 0:t.split(":");return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.rU,{target:"_blank",to:n[0]+":"+e[n[1]],"data-toggle":"tooltip",title:e.vendor_name,children:e[i[0]]})})},Q=function(e){var t,n=null===(t=h[1])||void 0===t?void 0:t.split(":");return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{align:"center",children:(0,m.jsxs)(r.rU,{target:"_blank",to:n[0]+":"+e[n[1]],ele:"reviews",children:[(0,m.jsx)(s.Ehc,{size:"14px","data-toggle":"tooltip",title:"Reviews",style:{align:"center"}}),e[h[1]]]})})})},L=null===(t=Object.keys(g))||void 0===t?void 0:t.map((function(e,t){return(0,m.jsx)(c.s,{body:"phone"==e?R:"vendor_name"==e?U:"Action"==e?Q:"nxtRvwDt"==e?P:"website"==e?I:"signedDt"==e?T:"vendorId"==e?_:"contactName"==e?B:"email"==e?M:"contryName"==e?F:"expireDt"==e&&k,field:e,header:g[e]},e)}));return(0,m.jsxs)("div",{children:[p?(0,m.jsx)(d.Z,{handleAbort:f}):"",(0,m.jsx)("div",{className:"group mb-3 customCard",children:(0,m.jsx)(u.Z,{data:n,linkColumns:i,linkColumnsRoutes:h,dynamicColumns:L,headerData:g,setHeaderData:j,exportData:N,rows:10,fileName:"Vendor Search"})})]})}},80479:function(e,t,n){var a=n(29439),l=n(72791),s=n(14427),r=n(80184);t.Z=function(e){var t=e.performanceData,n=e.formData;console.log(t,"performanceData");var i=(0,l.useState)([]),o=(0,a.Z)(i,2),c=o[0],d=o[1];(0,l.useEffect)((function(){d(["XLS"])}),[t]);var u=0,m=null===t||void 0===t?void 0:t.tableData;if(m)for(var h=0;h<(null===m||void 0===m?void 0:m.length);h++)1==m[h].lvl&&u++;return(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{data:t,expandedCols:["supervisor","emp_cadre"],colExpandState:["0","0","name"],rFormData:n,exportData:c,countNw:u})})}},14427:function(e,t,n){n.d(t,{Z:function(){return R}});var a=n(93433),l=n(1413),s=n(4942),r=n(29439),i=n(72791),o=n(11683),c=n(13400),d=n(74569),u=n.n(d),m=n(49177),h=n(34911),p=n(56637),f=n(53824),v=n(48462),x=n(59170),g=n(78820),j=(n(78983),n(34831)),b=n(18083),y=(n(49686),n(47477),n(1063)),N=n(4751),S=n(72426),A=n.n(S),C=n(84127),Z=n(7692),E=(n(29944),n(2248)),w=n(80184);var D=function(e){var t,n=(0,i.useState)(!1),a=(0,r.Z)(n,2),o=(a[0],a[1],(0,i.useState)(null)),c=(0,r.Z)(o,2),d=c[0],m=c[1],h=(0,i.useState)(""),p=(0,r.Z)(h,2),f=p[0],v=p[1],x=(0,i.useState)([]),S=(0,r.Z)(x,2),D=(S[0],S[1]),k=(0,i.useState)([]),I=(0,r.Z)(k,2),P=(I[0],I[1],e.resourceData),T=e.colorFilter,R=(0,i.useState)([]),_=(0,r.Z)(R,2),B=_[0],M=_[1],F=(0,i.useState)([]),U=(0,r.Z)(F,2),Q=U[0],L=U[1],J=(0,i.useState)([]),O=(0,r.Z)(J,2),Y=(O[0],O[1],(0,i.useState)([])),H=(0,r.Z)(Y,2),V=H[0],z=(H[1],(0,i.useState)([])),G=(0,r.Z)(z,2),K=G[0],q=G[1],W=(0,i.useState)(),X=(0,r.Z)(W,2),$=X[0],ee=X[1],te=(0,i.useState)(!1),ne=(0,r.Z)(te,2),ae=ne[0],le=ne[1],se=(0,i.useRef)(null),re=(0,i.useState)(0),ie=(0,r.Z)(re,2),oe=ie[0],ce=ie[1];console.log(P),console.log(V);for(var de=[],ue=[],me=0;me<P.length;me++)0==me?de.push(P[me]):ue.push(P[me]);var he=T[0],pe=T[1],fe=T[2];(0,i.useEffect)((function(){oe&&se.current&&se.current.scrollIntoView({behavior:"instant"})}),[oe]);var ve=j.N.baseUrl;(0,i.useEffect)((function(){P[0]&&L(JSON.parse(JSON.stringify(P[0])));M(["XLS"]),D(ue)}),[P]);var xe=(0,w.jsxs)("div",{className:"legend red",children:[(0,w.jsx)("div",{className:"legendCircle "}),(0,w.jsxs)("div",{className:"legendTxt",children:["Alloc End Date > Contract End Dt"," "]})]}),ge=(0,w.jsxs)("div",{className:"legend green",children:[(0,w.jsx)("div",{className:"legendCircle"}),(0,w.jsxs)("div",{className:"legendTxt",children:[" ","Alloc End Date = Contract End Dt"," "]})]}),je=(0,w.jsxs)("div",{className:"legend amber",children:[(0,w.jsx)("div",{className:"legendCircle"}),(0,w.jsxs)("div",{className:"legendTxt",children:[" ","Alloc End Date < Contract End Dt"," "]})]}),be=(0,w.jsx)("div",{className:"row",children:(0,w.jsxs)("div",{className:"legendContainer",children:["#da4832"==he?xe:"#3dbb49"==he?ge:"#FF0"==he?je:"","#da4832"==pe?xe:"#3dbb49"==pe?ge:"#FF0"==pe?je:"","#da4832"===fe?xe:"#3dbb49"==fe?ge:"#FF0"==fe?je:""]})}),ye=function(e){return(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.department,children:e.department})},Ne=function(e){return(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.supervisor,children:e.supervisor})},Se=function(e){return(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.projects,children:e.projects})},Ae=function(e){return(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.skills,children:e.skills})},Ce=function(e){return(0,w.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",children:e.alloc_end_date})},Ze=function(e){return(0,w.jsx)("div",{className:"align center ellipsis","data-toggle":"tooltip",children:e.alloc_contract_date_icon})},Ee=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.employee_number,children:e.employee_number})},we=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_allocs,children:(0,w.jsx)("div",{className:"align right",children:e.bill_allocs})})},De=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.bill_rate,children:e.bill_rate})},ke=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.pay_rate,children:(0,w.jsx)("div",{className:"align right",children:e.pay_rate})})},Ie=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.gm_perc,children:(0,w.jsx)("div",{className:"align right",children:e.gm_perc})})},Pe=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.alloc_end_date,children:e.alloc_end_date})},Te=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.vendor_name,children:e.vendor_name})},Re=function(e){return(0,w.jsx)("div",{className:" ellipsis","data-toggle":"tooltip",title:e.contract_type,children:e.contract_type})},_e=function(e){return(0,w.jsx)("div",{className:"align center",children:e.ad_contract_end_date})},Be=function(e){return(0,w.jsxs)("div",{className:"legendContainer  ellipsis",onClick:function(t){!function(e,t){v(t)}(0,e.resource_name),ee(e.resource_id),m(t.currentTarget),le(!1)},children:[" ","#da4832~^Alloc End Date > Contract End Dt"==e.alloc_contract_date_icon?(0,w.jsxs)("div",{className:"legend red",children:[(0,w.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date > Contract End Dt"}),(0,w.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",to:N.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#3dbb49~^Alloc End Date = Contract End Dt"==e.alloc_contract_date_icon||"#3dbb49~^No Contract End Dt"==e.alloc_contract_date_icon?(0,w.jsxs)("div",{className:"legend green",to:N.J2,title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,w.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date = Contract End Dt"}),(0,w.jsx)("div",{className:"ellipsis","data-toggle":"popoverLink",title:e.resource_name,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):"#FF0~^Alloc End Date < Contract End Dt"==e.alloc_contract_date_icon?(0,w.jsxs)("div",{className:"legend amber",to:N.J2,style:{color:"#15a7ea",cursor:"pointer"},children:[(0,w.jsx)("div",{className:"legendCircle ","data-toggle":"tooltip",title:"Alloc End Date < Contract End Dt"}),(0,w.jsx)("div",{className:"ellipsis ","data-toggle":"popoverLink",title:e.resource_name,to:N.J2,style:{color:"#15a7ea",cursor:"pointer"},children:e.resource_name})]}):""," "]})},Me=null===(t=Object.keys(Q))||void 0===t?void 0:t.map((function(e,t){return(0,w.jsx)(y.s,{sortable:!0,body:"ad_contract_end_date"==e?_e:"alloc_contract_date_icon"==e?Ze:"alloc_end_date"==e?Ce:"employee_number"==e?Ee:"skills"==e?Ae:"projects"==e?Se:"department"==e?ye:"supervisor"==e?Ne:"bill_allocs"==e?we:"bill_rate"==e?De:"pay_rate"==e?ke:"gm_perc"==e?Ie:"alloc_end_date"==e?Pe:"vendor_name"==e?Te:"contract_type"==e?Re:"resource_name"==e&&Be,field:e,header:Q[e]},e)})),Fe=(0,i.useState)(new Date),Ue=(0,r.Z)(Fe,2),Qe=Ue[0],Le=(Ue[1],new Date(Qe.getFullYear(),Qe.getMonth(),1)),Je=localStorage.getItem("resId");console.log(Le),(0,i.useEffect)((function(){Ke()}),[$]);var Oe=A()(Qe).format("yyyy-MM-DD"),Ye={fromDate:A()(Oe).startOf("month").format("YYYY-MM-DD"),toDate:A()(Oe).startOf("month").add("month",0).format("YYYY-MM-DD")},He=(0,i.useState)(Ye),Ve=(0,r.Z)(He,2),ze=Ve[0],Ge=Ve[1],Ke=function(e,t){q([]),u()({method:"post",url:ve+"/revenuemetricsms/metrics/getResourceTable",data:{Src:"project",Typ:"allocations",ObjectId:$,FromDt:ze.toDate,AllocType:"billable",PrjSource:"-1",contTerms:"28,27,752,606,26,25,1024,612,608,609,610,611,750",engComps:"-1",cslIds:"-1",dpIds:"-1",UserId:Je}}).then((function(e){q(e.data)}))},qe=(0,i.useState)(!1),We=(0,r.Z)(qe,2),Xe=We[0],$e=We[1];return(0,i.useEffect)((function(){Xe?Ke():$e(!0)}),[ze.toDate,Xe]),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"font-weight-bold Vendor-sub-heading pb-0",children:"Resource Details"}),(0,w.jsx)("div",{className:"mb-2",children:be}),(0,w.jsx)(E.Z,{data:P,rows:10,dynamicColumns:Me,headerData:Q,setHeaderData:L,exportData:B,fileName:"ResourceVendorPerformance"}),d&&(0,w.jsx)(b.Z,{handleClose:function(){m(!1)},anchorEl:d,name:f,LinkId:$,setAllocationTable:le,setAnchorEl:m,setGraphKey1:ce}),ae&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"col-md-12 mt-2",children:(0,w.jsxs)("div",{className:"collapseHeader revForcast",children:[(0,w.jsx)("div",{className:"leftSection",children:(0,w.jsx)("span",{children:f})}),(0,w.jsx)("div",{className:"rightSection",style:{paddingLeft:"865px"},children:(0,w.jsxs)("span",{className:"ml-2 chevronContainer",ref:se,children:[(0,w.jsx)(g.euR,{cursor:"pointer",size:"2em",onClick:function(){Ge((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},"fromDate",A()(ze.fromDate).subtract("month",1).format("YYYY-MM-DD")))})),Ge((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},"toDate",A()(ze.toDate).subtract("month",1).format("YYYY-MM-DD")))}))}}),(0,w.jsx)("span",{children:A()(ze.toDate).format("MMM-YYYY")}),(0,w.jsx)(g.EnJ,{cursor:"pointer",size:"2em",onClick:function(){Ge((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},"fromDate",A()(ze.fromDate).add("month",1).format("YYYY-MM-DD")))})),Ge((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},"toDate",A()(ze.toDate).add("month",1).format("YYYY-MM-DD")))}))}})]},oe)}),(0,w.jsx)(Z.czh,{fontSize:"20px",style:{backgroundColor:"#c6c0c0",cursor:"pointer"},onClick:function(){le(!1)}})]})}),(0,w.jsx)("div",{className:"resourceAllocationTable",children:(0,w.jsx)(C.Z,{linkId:$,data:K,expandedCols:[],colExpandState:[]})})]})]})},k=n(83854),I=(n(66770),n(17425)),P=n(25415),T=n.n(P);function R(e){var t=e.data,n=e.expandedCols,d=e.colExpandState,j=e.rFormData,b=(e.exportData,e.countNw);console.log(t.tableData,"tabledata");var y=(0,i.useState)([]),N=(0,r.Z)(y,2),S=N[0],C=N[1],Z=(0,i.useState)(null),E=(0,r.Z)(Z,2),P=E[0],R=E[1],_=(0,i.useState)({}),B=(0,r.Z)(_,2),M=B[0],F=B[1],U=(0,i.useState)(!1),Q=(0,r.Z)(U,2),L=Q[0],J=Q[1],O=(0,i.useState)([]),Y=(0,r.Z)(O,2),H=(Y[0],Y[1]),V=(0,i.useState)(!1),z=(0,r.Z)(V,2),G=z[0],K=z[1],q=(0,i.useState)(!1),W=(0,r.Z)(q,2),X=W[0],$=W[1],ee=(0,i.useState)([]),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],le=(0,i.useState)(!1),se=(0,r.Z)(le,2),re=se[0],ie=se[1],oe=(0,i.useState)(!1),ce=(0,r.Z)(oe,2),de=(ce[0],ce[1]),ue=(0,i.useState)([]),me=(0,r.Z)(ue,2),he=me[0],pe=me[1],fe=(0,i.useState)(!1),ve=(0,r.Z)(fe,2),xe=ve[0],ge=ve[1],je=(0,i.useRef)(null),be={fte0:(0,w.jsx)("img",{src:h,alt:"(fte_inactive_icon)",style:{height:"12px"},title:"Ex-Employee"}),fte1:(0,w.jsx)("img",{src:m,alt:"(fte_active_icon)",style:{height:"12px"},title:"Active Employee"}),fte2:(0,w.jsx)("img",{src:p,alt:"(fte_notice_icon)",style:{height:"12px"},title:"Employee in notice period"}),subk0:(0,w.jsx)("img",{src:v,alt:"(subk_inactive_icon)",style:{height:"12px"},title:"Ex-Contractor"}),subk1:(0,w.jsx)("img",{src:f,alt:"(subk_active_icon)",style:{height:"12px"},title:"Active Contractor"}),subk2:(0,w.jsx)("img",{src:x,alt:"(subk_notice_icon)",style:{height:"12px"},title:"Contractor in notice period"})},ye=j.month,Ne=A()(ye).endOf("month").format("yyyy-MM-DD"),Se=""==j.countryIds?-1:j.countryIds,Ae=(0,i.useState)([]),Ce=(0,r.Z)(Ae,2),Ze=Ce[0],Ee=Ce[1],we=(0,i.useState)({vendor:-1,customer:"0",project:"0",department:"0"}),De=(0,r.Z)(we,2),ke=De[0];De[1];(0,i.useEffect)((function(){$(!1)}),[re]);var Ie=function(e){var t=String(e);if(1==t.includes(".")){var n=Number(t),a=(null!=n&&(null===n||void 0===n?void 0:n.toFixed(1))).split(".");return a[0]=a[0].replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","),a.join(".")}return null!=t&&(null===t||void 0===t?void 0:t.replace(/(?<=\d)(?=(\d{3})+(?!\d|\.))/g,","))},Pe=0,Te=function(){var e,a,l="";l=1==L&&Pe>0?"expanded":"",de(!0);var i,o=t.tableData,m=null;null!==t&&void 0!==t&&null!==(e=t.vmgPerformance)&&void 0!==e&&e.includes("'")?m=null===t||void 0===t||null===(i=t.vmgPerformance)||void 0===i?void 0:i.replaceAll("'",""):m=null===t||void 0===t?void 0:t.vmgPerformance;console.log();for(var h=null===(a=m)||void 0===a?void 0:a.split(","),p=[],f=[],v={},x=0;x<(null===h||void 0===h?void 0:h.length);x++){var j=h[x].trim(),b=o[0];v[j]=b[j]}var y=Object.entries(v),N=["id","department","customer","vendor","country","project","resource","departmentId","customerId","projectId","vendorId","empStatus","lvl","count","keyAttr"],S=y.filter((function(e){return!N.includes(e[0])&&!e[0].includes("billAmt")&&!e[0].includes("gm")&&!e[0].includes("rcount")})),A=y.filter((function(e){return!N.includes(e[0])}));pe(A),console.log("in line 69----"),console.log(S),H(S),S.map((function(e){var t=(0,r.Z)(e,2),a=t[0];t[1];n.includes(a)&&f.push((0,s.Z)({},a,!1))})),F(Object.assign.apply(Object,[{}].concat(f)));var Z=null===o||void 0===o?void 0:o.filter((function(e){return-1==e.id}));console.log(Z,"---------minusonerow"),S.map((function(e,t){var n=(0,r.Z)(e,2),a=n[0],s=n[1];p.push({id:a,accessorKey:a,header:s,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,w.jsxs)("div",{className:"name"==a||"emp_cadre"==a||"supervisor"==a?"mixer":"",children:[(0,w.jsx)("span",{children:s.split("^&")[0]}),a==d[2]?(0,w.jsx)("span",{className:"expandIcon ".concat(l),children:(0,w.jsx)(c.Z,{onClick:function(){J((function(e){return!e}))},children:(0,w.jsx)(g.bBv,{})})}):null]})}})}));var E=Z&&Object.entries(Z[0]);null===E||void 0===E||E.sort(),console.log(E,"subHeaders"),p.map((function(e){var t=p.indexOf(e),n=[];null===E||void 0===E||E.map((function(a,l){var s=(0,r.Z)(a,2),i=s[0],o=s[1],c=/\d/.test(i.split("_")[0]);if(i.includes("_")&&(1==c||0==c&&"total"==i.split("_")[0])){var d=i.includes("action")?"action":i.split("_");if(d=i.includes("action")?"action":d.slice(0,-1).join("_"),e.accessorKey.includes(d)){var m=i.includes("total")?i:"",h={id:i,header:null==o||0==o?"":(0,w.jsx)("div",{className:i.includes("actionDate")||i.includes("actionComments")?i.includes("department")&&"nullCol":"sm",children:o}),accessorKey:i,enableSorting:!0,sortingFn:function(e,t,n){return"0"!=t.id&&"1"!=e.id?e.getValue(n)-t.getValue(n):""},Cell:function(e){var t=e.cell;return""!=t.row.original.resource&&console.log(t.row.original.name,"----res"),(0,w.jsx)("div",{className:i.includes("_")?"total"==i.split("_")[0]?"total":i.split("_")[1][1]%2==0?"even":"odd":i.includes("emp_cadre")&&"sm mixer",children:"name"!=t.column.id||null==t.row.original||null==t.row.original.name&&"Summary"==t.row.original.name?t.column.id.includes("rcount")&&t.column.id!=m&&"0"!=t.getValue()&&"5"!=t.row.original.lvl?(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:Ie(t.getValue()),children:(0,w.jsx)("a",{href:"",role:"button",onClick:function(e){!function(e,t){ge(!1),console.log(t.row.original.lvl,"lvl"),e.preventDefault(),1==t.row.original.lvl?ke.vendor=t.row.original.vendorId:2==t.row.original.lvl?(ke.vendor=t.row.original.vendorId)&&(ke.customer=t.row.original.customerId):3==t.row.original.lvl?(ke.vendor=t.row.original.vendorId)&&(ke.customer=t.row.original.customerId)&&(ke.project=t.row.original.projectId):4==t.row.original.lvl?(ke.vendor=t.row.original.vendorId)&&(ke.customer=t.row.original.customerId)&&(ke.project=t.row.original.projectId)&&(ke.customer=t.row.original.customerId):0==t.row.original.lvl&&(ke.vendor=-1),K(!0),je.current=new AbortController,u()({method:"post",url:"http://10.11.12.149:8090/VendorMS/management/getVendManagementResourceDtls",signal:je.current.signal,data:{buIds:-1,country:Se,fromDate:ye,toDate:Ne,lkKey:"total_hc",skillId:0,isExport:0,vendorId:ke.vendor,page:"performanc",custId:ke.customer,projId:ke.project,buId:ke.department}}).then((function(e){var t;e=e.data,ie(e),ge(!0),console.log(e.data,"line mo--------------------107responsedata");for(var n=[],a=[],l=0;l<e.length;l++)0==l?n.push(e[l]):a.push(e[l]);Ee([{employee_number:"Emp ID",resource_name:"Name",start_date:"DOJ",department:"Dept",supervisor:"Supervisor",skills:"Skill",projects:"Projects",bill_allocs:"Billable Allocs",bill_rate:"Bill Rate($)",pay_rate:"Pay Rate($)",gm_perc:"GM%",alloc_end_date:"Alloc End Date",contract_end_date:"Contract End Date",ad_contract_end_date:"AD Expiry Date",vendor_name:"Vendor Name",contract_type:"Contract Type",skill_type:"Skill Type"}].concat(a));var s,r,i="",o=0;s=null===(t=a[0].alloc_contract_date_icon)||void 0===t?void 0:t.split("~")[0],r="";for(var c=0;c<a.length;c++){var d,u=null===(d=a[c].alloc_contract_date_icon)||void 0===d?void 0:d.split("~")[0];if(s!=u&&0==o)r=u,o++;else if(s!=u&&r!=u){i=u;break}}ae([s,r,i])})).catch((function(e){console.log(e)})),$(!0)}(e,t)},children:Ie(t.getValue())})}):t.column.id.includes("cost")||t.column.id.includes("gm")?(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:Ie(Math.round(t.getValue())),children:Ie(Math.round(t.getValue()))}):0==t.row.original.lvl?(0,w.jsx)("div",{className:"ellipsis summary","data-toggle":"tooltip",title:Ie(t.getValue()),children:Ie(Math.round(t.getValue()))}):(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:Ie(t.getValue()),children:Ie(Math.round(t.getValue()))}):(0,w.jsxs)(w.Fragment,{children:[be[t.row.original.empStatus],t.getValue()]})})}};n.push(h),p[t].columns=n}}else if(i==e.accessorKey){var f={id:i,header:null==o||0==o?"":(0,w.jsx)("div",{children:o}),accessorKey:i,enableSorting:!0,sortingFn:function(e,t,n){var a=e.getValue(n).toLowerCase(),l=t.getValue(n).toLowerCase();return"name"==n&&"0"!=t.id&&"1"!=e.id?a.localeCompare(l):""},Cell:function(e){var t=e.cell;return(0,w.jsx)("div",{className:0==t.row.original.lvl?"summary":1==t.row.original.lvl?"name"==t.column.id?"parentRow":("emp_cadre"==t.column.id||"supervisor"==t.column.id)&&"parentCadre":t.row.original.lvl>1&&t.row.original.lvl<6?"name"==t.column.id?"childRow":("emp_cadre"==t.column.id||"supervisor"==t.column.id)&&"childCadre":"",children:"name"!=t.column.id||null==t.row.original||null==t.row.original.name&&"Summary"==t.row.original.name?(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:t.getValue(),children:t.getValue()}):(0,w.jsxs)(w.Fragment,{children:[be[t.row.original.empStatus],(0,w.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:t.getValue(),children:t.getValue()})]})})}};p[t].columns=[f]}}))})),R(p);var D=[];null===o||void 0===o||o.map((function(e){return-2!=e.id&&-3!=e.id?D.push(e):""}));var k=Re(D,{children:"subRows"});C(k.slice(1,k.length)),console.log(Re(D,{children:"subRows"}),"nodes")};(0,i.useEffect)((function(){Te()}),[t.tableData]);(0,i.useEffect)((function(){L?(Pe++,Te(),F({})):Te()}),[L]);var Re=function(e,t){t=(0,l.Z)({id:"uniqueId",parentId:"parentId",children:"subRows"},t);var n={},r=[],i=t.children;return e.forEach((function(e){var a=e[t.id],r=e[t.parentId];n[a]=(0,l.Z)((0,l.Z)((0,s.Z)({},i,[]),e),n[a]),n[r]=n[r]||(0,s.Z)({},i,[]),n[r][i].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&r.push.apply(r,(0,a.Z)(e[i]))})),r},_e=function(){var e=t.tableData,n=[];n=he;var a=e.slice(1).map((function(e){var t={};return n.forEach((function(n){var a=n[0],l=e[a];if("string"===typeof l){var s=l.split("^&"),i=(0,r.Z)(s,2)[0];t[a]=i}else t[a]=l})),t})),l=(a.map((function(e){var t=[];return n.forEach((function(n){t.push(e[n])})),t})),new(T().Workbook)),s=l.addWorksheet("VendorPerformanceDetails");a.forEach((function(e){s.addRow(Object.values(e))}));[1,2].forEach((function(e){s.getRow(e).font={bold:!0}})),l.xlsx.writeBuffer().then((function(e){saveAs(new Blob([e]),"Vendor Performance.xlsx")}))};return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"materialReactExpandableTable VendorPerformanceTop darkHeader",children:null!==P&&void 0!==P&&P.length?(0,w.jsx)(o.ZP,{columns:P,data:S,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!0,enableColumnActions:!1,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,l.Z)({},M)},state:{columnVisibility:(0,l.Z)({},M)},defaultColumn:{minSize:40,maxSize:1e3,size:40},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",fontSize:"12px"},"& td:nth-of-type(2)":{minWidth:"280px",maxWidth:"280px"},"& tr:first-of-type td":{background:"#f5d5a7 "}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",fontSize:"12px"},"& th:nth-of-type(2)":{minWidth:"280px",maxWidth:"280px"}}},renderTopToolbar:function(e){e.table;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{class:"group mb-3 customCard",children:(0,w.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,w.jsxs)("h2",{style:{color:"black"},children:["No. of Vendors : ",b]}),(0,w.jsx)("div",{className:"mb-2",align:" right ",children:(0,w.jsx)(I.WlY,{size:"1.5em",title:"Export to Excel",style:{color:"green"},cursor:"pointer",onClick:_e})})]})})})}}):null}),X?(0,w.jsx)(k.Z,{handleAbort:function(){je.current&&je.current.abort(),$(!1)}}):"",!0===G&&1==xe?(0,w.jsx)(D,{resourceData:Ze,colorFilter:ne}):""]})}},2248:function(e,t,n){var a=n(93433),l=n(1413),s=n(29439),r=n(72791),i=n(87890),o=n(37145),c=n(25103),d=n(25415),u=n.n(d),m=n(80184);t.Z=function(e){var t=e.data,d=e.rows,h=(e.col,e.headerdatagroup,e.linkColumns,e.linkColumnsRoutes,e.dynamicColumns),p=e.headerData,f=e.setHeaderData,v=e.exportData,x=e.customFilters,g=e.customFilterValue,j=e.setCustomFilterValue,b=e.fileName,y=(0,r.useState)([]),N=(0,s.Z)(y,2),S=N[0],A=N[1],C=(0,r.useState)([]),Z=(0,s.Z)(C,2),E=Z[0],w=Z[1],D=(0,r.useRef)(null);(0,r.useEffect)((function(){console.log(t),A(JSON.parse(JSON.stringify(t)))}),[t]),(0,r.useEffect)((function(){if(S.length>0){f(S[0]),w(S.splice(1));var e=[],t=S[0];Object.keys(t).forEach((function(n){e.push({title:n,dataKey:t[n]})})),console.log(S)}}),[S]);var k={contains:{value:null,matchMode:i.a6.CONTAINS}},I=(0,r.useState)({global:k.contains}),P=(0,s.Z)(I,2),T=P[0],R=P[1];(0,r.useEffect)((function(){R({global:k.contains})}),[p]);var _=(0,r.useState)(""),B=(0,s.Z)(_,2),M=B[0],F=B[1],U=function(e){var t=e.target.value,n=(0,l.Z)({},T);n.global.value=t,R(n),F(t)},Q=function(){var e=x;if("select"===e.type)return(0,m.jsx)("select",{id:e.id,onChange:function(e){j(e.target.value)},children:Object.keys(e.data).map((function(t){return(0,m.jsx)("option",{selected:g==t,value:t,children:e.data[t]})}))})},L=function(){Promise.resolve().then(n.bind(n,34045)).then((function(e){for(var l=Object.keys(t[0]),s=(0,a.Z)(new Set(l)),r=t.map((function(e){return s.map((function(t){return e[t]}))})).map((function(e){return Object.values(e)})),i=new(u().Workbook),o=i.addWorksheet(b),c=0;c<r.length;c++)o.addRow(r[c]);[1].forEach((function(e){o.getRow(e).font={bold:!0}})),i.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});saveAs(t,b)})),function(e,t){Promise.resolve().then(n.t.bind(n,64802,23)).then((function(n){if(n&&n.default){var a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});n.default.saveAs(a,t+".xlsx")}}))}(e.write(i,{bookType:"xlsx",type:"array"}),b)}))},J=[{dataKey:"vendorId",title:"Vendor Id",width:27},{dataKey:"vendor_name",title:"Vendor Name",width:25},{dataKey:"contactName",title:"Contact Name",width:40},{dataKey:"phone",title:"Phone",width:40},{dataKey:"email",title:"Email",width:40},{dataKey:"contryName",title:"Country Name",width:30},{dataKey:"nxtRvwDt",title:"Next Review Date",width:25},{dataKey:"signedDt",title:"Contract Signed Date",width:25}];console.log(t);var O=function(){Promise.resolve().then(n.bind(n,35125)).then((function(e){Promise.resolve().then(n.t.bind(n,31052,23)).then((function(){var n=new e.default;n.text("PPM :: VMG Search",14,15);var l=(0,a.Z)(t.slice(1));n.autoTable({columns:J,body:l,startY:20}),n.save("PPM VMG.pdf")}))}))},Y=function(){H()},H=function(){var e=window.open("","_blank");if(e){var t=V();e.document.write('\n    <html>\n      <head>\n        <title>Print Table</title>\n        <link rel="stylesheet" type="text/css" href="path-to-your-print-styles.css">\n      </head>\n      <body>\n        <h1>PPM :: VMG Search</h1>\n        '.concat(t,"\n      </body>\n    </html>\n  ")),e.document.close(),e.print()}},V=function(){var e=t.map((function(e){return"<tr>\n      <td>".concat(e.vendorId,"</td>\n      <td>").concat(e.vendor_name,"</td>\n      <td>").concat(e.contactName,"</td>\n      <td>").concat(e.phone,"</td>\n      <td>").concat(e.email,"</td>\n      <td>").concat(e.contryName,"</td>\n      <td>").concat(e.nxtRvwDt,"</td>\n      <td>").concat(e.signedDt,"</td>\n      <td>").concat(e.expireDt,"</td>\n      <td>").concat(e.website,"</td>\n    </tr>")}));return"\n    <table>\n      <thead>\n        <tr>\n       \n        </tr>\n      </thead>\n      <tbody>\n        ".concat(e.join(""),"\n      </tbody>\n    </table>\n  ")},z=(0,m.jsxs)("div",{className:"flex  flex-row-reverse",children:[void 0!=x&&(0,m.jsx)("span",{children:(0,m.jsx)(Q,{})}),(0,m.jsxs)("div",{className:"exportBtn ml-3",children:[(null===v||void 0===v?void 0:v.includes("CSV"))&&(0,m.jsx)("span",{className:"pi pi-file csv",onClick:function(){return e=!1,void D.current.exportCSV({selectionOnly:e});var e},title:"CSV"}),(null===v||void 0===v?void 0:v.includes("XLS"))&&(0,m.jsx)("span",{className:"pi pi-file-excel excel",onClick:L,title:"Export to Excel"}),(null===v||void 0===v?void 0:v.includes("PDF"))&&(0,m.jsx)("span",{className:"pi pi-file-pdf pdf",onClick:O,title:"PDF"}),(null===v||void 0===v?void 0:v.includes("PRINT"))&&(0,m.jsx)("span",{className:"pi pi-print print",onClick:Y,title:"Print"})]}),(0,m.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,m.jsx)("i",{className:"pi pi-search"}),(0,m.jsx)(c.o,{defaultValue:M,onChange:U,placeholder:"Keyword Search"})]})]});return(0,m.jsx)("div",{className:"darkHeader",children:Object.keys(p).length>0&&(0,m.jsx)(o.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:E,paginator:!0,sortMode:!1,showGridlines:!0,rows:d,dataKey:"id",filters:T,header:z,emptyMessage:"No Records found.",ref:function(e){D.current=e},className:"primeReactDataTable vendorResourceTable",children:h})})}},85565:function(){},62508:function(){},17153:function(){},97931:function(){},23421:function(){},26809:function(){},49686:function(){},40941:function(){},8584:function(){},49177:function(e){e.exports="data:image/png;base64,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"},34911:function(e,t,n){e.exports=n.p+"static/media/fte_inactive.8c63a2b61810fba937a0.png"},56637:function(e,t,n){e.exports=n.p+"static/media/fte_notice.d46a0d8dc2fd26663170.png"},53824:function(e,t,n){e.exports=n.p+"static/media/subk_active.5b7cda5d51287e72bece.png"},48462:function(e,t,n){e.exports=n.p+"static/media/subk_inactive.09162fa347780f28aba9.png"},59170:function(e,t,n){e.exports=n.p+"static/media/subk_notice.196f63b27de7739020fb.png"}}]);
//# sourceMappingURL=2624.63dbb9e8.chunk.js.map