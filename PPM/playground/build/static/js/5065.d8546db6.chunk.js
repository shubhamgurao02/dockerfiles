"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5065,4205],{58610:function(e,t,n){var r=n(4942),a=n(1413),i=n(29439),s=n(72791),o=n(78820),l=n(78983),c=n(70828),d=n(56355),u=n(7692),m=n(59962),p=n.n(m),f=n(80184);t.Z=function(e){var t=e.setClickButtonPopUp,n=e.clickButtonPopUp,m=e.setFinalState1,h=e.handleAddEmail,x=e.finalState1,v=e.handleChange1,g=(0,s.useState)(null),y=(0,i.Z)(g,2),j=y[0],b=y[1],C=(0,s.useState)(""),w=(0,i.Z)(C,2),k=w[0],N=w[1],S=(0,s.useState)(null),Z=(0,i.Z)(S,2),_=Z[0],P=Z[1],D=(0,s.useRef)([]),E=(0,s.useState)(!1),I=(0,i.Z)(E,2),R=I[0],A=I[1];(0,s.useEffect)((function(){T()}),[x]);var T=function(){if(void 0===x||null===x)return null;b((function(){return Object.keys(x).map((function(e,t){var n=x[e].split(",").filter((function(e){return""!==e.trim()}));return(0,f.jsx)("div",{children:n.map((function(t,n){return(0,f.jsxs)("div",{children:[t.trim(),""===t.trim()?"":(0,f.jsx)(o.YK6,{style:{cursor:"pointer"},onClick:function(){return F(e,t)}})]},n)}))},t)}))}))},F=function(e,t){P({key:e,email:t})};return(0,f.jsxs)("div",{children:[(0,f.jsx)(p(),{children:(0,f.jsxs)(l.Tk,{alignment:"center",backdrop:"static",size:"sm",visible:n,onClose:function(){t(!1)},children:[(0,f.jsx)(l.p0,{className:"hgt22",style:{cursor:"all-scroll"},children:(0,f.jsx)(l.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Client Email"})})}),(0,f.jsxs)(l.sD,{children:[R?(0,f.jsxs)("div",{className:"statusMsg success",children:[(0,f.jsx)(u.hXj,{})," Email Deleted Successfully"]}):"",k&&(0,f.jsxs)("div",{className:"statusMsg error",children:[(0,f.jsx)(o.CSE,{})," ",k]}),(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsxs)("div",{className:"col-md-12 row mb-2 align-items-center",children:[(0,f.jsx)("div",{className:"col-md-8",children:(0,f.jsx)("div",{className:"textfield",ref:function(e){D.current[0]=e},children:(0,f.jsx)("input",{className:"col-md-12",type:"email",id:"customerEmails",name:"customerEmails",placeholder:"Enter Email",onChange:function(e){v(e)}})})}),(0,f.jsxs)("button",{type:"submit",className:"btn btn-primary col-4",onClick:function(){!function(){var e=D.current[0].querySelector("input"),t=e.value.trim();t?function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(t)?x[t]?(N("Email already exists"),setTimeout((function(){N("")}),3e3)):(m((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},t,t))})),h(),T(),e.value=""):(N("Please Provide Proper Email"),setTimeout((function(){N("")}),3e3)):(N("Please Provide Email"),setTimeout((function(){N("")}),3e3))}()},children:[(0,f.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"}),(0,f.jsx)(d.wEH,{})," Add"]})]}),(0,f.jsx)("div",{className:"row",children:j})]})]})]})}),_&&(0,f.jsx)(p(),{children:(0,f.jsxs)(l.Tk,{alignment:"center",backdrop:"static",size:"sm",visible:!0,onClose:function(){return P(null)},children:[(0,f.jsx)(l.p0,{className:"hgt22",style:{cursor:"all-scroll"},children:(0,f.jsx)(l.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Delete Customer Email"})})}),(0,f.jsxs)(l.sD,{children:[(0,f.jsx)("div",{children:(0,f.jsx)("strong",{children:" Are you sure you want to delete email ?"})}),(0,f.jsxs)("div",{className:"form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-1",children:[(0,f.jsxs)("button",{className:"btn btn-primary",onClick:function(){return e=_.key,t=_.email,m((function(n){var r=(0,a.Z)({},n),i=r[e].split(",").filter((function(e){return e.trim()!==t.trim()}));return r[e]=i.join(","),r})),A(!0),setTimeout((function(){return A(!1)}),3e3),T(),void P(null);var e,t},children:[(0,f.jsx)(c.Qsp,{}),"Yes"]}),(0,f.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return P(null)},children:[(0,f.jsx)(c.sQZ,{}),"No"]})]})]})]})})]})}},29217:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(1413),a=n(93433),i=n(29439),s=n(72791),o=n(74569),l=n.n(o),c=n(37145),d=n(1063),u=n(34831),m=n(70828),p=n(78820),f=n(4942),h=n(78983),x=n(20860),v=n(80184),g=function(e){var t=e.rolePopup,n=e.setRolePopup,a=e.updatedRowData,o=e.customerRoleTypeId,c=e.getCustomersRoles,d=e.setCustRolePopEditMsg,p=u.N.baseUrl,g=(0,s.useState)(!1),y=(0,i.Z)(g,2),j=y[0],b=y[1],C=["Canada","Germany","India","Jordan","UAE","UK","US"],w=(0,s.useState)({}),k=(0,i.Z)(w,2),N=k[0],S=k[1],Z=(0,s.useState)({}),_=(0,i.Z)(Z,2),P=_[0],D=_[1],E=(0,s.useState)({}),I=(0,i.Z)(E,2),R=I[0],A=I[1];return(0,s.useEffect)((function(){if(a){var e={},t={};a.forEach((function(n){var r=n.country_name,a=n.rate,i=n.cost;C.includes(r)&&(e[r]=0===a?0:a||"",t[r]=0===i?0:i||"")})),S(e),D(t)}}),[a]),(0,v.jsxs)("div",{children:[j?(0,v.jsx)("div",{className:"statusMsg success",children:(0,v.jsxs)("span",{children:[(0,v.jsx)(BiCheck,{}),"Role updated successfully"]})}):"",(0,v.jsxs)(h.Tk,{alignment:"center",backdrop:"static",visible:t,size:"xs",className:"ui-dialog",onClose:function(){return n(!1)},children:[(0,v.jsx)(h.p0,{className:""}),(0,v.jsxs)(h.sD,{children:[(0,v.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Country"}),(0,v.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Billing Rate/Hr"}),(0,v.jsx)("th",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:"Cost/Hr"})]})}),(0,v.jsx)("tbody",{style:{border:"1px solid #ccc"},children:C.map((function(e){return(0,v.jsxs)("tr",{style:{borderBottom:"1px solid #ccc"},children:[(0,v.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"left"},children:e}),(0,v.jsx)("td",{style:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",padding:"8px"},children:(0,v.jsx)("input",{type:"text",style:{border:"1px solid #ddd",padding:"4px",width:"100%"},maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},value:N[e]||"",onChange:function(t){return function(e,t){S((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,f.Z)({},e,t))})),A((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,f.Z)({},e,!0))}))}(e,t.target.value)}})}),(0,v.jsx)("td",{style:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",padding:"8px"},children:(0,v.jsx)("input",{type:"text",style:{border:"1px solid #ddd",padding:"4px",width:"100%"},maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},value:P[e]||"",onChange:function(t){return function(e,t){D((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,f.Z)({},e,t))})),A((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,f.Z)({},e,!0))}))}(e,t.target.value)}})})]},e)}))})]}),(0,v.jsxs)("div",{className:"btn-container center my-2",children:[(0,v.jsxs)("button",{className:"btn btn-primary",title:"Save",onClick:function(){var e=[];C.forEach((function(t){if(R[t]){var n=parseFloat(N[t]||0),r=parseFloat(P[t]||0),i=a.find((function(e){return e.country_name===t}));i&&e.push({customerRoleTypeId:o,countryId:i.countryid,cost:r,rate:n})}})),l().post(p+"/customersms/Customers/saveRoleCost",e).then((function(e){n(!1),d(!0),setTimeout((function(){d(!1)}),3e3),c(),b(!0)}))},children:[(0,v.jsx)(x.UQg,{})," Save"]}),(0,v.jsxs)("button",{className:"btn btn-secondary",title:"Cancel",onClick:function(){n(!1)},children:[(0,v.jsx)(m.sQZ,{})," Cancel"," "]})]})]})]})]})},y=function(e){var t=e.roleDeletePopup,n=e.setRoleDeletePopup,r=e.DeleteRole;e.deleteId;return(0,v.jsx)("div",{children:(0,v.jsxs)(h.Tk,{alignment:"center",backdrop:"static",visible:t,size:"sm",className:"ui-dialog",onClose:function(){return n(!1)},children:[(0,v.jsx)(h.p0,{className:"",children:(0,v.jsx)(h.fl,{children:(0,v.jsx)("span",{className:"",children:"Delete Role"})})}),(0,v.jsxs)(h.sD,{children:[(0,v.jsx)("strong",{children:" Are you sure to delete Role ?"}),(0,v.jsxs)("div",{className:"btn-container center my-2",children:[(0,v.jsxs)("button",{className:"btn btn-primary",title:"Delete",onClick:function(){r()},children:[(0,v.jsx)(x.UQg,{})," Delete"]}),(0,v.jsxs)("button",{className:"btn btn-secondary",title:"Cancel",onClick:function(){n(!1)},children:[(0,v.jsx)(m.sQZ,{})," Cancel"," "]})]})]})]})})},j=n(56355),b=function(e){var t=e.cCountryId,n=e.setRolesValidationMsg,o=e.setUpdatedRole,f=e.setFinalTableMsg,h=e.setCustRolePopEditMsg,x=u.N.baseUrl,b=(0,s.useState)([]),C=(0,i.Z)(b,2),w=(C[0],C[1]),k=(0,s.useState)([]),N=(0,i.Z)(k,2),S=N[0],Z=N[1],_=(0,s.useState)(!0),P=(0,i.Z)(_,2),D=P[0],E=P[1],I=(0,s.useState)(!1),R=(0,i.Z)(I,2),A=R[0],T=R[1],F=(localStorage.getItem("resId"),(0,s.useState)([])),L=(0,i.Z)(F,2),H=L[0],O=L[1],B=(0,s.useState)([]),M=(0,i.Z)(B,2),U=(M[0],M[1]),z=(0,s.useState)([]),q=(0,i.Z)(z,2),Q=(q[0],q[1]),J=(0,s.useState)(!1),K=(0,i.Z)(J,2),G=(K[0],K[1]),V=(0,s.useState)("14"),W=(0,i.Z)(V,2),X=W[0],Y=W[1],$=(0,s.useState)(!1),ee=(0,i.Z)($,2),te=(ee[0],ee[1]),ne=(0,s.useState)(!1),re=(0,i.Z)(ne,2),ae=re[0],ie=re[1],se=(0,s.useState)(!1),oe=(0,i.Z)(se,2),le=oe[0],ce=oe[1],de=(0,s.useState)(""),ue=(0,i.Z)(de,2),me=ue[0],pe=ue[1],fe=(0,s.useState)(""),he=(0,i.Z)(fe,2),xe=he[0],ve=he[1],ge=(0,s.useState)(""),ye=(0,i.Z)(ge,2),je=ye[0],be=ye[1],Ce=(0,s.useState)(0),we=(0,i.Z)(Ce,2),ke=we[0],Ne=we[1],Se=(0,s.useState)(!1),Ze=(0,i.Z)(Se,2),_e=Ze[0],Pe=Ze[1],De=(0,s.useState)([]),Ee=(0,i.Z)(De,2),Ie=Ee[0],Re=Ee[1],Ae=(0,s.useState)([]),Te=(0,i.Z)(Ae,2),Fe=Te[0],Le=Te[1],He=function(){l()({method:"get",url:x+"/customersms/Customers/roleTypeIdsByCustomerId?customerId=".concat(e.customerId)}).then((function(e){var t=e.data;Le(t)}))};(0,s.useEffect)((function(){He()}),[]);var Oe=function(){0!=e.customerId&&l()({method:"get",url:x+"/customersms/Customers/getCustomersroles?cid=".concat(e.customerId)}).then((function(e){var t=e.data;Q(t),Ne((function(e){return e+1}));for(var n=(0,a.Z)(new Set(t.map((function(e){return e.display_name})))),r=[],i=function(e){var a={};a.display_name=n[e];var i=t.filter((function(t){return t.display_name===n[e]})).map((function(e){return e.customer_role_type_id})).join(",");a.customer_role_type_id=i;for(var s=JSON.parse(JSON.stringify(t)).filter((function(t){return t.display_name===n[e]})),o=["","Canada","Germany","India","Jordan","UAE","UK","US"],l=[],c=function(e){var t={display_name:"",cost:"",rate:"",country_name:"",countryid:"",customer_role_type_id:""};if(!1===s.some((function(t){return t.country_name===o[e]})))t.country_name=o[e],l.push(t);else for(var n=0;n<s.length;n++)o[e].includes(s[n].country_name)&&l.push(s[n])},d=0;d<o.length;d++)c(d);a.data=l,r.push(a)},s=0;s<n.length;s++)i(s);Z([].concat(r)),Re([].concat(r))}))};(0,s.useEffect)((function(){Oe(),l()({method:"get",url:x+"/ProjectMS/Engagement/getCurrency"}).then((function(e){var t=e.data;w(t)})),l()({method:"get",url:x+"/customersms/Customers/getRolesDropDown"}).then((function(e){var t=e.data;O(t)}))}),[e.customerId]);var Be=function(){Z(Ie),E(!0),T(!1),G(!0)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"customCard card graph mt-2 mb-2 darkHeader",children:[(0,v.jsx)("div",{className:"group mb-1 customCard",children:(0,v.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,v.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Roles"})})}),(0,v.jsxs)(c.w,{className:"primeReactDataTable eventsTable  Roles",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:S,paginator:!0,editMode:"row",rows:25,showGridlines:!0,highlightOnHover:!0,pagination:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},children:[(0,v.jsx)(d.s,{field:"display_name",header:"Role",alignHeader:"center",body:function(e){return _e&&""==e.display_name?(0,v.jsx)("select",{onChange:function(e){Y(e.target.value),H.map((function(t){t.id==e.target.value&&(o(t.display_name),t.display_name)}))},children:H.map((function(e,t){return(0,v.jsx)("option",{value:e.id,children:e.display_name},e.id)}))}):(0,v.jsx)(v.Fragment,{children:e.display_name})},editor:function(e){return initialRowHandler(e)},style:{width:"40%"}},"display_name"),(0,v.jsx)(d.s,{field:"Country",header:"Country",body:function(e){var t,n,r;return(0,v.jsx)("span",{children:(0,v.jsx)("table",{class:"table table-bordered table-striped",children:(0,v.jsxs)("tbody",{children:[(0,v.jsx)("tr",{children:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return(0,v.jsxs)("th",{className:"antiquewhite",children:[" ",e.country_name]})}))}),(0,v.jsx)("tr",{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e,t){return(0,v.jsx)(v.Fragment,{children:0===t?(0,v.jsxs)("td",{children:[(0,v.jsx)("b",{children:"Billing"}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Rate/Hr"})]}):(0,v.jsx)("td",{children:e.rate})})}))}),(0,v.jsx)("tr",{children:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.map((function(e,t){return(0,v.jsx)(v.Fragment,{children:0===t?(0,v.jsx)("td",{children:(0,v.jsx)("b",{children:"Cost/Hr"})}):(0,v.jsx)("td",{children:e.cost})})}))})]})})})},alignHeader:"center",children:"country"}),(0,v.jsx)(d.s,{field:"",header:"Action",body:function(e){return _e&&""===e.display_name?"":function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)(p.QML,{color:"orange",cursor:"pointer",title:"Edit",onClick:function(){var n;ie(!0),be(e.customer_role_type_id.split(",")[0]);var a=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e){if(e.country_name){var n=t.find((function(t){return t.country_name===e.country_name}));if(n)return(0,r.Z)((0,r.Z)({},e),{},{countryid:n.id})}return e}));ve(a)}}),(0,v.jsx)(p.YK6,{color:"orange",cursor:"pointer",title:"Delete Row",onClick:function(){ce(!0),pe(e.customer_role_type_id.split(",")[0])}})]})})}(e)},headerStyle:{width:"100px",backgroundColor:"#eeecec"},bodyStyle:{textAlign:"center"}},"Action")]},ke)]})}),(0,v.jsxs)("div",{className:"form-group col-md-2 btn-container-events center my-3",children:[(0,v.jsxs)("button",{className:"btn btn-primary",disabled:A,title:"Add new row",onClick:function(){Pe(!0),function(){Y("14"),A||(T(!0),E(!1));var e={display_name:"",Action:0};Z((function(t){return[].concat((0,a.Z)(t),[e])}))}()},children:[(0,v.jsx)(j.wEH,{})," Add"]}),(0,v.jsxs)("button",{className:"btn btn-primary",disabled:D,title:"Save row",onClick:function(){Pe(!1),function(){if(te(!1),Fe.some((function(e){return X.includes(e)})))return n(!0),setTimeout((function(){n(!1)}),3e3),Z(Ie),E(!0),T(!1),void G(!0);l()({method:"post",url:x+"/customersms/Customers/saveRoles",data:{customerId:e.customerId,roleType:X}}).then((function(e){Oe(),He();var t=e.data;f(!0),setTimeout((function(){f(!1)}),3e3),o("Primary Project Manager"),n(!1),U(t),te(!0),Be()}))}()},children:[(0,v.jsx)(j.TvB,{})," Save"]}),(0,v.jsxs)("button",{className:"btn btn-secondary",disabled:D,title:"Cancel row editing",onClick:function(){Pe(!1),Be()},children:[(0,v.jsx)(m.sQZ,{fontSize:"11px"})," Cancel"]})]}),ae?(0,v.jsx)(g,{rolePopup:ae,setRolePopup:ie,customerRoleTypeId:je,updatedRowData:xe,getCustomersRoles:Oe,setCustRolePopEditMsg:h}):"",le?(0,v.jsx)(y,{roleDeletePopup:le,setRoleDeletePopup:ce,DeleteRole:function(){l()({method:"delete",url:x+"/customersms/Customers/deleteEditRoles?roleId=".concat(me)}).then((function(e){ce(!1),Oe(),He(),Be()}))},deleteId:me}):""]})}},23457:function(e,t,n){var r=n(93433),a=n(29439),i=n(72791),s=n(37145),o=n(1063),l=n(74569),c=n.n(l),d=n(34831),u=n(78820),m=n(70828),p=n(46175),f=n(41310),h=n(56355),x=n(80184);t.Z=function(e){var t=e.customerId,n=e.setAddMessage,l=(0,i.useState)([]),v=(0,a.Z)(l,2),g=v[0],y=v[1],j=(0,i.useState)([]),b=(0,a.Z)(j,2),C=(b[0],b[1]),w=(0,i.useState)(!1),k=(0,a.Z)(w,2),N=k[0],S=k[1],Z=(0,i.useState)(!0),_=(0,a.Z)(Z,2),P=_[0],D=_[1],E=(0,i.useState)(!1),I=(0,a.Z)(E,2),R=I[0],A=I[1],T=d.N.baseUrl,F=(0,i.useRef)(null),L=(0,i.useRef)(null),H=localStorage.getItem("resId"),O=(0,i.useState)([]),B=(0,a.Z)(O,2),M=B[0],U=B[1],z=(0,i.useState)([]),q=(0,a.Z)(z,2),Q=q[0],J=q[1],K=(0,i.useState)([]),G=(0,a.Z)(K,2),V=G[0],W=G[1],X=(0,i.useState)([]),Y=(0,a.Z)(X,2),$=Y[0],ee=Y[1],te=(0,i.useState)([]),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],ie={loggedId:H,name:"",address:"",country_id:"",state_id:"",city_id:"",zip_code:"",contact:"",customerId:t},se=(0,i.useState)(ie),oe=(0,a.Z)(se,2),le=oe[0],ce=(oe[1],document.getElementsByClassName("p-paginator-next p-paginator-element p-link")),de=document.getElementsByClassName("p-paginator-last p-paginator-element p-link");(0,i.useEffect)((function(){}),[le]),(0,i.useLayoutEffect)((function(){var e=Q.filter((function(e){return e.countryId==M}));ee(e);var t=V.filter((function(e){return e.stateId==Q}));ae(t)}),[Q,V]),(0,i.useEffect)((function(){c()({url:T+"/CostMS/cost/getCountries"}).then((function(e){var t=e.data.filter((function(e){return"NM"!==e.description}));U(t)})),c()({url:T+"/VendorMS/vendor/states"}).then((function(e){J(e.data)})),c()({url:T+"/VendorMS/vendor/cities"}).then((function(e){W(e.data)}))}),[]);var ue=function(e){Object.keys(e).forEach((function(t){if(["",null,void 0," "].includes(e[t]))return y(g.slice(1)),void A((function(e){return!e}))}))};(0,i.useEffect)((function(){var e,t,n,r=g[0];if(null===(e=ce[0])||void 0===e||e.addEventListener("click",(function(){ue(r)})),null===(t=de[0])||void 0===t||t.addEventListener("click",(function(){ue(r)})),""==(null===(n=g[0])||void 0===n?void 0:n.name)){var a=document.getElementsByClassName("p-row-editor-init p-link")[0];a.setAttribute("title","Edit selected row"),a.click(),setTimeout((function(){document.getElementsByClassName("p-row-editor-save p-link")[0].setAttribute("title","Save row");var e=document.getElementsByClassName("p-row-editor-cancel p-link")[0];e.setAttribute("title","Cancel row editing"),null===e||void 0===e||e.addEventListener("click",(function(e){var t;""==(null===(t=g[0])||void 0===t?void 0:t.name)&&(y(g.slice(1,g.length)),D(!0),S(!1),A(!1),L.current.forceUpdate())}),!0)}),200)}}),[g]);var me=function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("select",{className:"error ".concat(N&&!e.country_name?"error-block":""),id:"country_id",name:"countryId",onChange:function(t){!function(e){var t=JSON.parse(JSON.stringify(Q)).filter((function(t){return t.countryId==e.target.value})).sort((function(e,t){t.state,e.state})).sort((function(e,t){var n=e.state.toUpperCase(),r=t.state.toUpperCase();return n<r?-1:n>r?1:0}));ee(t);var n=e.target;n.id,n.name,n.value}(t),e.editorCallback(t.target.value),M.map((function(n){n.id==t.target.value&&(e.rowData.countryId=n.country_name,e.rowData.country_id=t.target.value)}))},children:[(0,x.jsx)("option",{value:"",children:"<<Please Select>>"}),null===M||void 0===M?void 0:M.map((function(t,n){return(0,x.jsx)("option",{value:t.id,selected:t.id==e.rowData.country_id,children:t.country_name},n)}))]})})},pe=function(e,t){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("select",{className:"error ".concat(N&&!e.rowData.state?"error-block":""),id:"state_id",name:"stateId",onChange:function(t){!function(e){var t=JSON.parse(JSON.stringify(V)).filter((function(t){return t.stateId==e.target.value})).sort((function(e,t){var n=e.city.toUpperCase(),r=t.city.toUpperCase();return n<r?-1:n>r?1:0}));ae(t)}(t),e.editorCallback(t.target.value),Q.map((function(n){n.id==t.target.value&&(e.rowData.stateId=n.state,e.rowData.state_id=t.target.value)}))},children:[(0,x.jsx)("option",{value:"",children:"<<Please Select>>"}),null===$||void 0===$?void 0:$.map((function(t,n){return(0,x.jsx)("option",{value:t.id,selected:null===e||void 0===e?void 0:e.value,children:t.state},n)}))]})})},fe=function(){F.current=new AbortController,c()({url:T+"/customersms/Customers/getCustomerEditDivision?cid=".concat(t),signal:F.current.signal}).then((function(e){var t=e.data;y((function(){return t})),setTimeout((function(){}),1e3)}))},he=function(e){var r;""==e.name||""==e.address||""==e.countryId||""==e.stateId||""==e.cityId||""==e.zipCode||""==e.contact?S(!0):(r=(e.id,{id:e.id,loggedId:H,Name:e.name,address:e.address,countryId:e.country_id,stateId:e.state_id,cityId:e.city_id,zipCode:e.zip_code,contact:e.contact,customerId:t}),c()({method:"post",url:T+"/customersms/Customers/postCustomersEditdivision",data:r}).then((function(e){fe(),S(!1),n(!0),setTimeout((function(){n(!1)}),3e3)})),D(!0),A(!1))};(0,i.useEffect)((function(){fe()}),[]);var xe=(0,x.jsxs)(p.E,{children:[(0,x.jsx)(f.X,{children:(0,x.jsx)(o.s,{header:"Bill to Address",colSpan:8})}),(0,x.jsxs)(f.X,{children:[(0,x.jsx)(o.s,{field:"name",header:"Name",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"address",header:"Address",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"country_name",header:"Country",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"state",header:"State/Province",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"city",header:"City",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"zip_code",header:"ZIP/Postal Code",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"contact",header:"Contact Number",style:{width:"180px"}}),(0,x.jsx)(o.s,{field:"Actions",header:"Actions",style:{width:"100px"}})]})]});return(0,x.jsxs)(x.Fragment,{children:[N?(0,x.jsx)("div",{className:"statusMsg error",children:(0,x.jsxs)("span",{children:[(0,x.jsx)(u.CSE,{}),"\xa0","Please provide valid values for highlighted values"]})}):"",(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"customCard card graph mt-2 mb-2",children:[(0,x.jsx)("div",{className:"group mb-0 customCard",children:(0,x.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,x.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Divisions"})})}),(0,x.jsx)("div",{className:" p-fluid darkHeader mb-2",children:(0,x.jsxs)(s.w,{className:"primeReactDataTable projDependenciesTable",value:g,editMode:"row",rows:25,showGridlines:!0,paginator:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],rowHover:!0,onRowEditComplete:function(e){var t=(0,r.Z)(g),n=e.newData;t[e.index]=n,y(t),he(e.newData)},tableStyle:{minWidth:"auto",width:"auto"},filterDisplay:"row",currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},emptyMessage:"No Data Found",rowsPerPageOptions:[5,10,15,20,25,30],headerColumnGroup:xe,children:[(0,x.jsx)(o.s,{field:"name",header:(0,x.jsx)("span",{children:"Name"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"name",title:e.name,value:e.name,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return C(e.rowData.id),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"error ".concat(N&&!e.rowData.name?"error-block":""),id:"name",type:"text",value:e.rowData.name,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,x.jsx)(o.s,{field:"address",header:(0,x.jsx)("span",{children:"Address"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"address",title:e.address,value:e.address,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"error ".concat(N&&!e.rowData.address?"error-block":""),id:"address",type:"text",value:e.rowData.address,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,x.jsx)(o.s,{field:"country_name",header:(0,x.jsx)("span",{children:"Country"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"country_name",title:e.country_name,value:e.country_name,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return me(e)}}),(0,x.jsx)(o.s,{field:"state",header:(0,x.jsx)("span",{children:"State/Province"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"state",title:e.state,value:e.state,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return pe(e)}}),(0,x.jsx)(o.s,{field:"city",header:(0,x.jsx)("span",{children:"City"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"city",title:e.city,value:e.city,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("select",{className:"error ".concat(N&&!e.rowData.city?"error-block":""),id:"city_id",name:"cityId",onChange:function(t){e.editorCallback(t.target.value),re.map((function(n){n.id==t.target.value&&(e.rowData.cityId=n.city,e.rowData.city_id=t.target.value)}))},children:[(0,x.jsx)("option",{value:"",children:"<<Please Select>>"}),null===re||void 0===re?void 0:re.map((function(t,n){return(0,x.jsx)("option",{value:t.id,selected:t.id==e.rowData.city_id,children:t.city},n)}))]})})}(e)}}),(0,x.jsx)(o.s,{field:"zip_code",header:(0,x.jsx)("span",{children:"ZIP/Postal Code"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"zip_code",title:e.zip_code,value:e.zip_code,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"error ".concat(N&&!e.rowData.city?"error-block":""),id:"city",type:"text",value:e.rowData.zipCode,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,x.jsx)(o.s,{field:"contact",header:(0,x.jsx)("span",{children:"Contact Number"}),body:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"ellipsis",id:"contact",title:e.contact,value:e.contact,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("input",{className:"error ".concat(N&&!e.rowData.contact?"error-block":""),id:"contact",type:"text",value:e.rowData.contact,onChange:function(t){e.editorCallback(t.target.value)},maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()}})})}(e)}}),(0,x.jsx)(o.s,{field:"Actions",header:"Actions",rowEditor:!0,bodyStyle:{textAlign:"center"}})]})})]})}),(0,x.jsxs)("div",{className:"form-group col-md-2 btn-container-events center my-3",children:[(0,x.jsxs)("button",{className:"btn btn-primary",disabled:R,title:"Add new row",onClick:function(){document.getElementsByClassName("p-paginator-first p-paginator-element p-link")[0].click(),R||(A(!0),D(!1));var e={loggedId:H,name:"",address:"",country_name:"",state:"",city:"",zip_code:"",contact:"",customerId:t},n=[];n.push(e),y([].concat(n,(0,r.Z)(g)))},children:[(0,x.jsx)(h.wEH,{})," Add"]}),(0,x.jsxs)("button",{className:"btn btn-primary",disabled:P,title:"Save row",onClick:function(){!function(){var e;null===(e=document.getElementsByClassName("p-row-editor-save-icon pi pi-fw pi-check")[0])||void 0===e||e.click()}()},children:[(0,x.jsx)(h.TvB,{})," Save"]}),(0,x.jsxs)("button",{className:"btn btn-secondary",disabled:P,title:"Cancel row editing",onClick:function(){!function(){var e;null===(e=document.getElementsByClassName("p-row-editor-cancel p-link")[0])||void 0===e||e.click(),S(!1)}()},children:[(0,x.jsx)(m.sQZ,{fontSize:"11px"})," Cancel"]})]})]})}},85552:function(e,t,n){var r=n(4942),a=n(93433),i=n(74165),s=n(15861),o=n(1413),l=n(29439),c=n(72791),d=n(37145),u=n(1063),m=n(74569),p=n.n(m),f=n(34831),h=n(78820),x=n(16856),v=n(20860),g=n(70828),y=n(63521),j=(n(58620),n(80184));t.Z=function(e){var t=e.customerId,n=e.setAddIntStakeMessage,m=(0,c.useState)([]),b=(0,l.Z)(m,2),C=b[0],w=b[1],k=(0,c.useState)(!1),N=(0,l.Z)(k,2),S=N[0],Z=N[1],_=(0,c.useState)(!0),P=(0,l.Z)(_,2),D=P[0],E=P[1],I=(0,c.useState)(!1),R=(0,l.Z)(I,2),A=R[0],T=R[1],F=f.N.baseUrl,L=(0,c.useRef)(null),H=localStorage.getItem("resId"),O=(0,c.useState)([]),B=(0,l.Z)(O,2),M=B[0],U=B[1],z=(0,c.useState)(""),q=(0,l.Z)(z,2),Q=q[0],J=q[1],K=(0,c.useState)(""),G=(0,l.Z)(K,2),V=G[0],W=G[1],X=(0,c.useState)([]),Y=(0,l.Z)(X,2),$=Y[0],ee=Y[1],te=(0,c.useState)([]),ne=(0,l.Z)(te,2),re=ne[0],ae=ne[1],ie=(0,c.useState)([]),se=(0,l.Z)(ie,2),oe=se[0],le=se[1],ce=(0,c.useState)([]),de=(0,l.Z)(ce,2),ue=de[0],me=de[1],pe=(0,c.useState)(!1),fe=(0,l.Z)(pe,2),he=fe[0],xe=fe[1],ve=(0,c.useState)([]),ge=(0,l.Z)(ve,2),ye=ge[0],je=ge[1],be=(0,c.useState)(!1),Ce=(0,l.Z)(be,2),we=Ce[0],ke=Ce[1],Ne=(0,c.useState)([]),Se=(0,l.Z)(Ne,2),Ze=(Se[0],Se[1]),_e=(0,c.useState)([]),Pe=(0,l.Z)(_e,2),De=Pe[0],Ee=Pe[1],Ie=(0,c.useState)([]),Re=(0,l.Z)(Ie,2),Ae=Re[0],Te=Re[1],Fe=(0,c.useState)([]),Le=(0,l.Z)(Fe,2),He=Le[0],Oe=Le[1],Be=(0,c.useState)(!1),Me=(0,l.Z)(Be,2),Ue=Me[0],ze=Me[1];(0,c.useEffect)((function(){Ke((function(e){return(0,o.Z)((0,o.Z)({},e),{},{id:He,resourceId:De,typeId:Ae,loggedId:H,customerId:t})}))}),[De,Ae]);var qe=(0,c.useState)({id:He,resourceId:De,typeId:Ae,loggedId:H,customerId:t}),Qe=(0,l.Z)(qe,2),Je=Qe[0],Ke=Qe[1],Ge=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"get",url:F+"/ProjectMS/risks/getAssignedData"}).then((function(e){var t=e.data;U(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Ge(),p()({method:"get",url:F+"/customersms/Customers/getInternStakeDefaultValues?cid=".concat(V)}).then((function(e){var t=e.data;ae(t)}))}),[V]),(0,c.useEffect)((function(){p().get(F+"/customersms/Customers/getInternalStakeholderTypeDropDown").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.lkup_name,value:e.id};t.push(n)})),ee(n)}))}),[]);var Ve=function(){L.current=new AbortController,p()({url:F+"/customersms/Customers/getCustomerEditInternalStakeholders?cid=".concat(t),signal:L.current.signal}).then((function(e){var t=e.data.map((function(e){return(0,o.Z)({ui:"1"},e)}));w((0,a.Z)(t)),le((0,a.Z)(t)),setTimeout((function(){}),1e3)}))};return(0,c.useEffect)((function(){Ve()}),[]),(0,j.jsxs)(j.Fragment,{children:[S?(0,j.jsx)("div",{className:"statusMsg error",children:(0,j.jsxs)("span",{children:[(0,j.jsx)(h.CSE,{}),"\xa0","Please provide valid values for highlighted values"]})}):"",(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"customCard card graph mt-2 mb-2",children:[(0,j.jsx)("div",{className:"group mb-0 customCard",children:(0,j.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,j.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Internal Stakeholders"})})}),(0,j.jsxs)(d.w,{className:"primeReactDataTable eventsTable customerEngament Roles",value:C,editMode:"row",rows:25,showGridlines:!0,paginator:!0,rowHover:!0,highlightOnHover:!0,pagination:!0,paginationPerPage:5,filterDisplay:"row",currentPageReportTemplate:"{first} to {last} of {totalRecords}",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},paginationRowsPerPageOptions:[5,15,25,50],children:[(0,j.jsx)(u.s,{field:"Name",header:"Name",alignHeader:"center",body:function(e){return he&&e.resource_id===ye&&we?(Ee(e.resource_id),(0,j.jsx)("div",{className:"autoComplete-container react  cancel  reactsearchautocomplete",children:(0,j.jsx)(y.ReactSearchAutocomplete,{items:M,id:"resourceId",name:"resourceId",inputSearchString:null==e.Name?"":e.Name,onSelect:function(e){W(e.id),ze(!0),Ke((function(t){return(0,o.Z)((0,o.Z)({},t),{},{resourceId:e.id})}))},showIcon:!1})})):""===e.Name?(0,j.jsx)("div",{className:"autoComplete-container inTable",children:(0,j.jsx)(y.ReactSearchAutocomplete,{items:M,id:"resource_id",name:"resourceId",inputSearchString:null==(null===(t=C.rowData)||void 0===t?void 0:t.Name)?"":null===C||void 0===C||null===(n=C.rowData)||void 0===n?void 0:n.Name,onSelect:function(e){J(e.id),W(e.id)},showIcon:!1})}):(0,j.jsx)(j.Fragment,{children:e.Name});var t,n}},"Name"),(0,j.jsx)(u.s,{field:"depatName",header:"BU",alignHeader:"center",body:function(e){var t,n;return he&&e.resource_id===ye&&we?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},disabled:!0,value:1==Ue?null===(t=re[0])||void 0===t?void 0:t.departmentName:null===e||void 0===e?void 0:e.depatName,readOnly:!0,onFocus:function(e){return e.target.blur()}}):""===e.email?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},value:null===(n=re[0])||void 0===n?void 0:n.departmentName,readOnly:!0,onFocus:function(e){return e.target.blur()}}):(0,j.jsx)(j.Fragment,{children:e.depatName})}},"depatName"),(0,j.jsx)(u.s,{field:"lkup_name",header:"Type",alignHeader:"center",body:function(e){return he&&e.resource_id===ye&&we?(Te(e.type_id),(0,j.jsxs)("select",{id:"typeId",onChange:function(e){return function(e){var t=e.target,n=t.id,a=t.value;Ke((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},n,a))}))}(e)},children:[(0,j.jsx)("option",{value:"",children:"<<Please Select>>"}),null===$||void 0===$?void 0:$.map((function(t,n){return(0,j.jsx)("option",{value:t.id,selected:t.lkup_name==e.lkup_name?e.lkup_name:"",children:t.lkup_name},n)}))]})):""===e.lkup_name?(0,j.jsxs)("select",{onChange:function(e){return me(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"<<Please Select>>"}),null===$||void 0===$?void 0:$.map((function(e,t){return(0,j.jsx)("option",{value:e.id,children:e.lkup_name},t)}))]}):(0,j.jsx)(j.Fragment,{children:e.lkup_name})}},"lkup_name"),(0,j.jsx)(u.s,{field:"Address",header:"Address",alignHeader:"center",body:function(e){var t,n;return he&&e.resource_id===ye&&we?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},disabled:!0,value:1==Ue?null===(t=re[0])||void 0===t?void 0:t.address:e.address,readOnly:!0,onFocus:function(e){return e.target.blur()}}):"1"!=e.ui?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},value:null===(n=re[0])||void 0===n?void 0:n.address,readOnly:!0,onFocus:function(e){return e.target.blur()}}):(0,j.jsx)(j.Fragment,{children:e.address})}},"Address"),(0,j.jsx)(u.s,{field:"Phone",header:"Phone",alignHeader:"center",body:function(e){var t,n;return he&&e.resource_id===ye&&we?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},disabled:!0,value:1==Ue?null===(t=re[0])||void 0===t?void 0:t.Phone:e.Phone,readOnly:!0,onFocus:function(e){return e.target.blur()}}):"1"!=e.ui?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},value:null===(n=re[0])||void 0===n?void 0:n.Phone,readOnly:!0,onFocus:function(e){return e.target.blur()}}):(0,j.jsx)(j.Fragment,{children:e.Phone})}},"Phone"),(0,j.jsx)(u.s,{field:"email",header:"Email",alignHeader:"center",body:function(e){var t,n;return he&&e.resource_id===ye&&we?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},disabled:!0,value:1==Ue?null===(t=re[0])||void 0===t?void 0:t.email_official:e.email,readOnly:!0,onFocus:function(e){return e.target.blur()}}):""===e.email?(0,j.jsx)("input",{type:"text",style:{pointerEvents:"none",cursor:"not-allowed"},value:null===(n=re[0])||void 0===n?void 0:n.email_official,readOnly:!0,onFocus:function(e){return e.target.blur()}}):(0,j.jsx)(j.Fragment,{children:e.email})}},"email"),(0,j.jsx)(u.s,{field:"Actions",header:"Actions",headerStyle:{width:"100px",backgroundColor:"#eeecec"},bodyStyle:{textAlign:"center"},body:function(e){return function(e){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{children:(0,j.jsx)(h.QML,{color:"orange",cursor:"pointer",title:"Edit",onClick:function(){Oe(e.id),xe(!0),je(e.resource_id),ke(!0),Ze(e.type_id),T(!0),E(!1)}})})})}(e)}},"Actions")]})]})}),(0,j.jsxs)("div",{className:"form-group col-md-2 btn-container-events center my-3",children:[(0,j.jsxs)("button",{className:"btn btn-primary",disabled:A,title:"Add new row",onClick:function(){!function(){A||(T(!0),E(!1));var e={Name:"",depatName:"",lkup_name:"",Address:"",Phone:"",email:"",Action:0,ui:"new"};w((function(t){return[e].concat((0,a.Z)(t))}))}()},children:[(0,j.jsx)(x.WZt,{size:"1.2em"})," Add"]}),(0,j.jsxs)("button",{className:"btn btn-primary",disabled:D,title:"Save row",onClick:function(){!function(e){var r;r=""==He?{loggedId:H,customerId:t,resourceId:Q,typeId:ue}:Je,void 0==Q?Z(!0):(p()({method:"post",url:F+"/customersms/Customers/postCustomersInternalStakeholders",data:r}).then((function(e){Ve(),Z(!1),n(!0),setTimeout((function(){n(!1)}),3e3)})),E(!0),T(!1),ae(""))}()},children:[(0,j.jsx)(v.UQg,{size:"0.9em"})," Save"]}),(0,j.jsxs)("button",{className:"btn btn-secondary",disabled:D,title:"Cancel row editing",onClick:function(){w(oe),Z(!1),E(!0),T(!1),ae(""),me(""),J(""),ke(!1),ze(!1)},children:[(0,j.jsx)(g.sQZ,{})," Cancel"]})]})]})}},89886:function(e,t,n){var r=n(93433),a=n(74165),i=n(15861),s=n(29439),o=n(72791),l=n(37145),c=n(1063),d=n(74569),u=n.n(d),m=n(34831),p=n(78820),f=n(70828),h=n(63521),x=n(56355),v=n(80184);t.Z=function(e){var t=e.customerId,n=e.setCsAddMessage,d=(0,o.useState)([]),g=(0,s.Z)(d,2),y=g[0],j=g[1],b=(0,o.useState)([]),C=(0,s.Z)(b,2),w=(C[0],C[1]),k=(0,o.useState)(!1),N=(0,s.Z)(k,2),S=N[0],Z=N[1],_=(0,o.useState)(!0),P=(0,s.Z)(_,2),D=P[0],E=P[1],I=(0,o.useState)(!1),R=(0,s.Z)(I,2),A=R[0],T=R[1],F=m.N.baseUrl,L=(0,o.useRef)(null),H=(0,o.useRef)(null),O=(0,o.useState)([]),B=(0,s.Z)(O,2),M=B[0],U=B[1],z=(0,o.useState)([]),q=(0,s.Z)(z,2),Q=q[0],J=q[1],K=(0,o.useState)(""),G=(0,s.Z)(K,2),V=G[0],W=G[1],X=localStorage.getItem("resId"),Y=document.getElementsByClassName("p-paginator-next p-paginator-element p-link"),$=document.getElementsByClassName("p-paginator-last p-paginator-element p-link"),ee=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"get",url:F+"/customersms/Customers/getDivisionNames?cid=".concat(t)}).then((function(e){var t=e.data;U(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){ee()}),[]);var te=function(e){Object.keys(e).forEach((function(t){if(["",null,void 0," "].includes(e[t]))return j(y.slice(1)),void T((function(e){return!e}))}))};(0,o.useEffect)((function(){u().get(F+"/customersms/Customers/getTypeDropdown").then((function(e){var t=[],n=e.data;n.length>0&&n.forEach((function(e){var n={label:e.lkup_name,value:e.id};t.push(n)})),J(n)}))}),[]),(0,o.useEffect)((function(){var e,t,n,r=y[0];if(null===(e=Y[0])||void 0===e||e.addEventListener("click",(function(){te(r)})),null===(t=$[0])||void 0===t||t.addEventListener("click",(function(){te(r)})),""==(null===(n=y[0])||void 0===n?void 0:n.name)){var a=document.getElementsByClassName("customerStakeholder")[0].children[0].children[0].children[1].children[0].children[6].children[1];a.setAttribute("title","Edit selected row"),a.click(),setTimeout((function(){document.getElementsByClassName("p-row-editor-save p-link")[0].setAttribute("title","Save row");var e=document.getElementsByClassName("p-row-editor-cancel p-link")[0];e.setAttribute("title","Cancel row editing"),null===e||void 0===e||e.addEventListener("click",(function(e){var t;""==(null===(t=y[0])||void 0===t?void 0:t.name)&&(j(y.slice(1,y.length)),E(!0),Z(!1),T(!1),H.current.forceUpdate())}),!0)}),200)}}),[y]);var ne=function(){L.current=new AbortController,u()({url:F+"/customersms/Customers/getCustomerEditStakeholders?cid=".concat(t),signal:L.current.signal}).then((function(e){var t=e.data;j((function(){return t})),setTimeout((function(){}),1e3)}))},re=function(e){e.divisionId=void 0==V.name?e.divisionId:V.name,e.divisionId=void 0==V.id?e.divisionId:V.id,""==e.name||""==e.typeId||""==e.phone||""==e.email||""==e.address?Z(!0):(u()({method:"post",url:F+"/customersms/Customers/postCustomersExternalStakeholders",data:{id:e.id,loggedId:X,customerId:t,Name:e.name,division:e.divisionId,type:e.typeId,address:e.address,phone:e.phone,email:e.email}}).then((function(e){ne(),Z(!1),n(!0),setTimeout((function(){n(!1)}),3e3)})),E(!0),T(!1))};return(0,o.useEffect)((function(){ne()}),[]),(0,v.jsxs)(v.Fragment,{children:[S?(0,v.jsx)("div",{className:"statusMsg error",children:(0,v.jsxs)("span",{children:[(0,v.jsx)(p.CSE,{}),"\xa0","Please provide valid values for highlighted values"]})}):"",(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"customCard card graph mt-2 mb-2",children:[(0,v.jsx)("div",{className:"group mb-0 customCard",children:(0,v.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,v.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Customer Stakeholders"})})}),(0,v.jsx)("div",{className:" p-fluid darkHeader mb-2",children:(0,v.jsxs)(l.w,{className:"primeReactDataTable projDependenciesTable customerStakeholder",value:y,editMode:"row",rows:25,showGridlines:!0,paginator:!0,rowHover:!0,onRowEditComplete:function(e){var t=(0,r.Z)(y),n=e.newData;t[e.index]=n,j(t),re(e.newData)},tableStyle:{minWidth:"auto",width:"auto"},filterDisplay:"row",currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[10,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},children:[(0,v.jsx)(c.s,{field:"name",header:(0,v.jsx)("span",{children:"Name"}),style:{width:"220px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"name",title:e.name,value:e.name,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return w(e.rowData.id),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"error ".concat(S&&!e.rowData.name?"error-block":""),id:"name",type:"text",value:e.rowData.name,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,v.jsx)(c.s,{field:"divisionName",header:(0,v.jsx)("span",{children:"Division"}),style:{width:"220px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"divisionName",title:e.divisionName,value:e.divisionName,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"autoComplete-container",children:(0,v.jsx)("div",{className:" ".concat(S&&!e.rowData.divisionName?"error-block":""),children:(0,v.jsx)(h.ReactSearchAutocomplete,{items:M,autoFocus:!0,id:"divisionId",name:"divisionId",inputSearchString:null==e.rowData.divisionName?"":e.rowData.divisionName,onSelect:function(e){W(e)},onClear:function(){},showIcon:!1})})})})}(e)}}),(0,v.jsx)(c.s,{field:"typeName",header:(0,v.jsx)("span",{children:"Type"}),style:{width:"300px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"type_id",title:e.typeName,value:e.typeName,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){var t;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("select",{className:"error ".concat(!S||null!==e&&void 0!==e&&null!==(t=e.products)&&void 0!==t&&t.lkup_name?"":"error-block"),id:"type_id",name:"typeId",type:"text",value:e.rowData.lkup_name,onChange:function(t){e.editorCallback(t.target.value),Q.map((function(n){n.id==t.target.value&&(e.rowData.value=n.lkup_name,e.rowData.typeId=t.target.value)}))},children:[(0,v.jsx)("option",{value:"",children:"<<Please Select>>"}),null===Q||void 0===Q?void 0:Q.map((function(t,n){return(0,v.jsx)("option",{value:t.id,selected:t.id==e.rowData.typeId,children:t.lkup_name},n)}))]})})}(e)}}),(0,v.jsx)(c.s,{field:"address",header:(0,v.jsx)("span",{children:"Address"}),style:{width:"220px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"address",title:e.address,value:e.address,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"error ".concat(S&&!e.rowData.address?"error-block":""),id:"address",type:"text",value:e.rowData.address,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,v.jsx)(c.s,{field:"phone",header:(0,v.jsx)("span",{children:"Phone"}),style:{width:"220px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"phone",title:e.phone,value:e.phone,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"error ".concat(S&&!e.rowData.phone?"error-block":""),id:"phone",type:"text",maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},value:e.rowData.phone,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,v.jsx)(c.s,{field:"email",header:(0,v.jsx)("span",{children:" Email"}),style:{width:"220px"},body:function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"ellipsis",id:"email",title:e.email,value:e.email,type:"text",autoComplete:"off",required:!0,disabled:!0})})},editor:function(e){return function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("input",{className:"error ".concat(S&&!e.rowData.email?"error-block":""),id:"email",type:"text",value:e.rowData.email,onChange:function(t){e.editorCallback(t.target.value)}})})}(e)}}),(0,v.jsx)(c.s,{field:"Actions",header:"Actions",rowEditor:!0,headerStyle:{width:"100px",backgroundColor:"#eeecec"},bodyStyle:{textAlign:"center"}})]})})]})}),(0,v.jsxs)("div",{className:"form-group col-md-2 btn-container-events center my-3",children:[(0,v.jsxs)("button",{className:"btn btn-primary",disabled:A,title:"Add new row",onClick:function(){document.getElementsByClassName("p-paginator-first p-paginator-element p-link")[1].click(),A||(T(!0),E(!1));var e=[];e.push({typeId:"",typeName:"",phone:"",id:"",name:"",email:"",address:"",divisionName:"",divisionId:""}),j([].concat(e,(0,r.Z)(y)))},children:[(0,v.jsx)(x.wEH,{})," Add"]}),(0,v.jsxs)("button",{className:"btn btn-primary",disabled:D,title:"Save row",onClick:function(){!function(){var e;null===(e=document.getElementsByClassName("p-row-editor-save-icon pi pi-fw pi-check")[0])||void 0===e||e.click()}()},children:[(0,v.jsx)(x.TvB,{})," Save"]}),(0,v.jsxs)("button",{className:"btn btn-secondary",disabled:D,title:"Cancel row editing",onClick:function(){!function(){var e;null===(e=document.getElementsByClassName("p-row-editor-cancel p-link")[0])||void 0===e||e.click(),Z(!1)}()},children:[(0,v.jsx)(f.sQZ,{fontSize:"11px"})," Cancel"]})]})]})}},24205:function(e,t,n){var r=n(4942),a=n(1413),i=n(29439),s=n(72791),o=n(63521),l=n(80184);t.Z=function(e){var t=e.riskDetails,n=e.getData,c=e.setFormData,d=(e.editedData,e.formEditData),u=e.onChangeHandler,m=e.refArr,p=(e.setUsername,e.name),f=e.id,h=e.value,x=e.onClear,v=e.inputSearchString,g=(0,s.useState)([]),y=(0,i.Z)(g,2),j=y[0];return y[1],(0,s.useEffect)((function(){}),[j]),(0,s.useEffect)((function(){}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"autoComplete-container",children:"UpdateBillingRate"==h?(0,l.jsx)(o.ReactSearchAutocomplete,{items:t,type:"Text",name:p,inputSearchString:null===d||void 0===d?void 0:d.assigned_to,id:f,className:"err",riskDetails:t,getData:n,onClear:x,placeholder:"Type minimum 3 characters",onChange:function(e){u(e),console.log("789------------------------")},onSelect:function(e){c((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},p,e.id))})),c((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},"Resname",e.name))}))},showIcon:!1}):"EngagementS"==h?(0,l.jsx)(o.ReactSearchAutocomplete,{items:t,type:"Text",name:p,inputSearchString:null===d||void 0===d?void 0:d.assigned_to,id:f,className:"err",riskDetails:t,getData:n,onClear:function(e){c((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},p,""))})),console.log(p)},placeholder:"Type minimum 3 characters",onChange:function(e){u(e)},onSelect:function(e){c((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},p,e.id))}))},showIcon:!1,showNoResults:!0,showNoResultsText:"<<ALL>>"}):(0,l.jsx)("div",{className:"auto autocomplete",id:"auto",ref:function(e){void 0!=m&&(m.current[0]=e)},children:(0,l.jsx)(o.ReactSearchAutocomplete,{items:t,type:"Text",name:p,placeholder:"Type minimum 3 characters",inputSearchString:v,id:f,className:"err",onClear:x,riskDetails:t,getData:n,onChange:function(e){u(e),console.log("123---------------")},onSelect:function(e){c((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},p,e.id))}))},showIcon:!1})})}),(0,l.jsx)("span",{children:j.name})]})}}}]);
//# sourceMappingURL=5065.d8546db6.chunk.js.map