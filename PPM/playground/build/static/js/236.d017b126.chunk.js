"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[236],{40236:function(e,t,s){s.r(t),s.d(t,{default:function(){return ce}});var n=s(29439),a=s(72791),l=s(86227),i=s(44109),r=s(2797),c=s(93433),o=(s(41980),s(39122),s(31896),s(81975),s(34831)),d=s(74569),u=s.n(d),m=s(47477),h=s(1063),p=s(11087),x=s(83854),v=s(24745),j=s(38262),f=s(80184);var g=function(e){var t,s=e.customerId,l=(0,a.useState)([{}]),i=(0,n.Z)(l,2),r=i[0],d=i[1],m=o.N.baseUrl,g=(0,a.useState)([]),N=(0,n.Z)(g,2),y=N[0],b=N[1],S=(0,a.useState)([]),C=(0,n.Z)(S,2),Z=C[0],I=C[1],w=(0,a.useState)([]),_=(0,n.Z)(w,2),k=_[0],P=_[1],T=(0,a.useState)({}),D=(0,n.Z)(T,2),F=D[0],E=D[1],M=(0,a.useState)(1),A=(0,n.Z)(M,2),O=A[0],R=A[1],H=(0,a.useState)(!1),L=(0,n.Z)(H,2),U=L[0],B=L[1],z=(0,a.useRef)(null),V=(0,a.useState)([]),K=(0,n.Z)(V,2);K[0],K[1];var J=function(){B(!1),z.current=new AbortController,u()({method:"post",url:m+"/customersms/Customers/getCustProjects",data:{customerId:s,projectStatusId:O},signal:z.current.signal,headers:{"Content-Type":"application/json"}}).then((function(e){var t=function(e){var t=(0,c.Z)(e);return t.sort((function(e,t){var s=e.prj_health?e.prj_health.toUpperCase():"",n=t.prj_health?t.prj_health.toUpperCase():"";return s<n?-1:s<n?1:0})),t}(e.data);I(["project_name"]),P(["/project/Overview/:project_id"]),B(!1),d([{prj_health:"Health",project_code:"Project Code",project_name:"Project",contract_terms:"Contract Terms",business_unit:"Business Unit",prj_manager:"Primary Manager",prj_stage:"Status",planned_start_dt:"Planned Start",planned_end_dt:"Planned End",actual_start_dt:"Actual Start",actual_end_dt:"Actual End"}].concat(t))}))};(0,a.useEffect)((function(){}),[O]),(0,a.useEffect)((function(){J()}),[O]),(0,a.useEffect)((function(){r[0]&&b(JSON.parse(JSON.stringify(r[0])))}),[r]);var Y=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.prj_manager,children:e.prj_manager})},X=function(e){return(0,f.jsx)("div",{className:"legendContainer align center",children:"Serious Issues"==e.prj_health?(0,f.jsx)("div",{className:"legend red",children:(0,f.jsx)("div",{className:"legendCircle ",title:"Serious Issues"})}):"Potential Issues"==e.prj_health?(0,f.jsx)("div",{className:"legend amber",children:(0,f.jsx)("div",{className:"legendCircle ",title:"Potential Issues"})}):null==e.prj_health?(0,f.jsx)("div",{className:"legend black",children:(0,f.jsx)("div",{className:"legendCircle ",title:"Not Available"})}):"On Schedule"==e.prj_health?(0,f.jsx)("div",{className:"legend green",children:(0,f.jsx)("div",{className:"legendCircle ",title:"On Schedule"})}):""})},q=function(e){return(0,f.jsx)("div",{title:e.prj_stage,children:e.prj_stage})},G=function(e){return(0,f.jsx)("div",{className:"ellipsis",title:e.business_unit,children:e.business_unit})},Q=function(e){return(0,f.jsx)("div",{title:e.contract_terms,children:e.contract_terms})},W=function(e){return(0,f.jsx)("div",{className:"ellipsis",title:e.project_code,style:{width:"116px"},children:e.project_code})},$=function(e){return(0,f.jsx)("div",{className:"align center",title:e.planned_start_dt,children:e.planned_start_dt})},ee=function(e){return(0,f.jsx)("div",{className:"align center",title:e.actual_start_dt,children:e.actual_start_dt})},te=function(e){return(0,f.jsx)("div",{className:"align center",title:e.actual_end_dt,children:e.actual_end_dt})},se=function(e){return(0,f.jsx)("div",{className:"align center",title:e.planned_end_dt,children:e.planned_end_dt})},ne=function(e){var t,s=null===(t=k[0])||void 0===t?void 0:t.split(":");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.rU,{target:"_blank",to:s[0]+":"+e[s[1]],title:e.project_name,children:e[Z[0]]})})},ae=null===(t=Object.keys(y))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,body:"actual_end_dt"==e?te:"actual_start_dt"==e?ee:"prj_stage"==e?q:"business_unit"==e?G:"contract_terms"==e?Q:"project_code"==e?W:"project_name"==e?ne:"prj_manager"==e?Y:"planned_end_dt"==e?se:"planned_start_dt"==e?$:"prj_health"==e&&X,field:e,header:y[e]},e)}));(0,a.useEffect)((function(){E({id:"filterTable",type:"select",data:{1:"Active",0:"All"},align:"right",filterTable:""})}),[]);var le=localStorage.getItem("resId"),ie=(0,a.useState)([]),re=(0,n.Z)(ie,2),ce=re[0],oe=re[1];(0,a.useEffect)((function(){de()}),[]);var de=function(){u()({method:"GET",url:m+"/CommonMS/master/getMenus?loggedUserId=".concat(le)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&oe([e])}))}))};return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Overview"})}),(0,f.jsx)("div",{className:"childThree"})]}),(0,f.jsx)(j.Z,{routes:ce,currentScreenName:["Customer Search","Overview"]}),(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"legendContainer",children:[(0,f.jsx)("p",{className:"font-weight-bold",children:"Project Health:"}),(0,f.jsxs)("div",{className:"legend green",children:[(0,f.jsx)("div",{className:"legendCircle "}),(0,f.jsx)("div",{className:"legendTxt",children:"On Schedule"})]}),(0,f.jsxs)("div",{className:"legend amber",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Potential Issues"})]}),(0,f.jsxs)("div",{className:"legend red",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Serious Issues"})]}),(0,f.jsxs)("div",{className:"legend black",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Not Available"})]})]})}),U?(0,f.jsx)(x.Z,{handleAbort:function(){z.current&&z.current.abort(),setsearching(!1)}}):"",(0,f.jsx)(v.Z,{data:r,linkColumns:Z,linkColumnsRoutes:k,headerData:y,rows:25,setHeaderData:b,dynamicColumns:ae,customFilters:F,customFilterValue:O,setCustomFilterValue:R})]})},N=s(4942),y=s(1413),b=s(78820),S=s(78983),C=s(59962),Z=s.n(C),I=s(72426),w=s.n(I),_=s(63521),k=s(53329),P=s(32125);var T=function(e){var t=e.buttonPopup,s=e.setButtonPopup,l=(e.data1,e.customerId),i=e.getData,r=e.editId,c=e.type,d=(e.setEditedData,e.editedData),m=e.setFormData,h=(e.formData,e.setAddmsg),p=e.setEditAddmsg,x=o.N.baseUrl,v=(0,a.useState)(""),j=(0,n.Z)(v,2),g=(j[0],j[1],(0,a.useRef)([])),C=(0,a.useState)(m),Z=(0,n.Z)(C,2),I=(Z[0],Z[1],(0,a.useState)(d)),w=(0,n.Z)(I,2),_=w[0],T=w[1],D=(0,a.useState)(0),F=(0,n.Z)(D,2),E=(F[0],F[1]),M=(0,a.useState)(!1),A=(0,n.Z)(M,2),O=A[0],R=A[1];return(0,f.jsx)("div",{children:(0,f.jsxs)(S.Tk,{size:"xs",visible:t,onClose:function(){s(!1)},backdrop:"static",children:[(0,f.jsx)(S.p0,{className:"hgt22",style:{cursor:"all-scroll"},children:(0,f.jsx)(S.fl,{children:"add"==c?(0,f.jsx)("span",{className:"ft16",children:" Add Initiative"}):(0,f.jsx)("span",{className:"ft16",children:" Edit Initiative"})})}),(0,f.jsxs)(S.sD,{children:[(0,f.jsxs)("div",{className:"col-md-12",children:[O?(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{className:"error-block",children:[(0,f.jsx)(b.CSE,{})," \xa0Please select valid values for highlighted fields"]})}):"",(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"form-label",children:["Initiative\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[0]=e},children:"add"==c?(0,f.jsx)("input",{name:"initiative",id:"initiative",type:"text",placeholder:"Max 50 character",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"Initiative",e.target.value))}))}}):(0,f.jsx)("input",{type:"text",name:"initiative",id:"initiative",placeholder:"Max 50 character",maxLength:50,defaultValue:d.Initiative,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"Initiative",e.target.value))}))}})})]})]}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"form-label",children:["Function Area\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[1]=e},children:"add"==c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"functionArea",id:"functionArea",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"FunctionArea",e.target.value))}))}}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"functionArea",id:"functionArea",maxLength:50,defaultValue:d.FunctionArea,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"FunctionArea",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"",children:["Current Status\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[2]=e},children:"add"==c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"curStatus",id:"curStatus",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"CurStatus",e.target.value))}))}}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"curStatus",id:"curStatus",maxLength:50,defaultValue:d.CurStatus,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"CurStatus",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Date",children:["Innovative Technology\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[3]=e},children:"add"==c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"innTech",id:"innTech",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"InnTech",e.target.value))}))}}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"innTech",id:"innTech",maxLength:50,defaultValue:d.InnTech,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"InnTech",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Date",children:["Customer Stakeholder\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[4]=e},children:"add"==c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"cusStake",id:"cusStake",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"CusStake",e.target.value))}))}}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 character",name:"cusStake",id:"cusStake",maxLength:50,defaultValue:d.CusStake,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"CusStake",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"",children:"Primary Objective"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:"add"==c?(0,f.jsx)("textarea",{type:"text",name:"primObj",id:"primObj",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"PrimObj",e.target.value))}))}}):(0,f.jsx)("textarea",{type:"text",name:"primObj",id:"primObj",maxLength:50,defaultValue:d.PrimObj,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"PrimObj",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"",children:"Description"}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6",children:"add"==c?(0,f.jsx)("textarea",{type:"text",name:"des",id:"des",maxLength:50,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"Des",e.target.value))}))}}):(0,f.jsx)("textarea",{type:"text",name:"Des",id:"Des",maxLength:50,defaultValue:d.Des,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"Des",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:'className="col-md-12 col-sm-12 col-xs-12 btn-container center my-3',children:"add"==c?(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){(0,P.Z)(g)?R(!0):u()({method:"post",url:x+"/customersms/initiatives/postintiativedata",data:{id:null,cusId:l,initiative:_.Initiative,functionArea:_.FunctionArea,curStatus:_.CurStatus,innTech:_.InnTech,cusStake:_.CusStake,primObj:_.PrimObj,des:_.Des}}).then((function(e){i(),E(),s(!1),h(!0),setTimeout((function(){h(!1)}),3e3)}))},children:[(0,f.jsx)(k.Z,{}),"Save"]}):(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){(0,P.Z)(g)?R(!0):u()({method:"post",url:x+"/customersms/initiatives/postintiativedata",data:{id:r,cusId:l,initiative:_.Initiative,functionArea:_.FunctionArea,curStatus:_.CurStatus,innTech:_.InnTech,cusStake:_.CusStake,primObj:_.PrimObj,des:_.Des}}).then((function(e){i(),E(),s(!1),p(!0),setTimeout((function(){p(!1)}),3e3)}))},children:[(0,f.jsx)(k.Z,{}),"Save"]})})]})]})})},D=s(7692),F=(s(29718),s(70828)),E=s(56355);var M=function(e){var t,s=e.customerId,l=e.mainMenu,i=(e.filteredData,l.find((function(e){return"Initiatives"===e.display_name}))),r=(0,a.useState)([{}]),c=(0,n.Z)(r,2),d=c[0],m=c[1],p=(0,a.useState)(!1),x=(0,n.Z)(p,2),g=x[0],C=x[1],Z=(0,a.useState)(!1),I=(0,n.Z)(Z,2),w=I[0],_=I[1],k=(0,a.useState)(""),P=(0,n.Z)(k,2),M=(P[0],P[1],o.N.baseUrl),A=(0,a.useState)(!1),O=(0,n.Z)(A,2),R=(O[0],O[1],(0,a.useState)(!1)),H=(0,n.Z)(R,2),L=H[0],U=H[1],B=(0,a.useState)([]),z=(0,n.Z)(B,2),V=z[0],K=z[1],J=(0,a.useState)([]),Y=(0,n.Z)(J,2),X=Y[0],q=Y[1],G=(0,a.useState)([]),Q=(0,n.Z)(G,2),W=Q[0],$=(Q[1],(0,a.useState)("add")),ee=(0,n.Z)($,2),te=ee[0],se=ee[1],ne=(0,a.useState)([]),ae=(0,n.Z)(ne,2),le=ae[0],ie=ae[1],re=(0,a.useState)(),ce=(0,n.Z)(re,2),oe=ce[0],de=ce[1],ue=(0,a.useState)(!1),me=(0,n.Z)(ue,2),he=me[0],pe=me[1],xe=(0,a.useState)(!1),ve=(0,n.Z)(xe,2),je=ve[0],fe=ve[1],ge=(0,a.useState)(""),Ne=(0,n.Z)(ge,2),ye=Ne[0],be=Ne[1],Se={id:null,initiative:"",functionArea:"",curStatus:"",innTech:"",cusStake:"",primObj:"",des:""},Ce=(0,a.useState)(Se),Ze=(0,n.Z)(Ce,2),Ie=Ze[0],we=Ze[1];(0,a.useEffect)((function(){}),[le]);var _e=localStorage.getItem("resId"),ke=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"center","data-toggle":"tooltip",title:e.SNo,children:e.SNo})},Pe=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.Initiative,children:e.Initiative})},Te=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.FunctionArea,children:e.FunctionArea})},De=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.CurStatus,children:e.CurStatus})},Fe=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.InnTech,children:e.InnTech})},Ee=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.CusStake,children:e.CusStake})},Me=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.PrimObj,children:e.PrimObj})},Ae=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.Des,children:e.Des})},Oe=function(){u().get(M+"/customersms/initiatives/getInitiativesDetails?Iid=".concat(s)).then((function(e){for(var t=e.data,s=0;s<t.length;s++)t[s].SNo=s+1;q(["Action"]),m([{SNo:"S.No",Initiative:"Initiatives",FunctionArea:"Function Area",CurStatus:"Current Status",InnTech:"Innovative Technology",CusStake:"Customer Stakeholders",PrimObj:"Primary Objective",Des:"Description",Action:"Action"}].concat(t))})).catch((function(e){}))};(0,a.useEffect)((function(){Oe()}),[]);var Re=function(e){X[0];return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{align:"center",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.QML,{color:"orange",cursor:"pointer",type:"edit",size:"1.2em",title:"Edit",onClick:function(){ie(e),de(e.id),U(!0),se("edit")},align:"center"}),"\xa0",(0,f.jsx)(b.YK6,{color:"orange",cursor:"pointer",type:"delete",title:"Delete",onClick:function(){pe(!0),se("delete"),be(e.id)},align:"center"})]})})})},He=null===(t=Object.keys(V))||void 0===t?void 0:t.map((function(e,t){return i.is_write||"SNo"===e||"Initiative"===e||"FunctionArea"===e||"CurStatus"===e||"InnTech"===e||"CusStake"===e||"PrimObj"===e||"Des"===e?(0,f.jsx)(h.s,{sortable:!0,body:"SNo"===e&&ke||"Action"===e&&Re||"Initiative"===e&&Pe||"FunctionArea"===e&&Te||"CurStatus"===e&&De||"InnTech"===e&&Fe||"CusStake"===e&&Ee||"PrimObj"===e&&Me||"Des"===e&&Ae,field:e,header:V[e]},e):null}));(0,a.useEffect)((function(){d[0]&&K(JSON.parse(JSON.stringify(d[0])))}),[d]);var Le=function(){u()({method:"delete",url:M+"/customersms/initiatives/deleteintiativedata?id=".concat(ye)}).then((function(e){Oe(),pe(!1),fe(!0),setTimeout((function(){fe(!1)}),3e3)}))};function Ue(e){var t=e.deletePopup,s=e.setDeletePopup;e.editId,e.deleteid;return(0,f.jsx)("div",{children:(0,f.jsxs)(S.Tk,{visible:t,size:"m",className:" ui-dialog",onClose:function(){return s(!1)},backdrop:"static",children:[(0,f.jsx)(S.p0,{className:"hgt22",children:(0,f.jsx)(S.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Delete Initiative"})})}),(0,f.jsxs)(S.sD,{children:[(0,f.jsx)("h6",{children:"Are you sure you want to Delete Initiative ?"}),(0,f.jsxs)("div",{className:"btn-container center my-2",children:[(0,f.jsxs)("button",{type:"delete",className:"btn btn-primary",onClick:function(){Le()},children:[(0,f.jsx)(b.YK6,{})," Delete"," "]}),(0,f.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){s(!1)},children:[(0,f.jsx)(F.sQZ,{})," Cancel"," "]})]})]})]})})}var Be=(0,a.useState)([]),ze=(0,n.Z)(Be,2),Ve=ze[0],Ke=ze[1];(0,a.useEffect)((function(){Je()}),[]);var Je=function(){u()({method:"GET",url:M+"/CommonMS/master/getMenus?loggedUserId=".concat(_e)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&Ke([e])}))}))};return(0,f.jsxs)("div",{children:[je?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," ","\xa0Initiative deleted successfully"]})}):"",g?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," \xa0 Initiative saved successfully"]})}):"",w?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," \xa0 Initiative upadated successfully"]})}):"",(0,f.jsxs)("div",{className:"col-md-12",children:[(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne",children:(0,f.jsx)("h2",{children:"Prolifics"})}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Initiatives"})}),(0,f.jsx)("div",{className:"childThree"})]}),(0,f.jsx)(j.Z,{routes:Ve,currentScreenName:["Customer Search","Initiatives"]}),1==i.is_write?(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-11"}),(0,f.jsx)("div",{className:"col-md-1",children:(0,f.jsxs)("button",{onClick:function(){U(!0),se("add")},className:"btn btn-primary mt-2 mb-2",children:[(0,f.jsx)(E.wEH,{}),"Add"]})})]}):"",(0,f.jsx)(v.Z,{data:d,linkColumns:X,linkColumnsRoutes:W,dynamicColumns:He,headerData:V,setHeaderData:K,rows:25})]}),L?(0,f.jsx)(T,{handleChange:function(e){var t=e.target,s=t.id,n=t.value;we((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))}))},formData:Ie,setFormData:Ie,editId:oe,setEditedData:ie,editedData:le,type:te,getData:Oe,data1:Se,setAddmsg:C,setEditAddmsg:_,customerId:s,data:d,buttonPopup:L,setButtonPopup:U}):"",he?(0,f.jsx)(Ue,{editId:oe,deletePopup:he,setDeletePopup:pe}):"",(0,f.jsx)("br",{})]})};s(72572);var A=function(e){var t,s,l=e.customerId,i=(0,a.useState)([{}]),r=(0,n.Z)(i,2),d=r[0],v=r[1],g=(0,a.useState)([]),N=(0,n.Z)(g,2),y=N[0],b=N[1],S=o.N.baseUrl,C=(0,a.useState)(!1),Z=(0,n.Z)(C,2),I=Z[0],_=Z[1],k=(0,a.useRef)(null),P=(0,a.useState)([]),T=(0,n.Z)(P,2),D=T[0],F=T[1],E=(0,a.useState)([]),M=(0,n.Z)(E,2),A=M[0],O=M[1],R=(0,a.useState)([]),H=(0,n.Z)(R,2),L=H[0],U=H[1],B=localStorage.getItem("resId"),z=function(e){var t,s=null===(t=L[0])||void 0===t?void 0:t.split(":");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.rU,{target:"_blank",to:s[0]+":"+e[s[1]],"data-toggle":"tooltip",title:e.project_name_code,children:e[A[0]]})})},V=function(e){return(0,f.jsx)("div",{align:"right",children:e.Risk_value})},K=function(e){return(0,f.jsx)("div",{align:"center",children:e.sno})},J=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.Risk_Name,children:e.Risk_Name})},Y=function(e){return(0,f.jsx)("div",{style:{width:"110px"},children:e.probof_occurrence})},X=null===(t=Object.keys(D))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,body:"project_name_code"==e?z:"Risk_value"==e?V:"Risk_Name"==e?J:"sno"==e?K:"probof_occurrence"==e&&Y,field:e,header:D[e]},e)}));(0,a.useEffect)((function(){d[0]&&F(JSON.parse(JSON.stringify(d[0])))}),[d]),(0,a.useEffect)((function(){_(!1),k.current=new AbortController,u()({method:"get",url:S+"/customersms/Customers/getCustomerRisks?cid=".concat(l),signal:k.current.signal}).then((function(e){for(var t=e.data,s=0;s<t.length;s++)t[s].Risk_occurred=1==t[s].Risk_occurred?"Yes":"No",t[s].risk_occured_date=null==t[s].risk_occured_date?"":w()(t[s].risk_occured_date).format("DD-MMM-yyyy"),t[s].sno=s+1,t[s].mitigation_date=null==t[s].mitigation_date?"":w()(t[s].mitigation_date).format("DD-MMM-yyyy");O(["project_name_code"]),U(["/project/Overview/:projectId"]);var n=[].concat([{sno:"S.No",project_name_code:"Project Name / Project Code",Risk_Name:"Risk Name",Risk_type:"Risk Type",Risk_source:"Risk Source",Risk_impact:"Risk Impact",probof_occurrence:"Probability of Occurrence",Risk_value:"Risk Value",AssignedTo:"Assigned To",Risk_occurred:"Risk Occurred",Risk_status:"Risk Status",risk_occured_date:"Occurred Date",mitigation_date:"Mitigation Date",created_by_name:"Created By"}],(0,c.Z)(t));v(n),_(!1)})),u()({method:"get",url:S+"/customersms/Customers/getProjectName?cid=".concat(l)}).then((function(e){var t=e.data;b(t)}))}),[]);var q=(0,a.useState)([]),G=(0,n.Z)(q,2),Q=G[0],W=G[1];(0,a.useEffect)((function(){$()}),[]);var $=function(){u()({method:"GET",url:S+"/CommonMS/master/getMenus?loggedUserId=".concat(B)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&W([e])}))}))};return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne",children:(0,f.jsx)("h2",{children:null===(s=y[0])||void 0===s?void 0:s.full_name})}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Risks"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(j.Z,{routes:Q,currentScreenName:["Customer Search","Risks"]}),I?(0,f.jsx)(x.Z,{handleAbort:function(){k.current&&k.current.abort(),_(!1)}}):"",(0,f.jsx)(m.Z,{data:d,rows:20,linkColumns:A,linkColumnsRoutes:L,dynamicColumns:X,headerData:D,setHeaderData:F})]})},O=s(11167);var R=function(e){var t=e.buttonPopup,s=e.setButtonPopup,l=e.customerId,i=e.getData,r=e.editId,c=e.type,d=e.editedData,m=e.formData,h=e.setAddmsg,p=e.setEditAddmsg,x=o.N.baseUrl,v=(0,a.useRef)([]),j=(0,a.useState)(m),g=(0,n.Z)(j,2),C=g[0],Z=g[1],I=(0,a.useState)(d),w=(0,n.Z)(I,2),_=w[0],T=w[1],D=(0,a.useState)(0),F=(0,n.Z)(D,2),E=(F[0],F[1]),M=(0,a.useState)(!1),A=(0,n.Z)(M,2),O=A[0],R=A[1],H=(0,a.useState)([]),L=(0,n.Z)(H,2),U=L[0],B=L[1],z=(0,a.useState)([]),V=(0,n.Z)(z,2),K=V[0],J=V[1],Y=(0,a.useState)([]),X=(0,n.Z)(Y,2),q=X[0],G=X[1],Q=function(e){var t=e.target,s=t.id,n=t.value;Z((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))}))};return(0,a.useEffect)((function(){u()({method:"get",url:x+"/customersms/getPriority"}).then((function(e){var t=e.data;B(t)})),u()({method:"get",url:x+"/customersms/getRelationshipStrength"}).then((function(e){var t=e.data;J(t)})),u()({method:"get",url:x+"/customersms/getEngagementLevel"}).then((function(e){var t=e.data;G(t)}))}),[]),(0,f.jsx)("div",{children:(0,f.jsxs)(S.Tk,{size:"xs",visible:t,onClose:function(){s(!1)},backdrop:"static",children:[(0,f.jsx)(S.p0,{className:"hgt22",style:{cursor:"all-scroll"},children:(0,f.jsx)(S.fl,{children:"add"==c?(0,f.jsx)("span",{className:"ft16",children:" Add Relationship Heatmap"}):(0,f.jsx)("span",{className:"ft16",children:" Edit Relationship Heatmap"})})}),(0,f.jsxs)(S.sD,{children:[(0,f.jsxs)("div",{className:"col-md-12",children:[O?(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{className:"error-block",children:[(0,f.jsx)(b.CSE,{})," \xa0Please select valid values for highlighted fields"]})}):"",(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"",children:["Name\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){v.current[0]=e},children:"add"===c?(0,f.jsx)("input",{className:"text",type:"text",placeholder:"Max 50 characters",name:"name",id:"name",maxLength:50,onKeyDown:function(e){"Space"!==e.code||C.name||e.preventDefault()},onChange:function(e){var t=e.target.value;/^[a-zA-Z]+$/.test(t)&&Z((function(e){return(0,y.Z)((0,y.Z)({},e),{},{name:t})}))},style:{borderBottom:C.name.length>50?"2px solid red":""}}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 characters",name:"name",id:"name",defaultValue:d.name,maxLength:50,onKeyDown:function(e){"Space"!==e.code||C.name||e.preventDefault()},onChange:function(e){var t=e.target.value;/^[a-zA-Z]+$/.test(t)&&T((function(e){return(0,y.Z)((0,y.Z)({},e),{},{name:t})}))},style:{borderBottom:_.name.length>50?"2px solid red":""}})})]})]}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",children:["Title\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){v.current[1]=e},children:"add"==c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 characters",name:"title",id:"title",value:C.title,onChange:function(e){e.target.value.length<=50&&Z((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"title",e.target.value))}))},className:"text ".concat(C.title&&C.title.length>50?"error-border":"")}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 characters",name:"title",id:"title",defaultValue:d.title,value:_.title,onChange:function(e){e.target.value.length<=50&&T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"title",e.target.value))}))},className:"text ".concat(_.title&&_.title.length>50?"error-border":"")})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"",children:["Department\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){v.current[2]=e},children:"add"===c?(0,f.jsx)("input",{type:"text",placeholder:"Max 50 characters",name:"department",id:"department",maxLength:"50",onKeyDown:function(e){"Space"!==e.code||C.department||e.preventDefault()},onChange:function(e){var t=e.target.value;/^[a-zA-Z]+$/.test(t)&&Z((function(e){return(0,y.Z)((0,y.Z)({},e),{},{department:t})}))},className:C.department.length>50?"error-input":""}):(0,f.jsx)("input",{type:"text",placeholder:"Max 50 characters",name:"department",id:"department",maxLength:"50",onKeyDown:function(e){"Space"!==e.code||C.department||e.preventDefault()},defaultValue:d.department,onChange:function(e){var t=e.target.value;/^[a-zA-Z]+$/.test(t)&&T((function(e){return(0,y.Z)((0,y.Z)({},e),{},{department:t})}))},className:_.department.length>50?"error-input":""})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Date",children:["Priority\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",children:"add"==c?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("select",{className:"text",name:"priority",id:"priority",onChange:function(e){return Q(e)},ref:function(e){v.current[3]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),U.map((function(e){return(0,f.jsxs)("option",{value:e.id,children:[" ",e.lkup_name]})}))]})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("select",{className:"error col-md-12 p0 text ",name:"priority",id:"priority",onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"priorityid",e.target.value))}))},ref:function(e){v.current[3]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),U.map((function(e){return(0,f.jsxs)("option",{value:e.id,selected:e.id==(null===d||void 0===d?void 0:d.priorityid),children:[" ",e.lkup_name]})}))]})})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Date",children:["Relationship Strength\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",children:"add"==c?(0,f.jsxs)("select",{name:"relationship_strength",id:"relationship_strength",className:"text",onChange:function(e){return Q(e)},ref:function(e){v.current[4]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),K.map((function(e){return(0,f.jsxs)("option",{value:e.id,children:[" ",e.lkup_name]})}))]}):(0,f.jsxs)("select",{className:"error col-md-12 p0 text",name:"relationship_strength",id:"relationship_strength",onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"relationshipid",e.target.value))}))},ref:function(e){v.current[4]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),K.map((function(e){return(0,f.jsxs)("option",{value:e.id,selected:e.id==(null===d||void 0===d?void 0:d.relationshipid),children:[" ",e.lkup_name]})}))]})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Date",children:["Engagement Level\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("span",{className:"col-1 p-0",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",children:"add"==c?(0,f.jsxs)("select",{name:"engagement_level",id:"engagement_level",className:"text",onChange:function(e){return Q(e)},ref:function(e){v.current[5]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),q.map((function(e){return(0,f.jsxs)("option",{value:e.id,children:[" ",e.lkup_name]})}))]}):(0,f.jsxs)("select",{className:"error col-md-12 p0 text ",name:"relationship_strength",id:"relationship_strength",onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"engagementid",e.target.value))}))},ref:function(e){v.current[5]=e},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),q.map((function(e){return(0,f.jsxs)("option",{value:e.id,selected:e.id==(null===d||void 0===d?void 0:d.engagementid),children:[" ",e.lkup_name]})}))]})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"",children:"Role Description"}),(0,f.jsx)("div",{className:"col-md-12",children:"add"==c?(0,f.jsx)("textarea",{type:"text",name:"role_description",id:"role_description",onChange:function(e){return Z((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"role_description",e.target.value))}))}}):(0,f.jsx)("textarea",{type:"text",name:"role_description",id:"role_description",defaultValue:d.role_description,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"role_description",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"",children:"FY Mandate"}),(0,f.jsx)("div",{className:"col-md-12",children:"add"==c?(0,f.jsx)("textarea",{type:"text",name:"fy_mandate",id:"fy_mandate",onChange:function(e){return Z((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"fy_mandate",e.target.value))}))}}):(0,f.jsx)("textarea",{type:"text",name:"fy_mandate",id:"fy_mandate",defaultValue:d.fy_mandate,onChange:function(e){return T((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,N.Z)({},"fy_mandate",e.target.value))}))}})})]})}),(0,f.jsx)("div",{className:'className="col-md-12 col-sm-12 col-xs-12 btn-container center my-3',children:"add"==c?(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){var e=(0,P.Z)(v);e&&R(!0),e||(u()({method:"post",url:x+"/customersms/postRelationHeatMap",data:{customerId:l,name:C.name,title:C.title,department:C.department,priority:C.priority,relationship_strength:C.relationship_strength,engagement_level:C.engagement_level,role_description:C.role_description,fy_mandate:C.fy_mandate}}).then((function(e){i()})),E(),s(!1),h(!0),setTimeout((function(){h(!1),R(!1)}),3e3))},children:[(0,f.jsx)(k.Z,{}),"Save"]}):(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){(0,P.Z)(v)?R(!0):(u()({method:"post",url:x+"/customersms/postRelationHeatMap",data:{id:r,customerId:l,name:_.name,title:_.title,department:_.department,priority:_.priorityid,relationship_strength:_.relationshipid,engagement_level:_.engagementid,role_description:_.role_description,fy_mandate:_.fy_mandate}}).then((function(e){i(),E()})),s(!1),p(!0),setTimeout((function(){p(!1),R(!1)}),3e3))},children:[(0,f.jsx)(k.Z,{}),"Save"]})})]})]})})};var H=function(e){var t,s,l=e.customerId,i=(e.id,e.filteredData,e.mainMenu.find((function(e){return"Relationship Heatmap"===e.display_name}))),r=(0,a.useState)([{}]),c=(0,n.Z)(r,2),d=c[0],h=c[1],p=(0,a.useState)([]),x=(0,n.Z)(p,2),v=x[0],g=x[1],C=(0,a.useState)([]),Z=(0,n.Z)(C,2),I=Z[0],w=(Z[1],(0,a.useState)([])),_=(0,n.Z)(w,2),k=_[0],P=(_[1],(0,a.useState)(!1)),T=(0,n.Z)(P,2),F=T[0],M=T[1],A=(0,a.useState)(),H=(0,n.Z)(A,2),L=H[0],U=H[1],B=(0,a.useState)([]),z=(0,n.Z)(B,2),V=z[0],K=z[1],J=(0,a.useState)("add"),Y=(0,n.Z)(J,2),X=Y[0],q=Y[1],G=(0,a.useState)(!1),Q=(0,n.Z)(G,2),W=Q[0],$=Q[1],ee=(0,a.useState)(!1),te=(0,n.Z)(ee,2),se=te[0],ne=te[1],ae=(0,a.useState)(!1),le=(0,n.Z)(ae,2),ie=le[0],re=le[1],ce=(0,a.useState)(!1),oe=(0,n.Z)(ce,2),de=oe[0],ue=oe[1],me=(0,a.useState)(""),he=(0,n.Z)(me,2),pe=he[0],xe=he[1],ve=o.N.baseUrl,je=(0,a.useState)([]),fe=(0,n.Z)(je,2),ge=fe[0],Ne=fe[1],ye=localStorage.getItem("resId"),be={id:null,name:"",title:"",department:"",priority:"",relationship_strength:"",engagement_level:"",role_description:"",fy_mandate:""},Se=(0,a.useState)(be),Ce=(0,n.Z)(Se,2),Ze=Ce[0],Ie=Ce[1];(0,a.useEffect)((function(){}),[V]);var we=function(){u().get(ve+"/customersms/getRelationHeatMap?customerId=".concat(l)).then((function(e){for(var t=e.data,s=0;s<t.length;s++)t[s],t[s].SNo=s+1;h([{SNo:"S.No",name:"Name",title:"Title",department:"Department",priority:"Priority",relationship_strength:"Relationship Strength",engagement_level:"Engagement Level",role_description:"Role Description",fy_mandate:"FY Mandate",Action:"Action"}].concat(t))}))};(0,a.useEffect)((function(){we()}),[]);var _e=function(e){I[0];return(0,f.jsx)("div",{align:"center",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.QML,{title:"edit",color:"orange",cursor:"pointer",type:"edit",size:"1.2em",onClick:function(){K(e),U(e.id),M(!0),q("edit")}}),"\xa0",(0,f.jsx)(b.YK6,{title:"delete",color:"orange",cursor:"pointer",type:"delete",onClick:function(){re(!0),q("delete"),xe(e.id)}})]})})},ke=function(e){return(0,f.jsx)(f.Fragment,{children:1316==e.relationshipid?(0,f.jsx)("div",{style:{backgroundColor:"#d7ae09",padding:"0px"},children:e.relationship_strength}):1315==e.relationshipid?(0,f.jsx)("div",{style:{backgroundColor:"#e41b1b",padding:"0px"},children:e.relationship_strength}):1317==e.relationshipid?(0,f.jsx)("div",{style:{backgroundColor:"#3fb141",padding:"0px"},children:e.relationship_strength}):1318==e.relationshipid?(0,f.jsx)("div",{style:{backgroundColor:"#187fde",padding:"0px"},children:e.relationship_strength}):""})},Pe=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"},"data-toggle":"tooltip",title:e.name,children:e.name})},Te=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"},"data-toggle":"tooltip",title:e.title,children:e.title})},De=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"},"data-toggle":"tooltip",title:e.department,children:e.department})},Fe=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"},"data-toggle":"tooltip",title:e.role_description,children:e.role_description})},Ee=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"150px"},"data-toggle":"tooltip",title:e.fy_mandate,children:e.fy_mandate})},Me=function(e){return(0,f.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},"data-toggle":"tooltip",title:e.SNo,children:e.SNo})},Ae=null===(t=Object.keys(v))||void 0===t?void 0:t.map((function(e,t){return i.is_write||"relationship_strength"===e||"name"===e||"title"===e||"department"===e||"role_description"===e||"fy_mandate"===e||"SNo"===e&&Me?(0,f.jsx)(O.sgG,{sortable:!0,body:"Action"===e?_e:"relationship_strength"===e?ke:"name"===e?Pe:"title"===e?Te:"department"===e?De:"role_description"===e?Fe:"fy_mandate"===e?Ee:"SNo"===e&&Me,field:e,header:v[e]},e):null}));(0,a.useEffect)((function(){d[0]&&g(JSON.parse(JSON.stringify(d[0])))}),[d]);var Oe=function(){u()({method:"delete",url:ve+"/customersms/deleteRelationHeatMap?id=".concat(pe)}).then((function(e){we(),re(!1),ue(!0),setTimeout((function(){ue(!1)}),3e3)}))};function Re(e){var t=e.deletePopup,s=e.setDeletePopup;e.editId,e.deleteid;return(0,f.jsx)("div",{children:(0,f.jsxs)(S.Tk,{visible:t,size:"m",className:" ui-dialog",onClose:function(){return s(!1)},children:[(0,f.jsx)(S.p0,{className:"hgt22",children:(0,f.jsx)(S.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Delete Relationship Heatmap"})})}),(0,f.jsxs)(S.sD,{children:[(0,f.jsx)("h7",{children:"Are you sure you want to delete Relationship Heatmap?"}),"\xa0",(0,f.jsxs)("div",{className:"btn-container center my-2",children:[(0,f.jsxs)("button",{type:"delete",className:"btn btn-primary",onClick:function(){Oe()},children:[(0,f.jsx)(b.YK6,{})," Delete"]}),(0,f.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){s(!1)},children:[(0,f.jsx)(E.aHS,{})," Cancel"]})]})]})]})})}(0,a.useEffect)((function(){u()({method:"get",url:ve+"/customersms/Customers/getProjectName?cid=".concat(l)}).then((function(e){var t=e.data;Ne(t)}))}),[]);var He=(0,a.useState)([]),Le=(0,n.Z)(He,2),Ue=Le[0],Be=Le[1];(0,a.useEffect)((function(){ze()}),[]);var ze=function(){u()({method:"GET",url:ve+"/CommonMS/master/getMenus?loggedUserId=".concat(ye)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&Be([e])}))}))};return(0,f.jsxs)("div",{children:[de?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," \xa0 Relationship Heatmap Deleted Successfully"]})}):"",W?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," \xa0 Relationship Heatmap Saved Successfully"]})}):"",se?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{size:"1.4em",strokeWidth:{width:"100px"}})," \xa0 Relationship Heatmap Updated Successfully"]})}):"",(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne",children:(0,f.jsx)("h2",{children:null===(s=ge[0])||void 0===s?void 0:s.full_name})}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Relationship Heatmap"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(j.Z,{routes:Ue,currentScreenName:["Customer Search","Relationship Heatmap"]}),(0,f.jsxs)("div",{className:"group mb-3 customCard",children:[(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-11",children:(0,f.jsxs)("div",{className:"legendContainer",children:[(0,f.jsxs)("div",{className:"legend red",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Negative"})]}),(0,f.jsxs)("div",{className:"legend amber",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Neutral"})]}),(0,f.jsxs)("div",{className:"legend green",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Advocate"})]}),(0,f.jsxs)("div",{className:"legend blue",children:[(0,f.jsx)("div",{className:"legendCircle"}),(0,f.jsx)("div",{className:"legendTxt",children:"Champion"})]})]})}),1==i.is_write?(0,f.jsx)("div",{className:"col-md-1",children:(0,f.jsxs)("button",{onClick:function(){M(!0),q("add")},className:"btn btn-primary mt-2 mb-2",children:[(0,f.jsx)(E.wEH,{}),"Add"]})}):""]}),(0,f.jsx)(m.Z,{data:d,linkColumns:I,linkColumnsRoutes:k,dynamicColumns:Ae,headerData:v,setHeaderData:g,rows:10}),F?(0,f.jsx)(R,{handleChange:function(e){var t=e.target,s=t.id,n=t.value;Ie((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))}))},formData:Ze,setFormData:Ze,editId:L,setEditedData:K,editedData:V,type:X,getData:we,data1:be,setAddmsg:$,setEditAddmsg:ne,customerId:l,data:d,buttonPopup:F,setButtonPopup:M}):""]}),ie?(0,f.jsx)(Re,{editId:L,deletePopup:ie,setDeletePopup:re}):"",(0,f.jsx)("br",{})]})},L=s(98552);var U=function(e){var t,s,l,i=e.customerId,r=e.mainMenu.find((function(e){return"Engagement"===e.display_name})),c=(0,a.useState)([{}]),d=(0,n.Z)(c,2),x=d[0],v=d[1],g=(0,a.useState)(!1),N=(0,n.Z)(g,2),y=N[0],b=N[1],S=(0,a.useState)([]),C=(0,n.Z)(S,2),Z=C[0],I=C[1],w=(0,a.useState)([]),_=(0,n.Z)(w,2),k=_[0],P=_[1],T=(0,a.useState)([]),D=(0,n.Z)(T,2),F=D[0],M=D[1],A=(0,a.useState)([]),O=(0,n.Z)(A,2),R=O[0],H=O[1],U=(0,a.useState)([]),B=(0,n.Z)(U,2),z=B[0],V=B[1],K=o.N.baseUrl,J=localStorage.getItem("resId"),Y=function(){u().get(K+"/customersms/Customers/getEngagementDetails?cid=".concat(i)).then((function(e){var t=e.data;P(["EngagementName"]),M(["/engagement/Dashboard/:engagementId"]),v([{EngagementName:"Engagement Name",BusinessUnit:"Business Unit",division:"Division",CostCenter:"Cost Center",Manager:"Manager",SalesExecutive:"Sales Executive",ContractTerms:"Contract Terms",StartDate:"Start Date",EndDate:"End Date",Status:"Status"}].concat(t)),H(t)}))};(0,a.useEffect)((function(){Y(),u()({method:"get",url:K+"/customersms/Customers/getCustomerName?cid=".concat(i)}).then((function(e){var t=e.data;V(t)}))}),[i,null===(t=R[0])||void 0===t?void 0:t.customerName]);var X=function(e){var t,s=null===(t=F[0])||void 0===t?void 0:t.split(":");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.rU,{style:{align:"center",whiteSpace:"nowrap !important",overflow:"hidden",textOverflow:"ellipsis"},"data-toggle":"tooltip",to:s[0]+":"+e[s[1]],title:e[k],target:"_blank",children:e[k]})})},q=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.BusinessUnit,children:e.BusinessUnit})},G=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.CostCenter,children:e.CostCenter})},Q=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.Manager,children:e.Manager})},W=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.SalesExecutive,children:e.SalesExecutive})},$=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.StartDate,children:e.StartDate})},ee=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",title:e.ContractTerms,children:e.ContractTerms})},te=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",title:e.EndDate,children:e.EndDate})},se=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",title:e.Status,children:e.Status})},ne=function(e){return(0,f.jsx)("div",{align:"left","data-toggle":"tooltip",title:e.division,children:e.division})},ae=null===(s=Object.keys(Z))||void 0===s?void 0:s.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,body:"EngagementName"==e?X:"BusinessUnit"==e?q:"division"==e?ne:"CostCenter"==e?G:"Manager"==e?Q:"SalesExecutive"==e?W:"ContractTerms"==e?ee:"StartDate"==e?$:"EndDate"==e?te:"Status"==e&&se,field:e,header:Z[e]},e)}));(0,a.useEffect)((function(){x[0]&&I(JSON.parse(JSON.stringify(x[0])))}),[x]);var le=(0,a.useState)([]),ie=(0,n.Z)(le,2),re=ie[0],ce=ie[1];(0,a.useEffect)((function(){oe()}),[]);var oe=function(){u()({method:"GET",url:K+"/CommonMS/master/getMenus?loggedUserId=".concat(J)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&ce([e])}))}))};return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsxs)("h2",{children:[z," : Engagements"]})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(j.Z,{routes:re,currentScreenName:["Customer Search","Engagements"]}),(0,f.jsx)("div",{className:"mb-2",children:(0,f.jsx)(m.Z,{data:x,rows:10,linkColumns:k,linkColumnsRoutes:F,dynamicColumns:ae,headerData:Z,setHeaderData:I})}),(0,f.jsx)("div",{children:1==r.is_write?(0,f.jsxs)("button",{id:"isShow",onClick:function(){b(!0);var e=document.getElementById("isShow").offsetTop-80;setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}),100)},className:"btn btn-primary",type:"submit",children:[(0,f.jsx)(E.TvB,{})," New Engagement"]}):""}),1==y?(0,f.jsx)(L.Z,{flag:1,getData:Y,customerName:null===(l=R[0])||void 0===l?void 0:l.customerName,customerId:i,isShow:y,setIsShow:b}):""]})},B=s(66798);var z=function(e){var t=e.buttonPopup,s=e.setButtonPopup,l=e.customerId,i=e.gettabledata,r=e.setAddmsg,c=(0,a.useState)(!1),d=(0,n.Z)(c,2),m=d[0],h=d[1],p=(0,a.useState)({"Software or Function":"",Software:"",Platform:"","Service Vendor":"","Future Plans":"","Competitor Notes":""}),x=(0,n.Z)(p,2),v=x[0],j=x[1],g=(0,a.useRef)([]),C=o.N.baseUrl,Z=function(e){e.preventDefault;var t=e.target,s=t.name,n=t.value;j((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))}))};return(0,f.jsx)("div",{children:(0,f.jsxs)(S.Tk,{size:"xs",backdrop:"static",visible:t,className:"ui-dialog ",onClose:function(){s(!1)},children:[(0,f.jsx)(S.p0,{className:"hgt22",style:{cursor:"all-scroll"},children:(0,f.jsx)(S.fl,{children:(0,f.jsx)("span",{className:"ft16",children:" Add Technology"})})}),(0,f.jsx)(S.sD,{children:(0,f.jsxs)("div",{className:"col-md-12 ",children:[m?(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{className:"error-block",children:[(0,f.jsx)(b.CSE,{})," Please select valid values for highlighted fields"]})}):"",(0,f.jsxs)("div",{className:"group-content row mb-2",children:[(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Software or Function",children:["Software or Function",(0,f.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[0]=e},children:(0,f.jsx)("input",{type:"text",id:"Software or Function",name:"Software or Function",placeholder:"Max 50 characters",maxLength:50,required:!0,onKeyDown:function(e){"Space"!==e.code||v["Software or Function"]||e.preventDefault()},onChange:Z})})]}),(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsxs)("label",{className:"col-5",htmlFor:"Software",children:["Software",(0,f.jsx)("span",{className:"required error-text ml-1",children:"*"})]}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6 textfield",ref:function(e){g.current[1]=e},children:(0,f.jsx)("input",{type:"text",id:"Software",name:"Software",placeholder:"Max 50 characters",maxLength:50,required:!0,onKeyDown:function(e){"Space"!==e.code||v.Software||e.preventDefault()},onChange:Z})})]}),(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"Platform",children:"Platform"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("input",{type:"text",id:"Platform",name:"Platform",placeholder:"Max 50 characters",maxLength:50,onChange:Z})})]}),(0,f.jsxs)("div",{className:"form-group row mb-2",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"Service Vendor",children:"Service Vendor"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("input",{type:"text",id:"Service Vendor",name:"Service Vendor",placeholder:"Max 50 characters",maxLength:50,onChange:Z})})]}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"Future Plans",children:"Future Plans"}),(0,f.jsx)("textarea",{type:"text",name:"Future Plans",id:"Future Plans",onChange:Z})]}),(0,f.jsxs)("div",{className:"form-group mb-2",children:[(0,f.jsx)("label",{htmlFor:"Competitor Notes",children:"Competitor Notes"}),(0,f.jsx)("textarea",{type:"text",name:"Competitor Notes",id:"Competitor Notes",onChange:Z})]}),(0,f.jsx)("div",{className:'className="col-md-12 col-sm-12 col-xs-12 btn-container center my-3',children:(0,f.jsxs)("button",{className:"btn btn-primary ",onClick:function(){(0,P.Z)(g)?h(!0):u()({method:"post",url:C+"/customersms/Customers/postCustomerTechnology",data:{customerId:l,systemFunction:v["Software or Function"],software:v.Software,platform:v.Platform,serviceVendor:v["Service Vendor"],futurePlans:v["Future Plans"],competitorNotes:v["Competitor Notes"]}}).then((function(e){i(),s(!1),r(!0),setTimeout((function(){r(!1)}),3e3)}))},children:[(0,f.jsx)(k.Z,{}),"Save"]})})]})]})})]})})};var V=function(e){var t,s,l=e.customerId,i=e.mainMenu.find((function(e){return"Technology"===e.display_name})),r=(0,a.useState)([]),c=(0,n.Z)(r,2),d=c[0],p=c[1],v=(0,a.useState)(!1),g=(0,n.Z)(v,2),N=g[0],y=g[1],C=(0,a.useState)(!1),I=(0,n.Z)(C,2),w=I[0],_=I[1],k=(0,a.useState)([]),P=(0,n.Z)(k,2),T=P[0],M=P[1],A=(0,a.useState)([]),O=(0,n.Z)(A,2),R=O[0],H=(O[1],(0,a.useState)([])),L=(0,n.Z)(H,2),U=L[0],B=(L[1],(0,a.useState)(!1)),V=(0,n.Z)(B,2),K=V[0],J=V[1],Y=(0,a.useState)(!1),X=(0,n.Z)(Y,2),q=X[0],G=X[1],Q=(0,a.useState)(""),W=(0,n.Z)(Q,2),$=W[0],ee=W[1],te=(0,a.useState)(!1),se=(0,n.Z)(te,2),ne=se[0],ae=se[1],le=(0,a.useState)([]),ie=(0,n.Z)(le,2),re=ie[0],ce=ie[1],oe=(0,a.useRef)(null),de=o.N.baseUrl,ue=localStorage.getItem("resId"),me=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"center","data-toggle":"tooltip",title:e.SNo,children:e.SNo})},he=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.system_function,children:e.system_function})},pe=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.software,children:e.software})},xe=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.platform,children:e.platform})},ve=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.service_vendor,children:e.service_vendor})},je=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.future_plans,children:e.future_plans})},fe=function(e){return(0,f.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.competitor_notes,children:e.competitor_notes})},ge=function(){ae(!1),oe.current=new AbortController,u()({url:de+"/customersms/Customers/getCustomerTechnology?cid=".concat(l),signal:oe.current.signal}).then((function(e){for(var t=e.data,s=0;s<t.length;s++)t[s].SNo=s+1;p([{SNo:"S.No ",system_function:"System or Function",software:"Software",platform:"Platform",service_vendor:"Service Vendor",future_plans:"Future Plans",competitor_notes:"Competitor Notes",Action:"Action"}].concat(t)),setTimeout((function(){ae(!1)}),1e3)}))};(0,a.useEffect)((function(){ge()}),[]),(0,a.useEffect)((function(){u()({method:"get",url:de+"/customersms/Customers/getProjectName?cid=".concat(l)}).then((function(e){var t=e.data;ce(t)}))}),[]);var Ne=function(e){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{align:"center",children:(0,f.jsx)(b.YK6,{color:"orange",cursor:"pointer",onClick:function(){_(!0),ee(e.id)},style:{align:"Center"}})})})},ye=null===(t=Object.keys(T))||void 0===t?void 0:t.map((function(e,t){return i.is_write||"SNo"===e||"system_function"===e||"software"===e||"platform"===e||"service_vendor"===e||"future_plans"===e||"competitor_notes"===e?(0,f.jsx)(h.s,{sortable:!0,body:"SNo"===e&&me||"Action"===e&&Ne||"system_function"===e&&he||"software"===e&&pe||"platform"===e&&xe||"service_vendor"===e&&ve||"future_plans"===e&&je||"competitor_notes"===e&&fe,field:e,header:T[e]},e):null}));(0,a.useEffect)((function(){d[0]&&M(JSON.parse(JSON.stringify(d[0])))}),[d]);var be=function(){u()({method:"delete",url:de+"/customersms/Customers/deleteCustomerTechnology?id=".concat($)}).then((function(e){_(!1),ge(),G(!0),setTimeout((function(){G(!1)}),3e3)}))};function Se(e){var t=e.deletePopup,s=e.setDeletePopup;return(0,f.jsx)("div",{children:(0,f.jsx)(Z(),{children:(0,f.jsxs)(S.Tk,{visible:t,size:"m",className:"ui-dialog ",backdrop:"static",onClose:function(){return s(!1)},children:[(0,f.jsx)(S.p0,{className:"hgt22",children:(0,f.jsx)(S.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Delete Technology"})})}),(0,f.jsxs)(S.sD,{children:[(0,f.jsx)("h6",{children:"Are you sure you want to delete Technology ?"}),(0,f.jsxs)("div",{className:"btn-container center my-2",children:[(0,f.jsxs)("button",{type:"delete",className:"btn btn-primary",onClick:function(){be()},children:[(0,f.jsx)(b.YK6,{}),"Delete"]}),(0,f.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){s(!1)},children:[(0,f.jsx)(F.sQZ,{}),"Cancel"]})]})]})]})})})}var Ce=(0,a.useState)([]),Ze=(0,n.Z)(Ce,2),Ie=Ze[0],we=Ze[1];(0,a.useEffect)((function(){_e()}),[]);var _e=function(){u()({method:"GET",url:de+"/CommonMS/master/getMenus?loggedUserId=".concat(ue)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&we([e])}))}))};return(0,f.jsxs)("div",{children:[q?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{className:"errMsg",children:[(0,f.jsx)(D.hXj,{})," \xa0Technology Deleted successfully"]})}):"",K?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(D.hXj,{})," \xa0Technology Saved successfully"]})}):"",(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne",children:(0,f.jsx)("h2",{children:null===(s=re[0])||void 0===s?void 0:s.full_name})}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Technology"})}),(0,f.jsx)("div",{className:"childThree"})]}),(0,f.jsx)(j.Z,{routes:Ie,currentScreenName:["Customer Search","Technology"]}),(0,f.jsxs)("div",{className:"group mb-5 customCard",children:[1==i.is_write?(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-11 mt-2 mb-2"}),(0,f.jsx)("div",{className:"col-md-1",children:(0,f.jsxs)("button",{onClick:function(){y(!0)},className:"btn btn-primary mt-2 mb-2",children:[(0,f.jsx)(E.wEH,{}),"Add"]})})]}):"",(0,f.jsx)(m.Z,{data:d,linkColumns:R,linkColumnsRoutes:U,dynamicColumns:ye,headerData:T,setHeaderData:M,rows:10})]}),N?(0,f.jsx)(z,{buttonPopup:N,setButtonPopup:y,gettabledata:ge,setAddmsg:J,customerId:l}):"",ne?(0,f.jsx)(x.Z,{handleAbort:function(){oe.current&&oe.current.abort(),ae(!1)}}):"",w?(0,f.jsx)(Se,{deletePopup:w,setDeletePopup:_}):""]})},K=s(37145),J=s(46175),Y=s(41310);var X=function(e){e.customerId;var t,s,l,i=o.N.baseUrl,r=(0,a.useState)([]),d=(0,n.Z)(r,2),p=(d[0],d[1]),x=(0,a.useState)([]),v=(0,n.Z)(x,2),g=(v[0],v[1]),N=(0,a.useState)([]),y=(0,n.Z)(N,2),b=y[0],S=y[1],C=(0,a.useState)([]),Z=(0,n.Z)(C,2),I=(Z[0],Z[1]),w=(0,a.useState)([]),_=(0,n.Z)(w,2),k=_[0],P=_[1],T=(0,a.useState)([]),D=(0,n.Z)(T,2),F=D[0],E=D[1],M=(0,a.useState)([]),A=(0,n.Z)(M,2),O=A[0],R=A[1],H=(0,a.useState)([]),L=(0,n.Z)(H,2),U=L[0],B=L[1],z=(0,a.useState)([]),V=(0,n.Z)(z,2),J=V[0],Y=V[1],X=(0,a.useState)([]),q=(0,n.Z)(X,2),G=q[0],Q=q[1],W=(0,a.useState)([]),$=(0,n.Z)(W,2),ee=$[0],te=$[1],se=window.location.href.split(":");(0,a.useEffect)((function(){u().get(i+"/CommonMS/master/getTabMenus?ProjectId=".concat(se[se.length-1],"&loggedUserId=").concat(_e,"&type=Customer&subType=customer")).then((function(e){var t=e.data;g(t)})).catch((function(e){}))}),[]);var ne=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.address,children:e.address})},ae=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.name,children:e.name})},le=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.type,children:e.type})},ie=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.email,children:e.email})},re=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.division,children:e.division})},ce=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.phone,children:e.phone})},oe=null===(t=Object.keys(G))||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,field:e,header:G[e],body:"address"==e?ne:"name"==e?ae:"type"==e?le:"email"==e?ie:"division"==e?re:"phone"==e&&ce},e)})),de=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.id3,children:e.id3})},ue=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.type_id,children:e.type_id})},me=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.phone,children:e.phone})},he=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.businessunit,children:e.businessunit})},pe=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.resource_id,children:e.resource_id})},xe=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.firstName,children:e.firstName})},ve=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.address,children:e.address})},je=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.email,children:e.email})},fe=null===(s=Object.keys(ee))||void 0===s?void 0:s.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,field:e,header:ee[e],body:"email"==e?je:"address"==e?ve:"firstName"==e?xe:"resource_id"==e?pe:"businessunit"==e?he:"id3"==e?de:"phone"==e?me:"type_id"==e&&ue},e)}));(0,a.useEffect)((function(){k[0]&&te(JSON.parse(JSON.stringify(k[0])))}),[k]),(0,a.useEffect)((function(){O[0]&&Q(JSON.parse(JSON.stringify(O[0])))}),[O]);var ge=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.address,children:e.address})},Ne=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.city,children:e.city})},ye=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.country_name,children:e.country_name})},be=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.state,children:e.state})},Se=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.customer_id,children:e.customer_id})},Ce=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.contact,children:e.contact})},Ze=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.zip_code,children:e.zip_code})},Ie=function(e){return(0,f.jsx)("div",{className:"ellipsis",align:"left","data-toggle":"tooltip",title:e.name,children:e.name})},we=null===(l=Object.keys(J))||void 0===l?void 0:l.map((function(e,t){return(0,f.jsx)(h.s,{sortable:!0,field:e,header:J[e],body:"address"==e?ge:"city"==e?Ne:"country_name"==e?ye:"state"==e?be:"customer_id"==e?Se:"contact"==e?Ce:"zip_code "==e?Ze:"name"==e&&Ie},e)}));(0,a.useEffect)((function(){U[0]&&Y(JSON.parse(JSON.stringify(U[0])))}),[U]),(0,a.useEffect)((function(){u().get(i+"/customersms/Customers/getCustomersdashboarddivision?cid=".concat(e.customerId)).then((function(e){var t=e.data,s=[],n=[];t.map((function(t,a){a<0?s.push(e.data[a]):n.push(e.data[a])})),B([{name:"Name",address:"Address Line",country_name:"Country",state:"State/Province",city:"City",zip_code:"ZIP/Postal Code",contact:"Contact Number"}].concat(n)),I(t)})),0!=e.customerId&&u()({method:"get",url:i+"/customersms/Customers/getCustomersdashboard?cid=".concat(e.customerId)}).then((function(e){var t=e.data;S(t)})),0!=e.customerId&&u()({method:"get",url:i+"/customersms/Customers/getCustomersinternalstakeholders?cid=".concat(e.customerId)}).then((function(e){var t=e.data,s=[].concat([{firstName:"Name",businessunit:"BU ",type_id:"Type",address:"Address",phone:"Phone",email:"Email"}],(0,c.Z)(t));P(s)})),0!=e.customerId&&u()({method:"get",url:i+"/customersms/Customers/getCustomersextstakeholders?cid=".concat(e.customerId)}).then((function(e){var t=e.data,s=[].concat([{name:"Name",division:"Division",type:"Type",address:"Address",phone:"Phone",email:"Email"}],(0,c.Z)(t));R(s)})),0!=e.customerId&&u()({method:"get",url:i+"/customersms/Customers/getCustomersroles?cid=".concat(e.customerId)}).then((function(e){for(var t=e.data,s=(0,c.Z)(new Set(t.map((function(e){return e.display_name})))),n=[],a=function(e){var a={};a.display_name=s[e];for(var l=JSON.parse(JSON.stringify(t)).filter((function(t){return t.display_name==s[e]})),i=["","Canada","Germany","India","Jordan","UAE","UK","US"],r=[],c=function(e){var t={display_name:"",cost:"",rate:"",country_name:"",countryid:""};if(0==l.some((function(t){return t.country_name==i[e]})))t.country_name=i[e],r.push(t);else for(var s=0;s<l.length;s++)i[e].includes(l[s].country_name)&&r.push(l[s])},o=0;o<i.length;o++)c(o);a.data=r,n.push(a)},l=0;l<s.length;l++)a(l);E(n)})),u()({method:"get",url:i+"/ProjectMS/Engagement/getCurrency"}).then((function(e){var t=e.data;p(t)}))}),[e.customerId]),U.length;var _e=localStorage.getItem("resId"),ke=(0,a.useState)([]),Pe=(0,n.Z)(ke,2),Te=Pe[0],De=Pe[1];(0,a.useEffect)((function(){Fe()}),[]);var Fe=function(){u()({method:"GET",url:i+"/CommonMS/master/getMenus?loggedUserId=".concat(_e)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&De([e])}))}))};return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Overview"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(j.Z,{routes:Te,currentScreenName:["Customer Search","Overview"]}),(0,f.jsx)("div",{className:"customCard card graph mt-2 mb-2",children:(0,f.jsx)("div",{className:"group-content row",children:(0,f.jsx)("div",{className:" col-md-12 mb-2",children:b.map((function(e){return(0,f.jsxs)("div",{className:"group-content row mx-2 mt-2",children:[(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Customer Name"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" calenderTable","data-toggle":"tooltip",title:e.customerName,children:null==e.customerName?"NA":e.customerName})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Project Category"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.projectcategory,children:null===e.projectcategory?"NA":e.projectcategory})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Industry type"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.IndustryType,children:null===e.IndustryType?"NA":e.IndustryType})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Phone"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.phone,children:null===e.phone?"NA":e.phone})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Website"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.website,children:null===e.website?"NA":e.website})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Customer Status"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.customerstatus,children:null==e.customerstatus?"NA":e.customerstatus})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Sales Territory"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.salesterritory,children:null==e.salesterritory?"NA":e.salesterritory})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Sales Executive"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.name,children:null==e.name?"-":e.name})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Client Partner"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.clientpartner,children:null==e.clientpartner?"-":e.clientpartner})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Engagement Partner"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.engagementpartner,children:null===e.engagementpartner?"-":e.engagementpartner})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Country"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.country_name,children:null==e.country_name?"-":e.country_name})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Customer Email"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.customeremail,children:null==e.customeremail?"NA":e.customeremail})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Classification"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.classification,children:null==e.classification?"NA":e.classification})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"SF Account Link"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex",children:[" ",e.sfAccountLink]})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"CSL Head"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.cslHead,children:null==e.cslHead?"-":e.cslHead})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"CSL"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.cslName,children:null==e.cslName?"-":e.cslName})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Associate CSL"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.AssociateCSL,children:null==e.AssociateCSL?"-":e.AssociateCSL})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Delivery Partner Head"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.deliverypartnerHead,children:null==e.deliverypartnerHead?"-":e.deliverypartnerHead})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Delivery Partner"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.deliverypartner,children:null==e.deliverypartner?"-":e.deliverypartner})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Talent Partner"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.TalentPartner,children:null==e.TalentPartner?"-":e.TalentPartner})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Project Coordinator"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.projectCoordinator,children:null==e.projectCoordinator?"-":e.projectCoordinator})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"SQA"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.SQA,children:null==e.SQA?"-":e.SQA})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Competency Lead"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.competencyLead,children:null==e.competencyLead?"-":e.competencyLead})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Account Owner"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.accountowner,children:null==e.accountowner?"-":e.accountowner})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"New Customer"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.newCustomer,children:null==e.newCustomer?"-":e.newCustomer})})]})})]})}))})})}),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"customCard card graph mt-2 mb-2",children:[(0,f.jsx)("div",{className:"group mb-1 customCard",children:(0,f.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,f.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Invoicing Details"})})}),(0,f.jsx)("div",{className:"group-content row mx-2",children:(0,f.jsx)("div",{className:" col-md-12 mb-2",children:b.map((function(e){return(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Invoice For"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.invoiceFor,children:null==e.invoiceFor?"NA":e.invoiceFor})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2 ",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Invoice Cycle"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.invoiceCycle,children:null==e.invoiceCycle?"NA":e.invoiceCycle})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Payment Terms"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.paymentTerms,children:null==e.paymentTerms?"NA":e.paymentTerms})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Invoice Time"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.invoiceTime,children:null==e.invoiceTime?"NA":e.invoiceTime})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Expense Billable"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsxs)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.expenseBillable,children:[null==e.expenseBillable?"NA":e.expenseBillable," "]})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Discount (%)"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.discountPercent,children:null==e.discountPercent?"NA":e.discountPercent+".00"})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Customer Currency"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.description,children:null==e.description?"NA":e.description})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Invoice Culture"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.invoiceCulture,children:null==e.invoiceCulture?"NA":e.invoiceCulture})})]})}),(0,f.jsx)("div",{className:" col-md-4 mb-2",children:(0,f.jsxs)("div",{className:"form-group row",children:[(0,f.jsx)("label",{className:"col-5",htmlFor:"text-input-inline",children:"Invoice Template"}),(0,f.jsx)("span",{className:"col-1",children:":"}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("p",{className:" ellipsis tooltip-ex","data-toggle":"tooltip",title:e.invoiceTemplate,children:null==e.invoiceTemplate?"NA":e.invoiceTemplate})})]})})]})}))})})]})}),(0,f.jsxs)("div",{className:"customCard card graph mt-2 mb-2",children:[(0,f.jsx)("div",{className:"group mb-1 customCard",children:(0,f.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,f.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:" Divisions"})})}),(0,f.jsx)(m.Z,{rows:25,data:U,dynamicColumns:we,headerData:J,setHeaderData:Y})]}),(0,f.jsxs)("div",{className:"ccustomCard card graph mt-2 mb-2",children:[(0,f.jsx)("div",{className:"group mb-1 customCard",children:(0,f.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,f.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Customer Stakeholders"})})}),(0,f.jsx)(m.Z,{rows:25,data:O,dynamicColumns:oe,headerData:G,setHeaderData:Q})]}),(0,f.jsxs)("div",{className:"card datatable-rowgroup-demo  mt-2",children:[(0,f.jsxs)("div",{className:"group mb-1 customCard",children:[(0,f.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,f.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Internal Stakeholders"})})," "]}),(0,f.jsx)(m.Z,{rows:25,data:k,dynamicColumns:fe,headerData:ee,setHeaderData:te})]})," ",(0,f.jsxs)("div",{className:"customCard card graph mt-2 mb-2 darkHeader",children:[(0,f.jsx)("div",{className:"group mb-1 customCard",children:(0,f.jsx)("div",{className:"col-md-12  collapseHeader px-3",style:{backgroundColor:"#f4f4f4"},children:(0,f.jsx)("h2",{style:{backgroundColor:"#f4f4f4"},children:"Roles"})})}),(0,f.jsxs)(K.w,{className:"primeReactDataTable ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:F,paginator:!0,rows:25,showGridlines:!0,highlightOnHover:!0,pagination:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},rowGroupMode:"rowspan",sortOrder:2,responsiveLayout:"scroll",children:[(0,f.jsx)(h.s,{field:"Role",header:"Role",alignHeader:"center",body:function(e){return(0,f.jsx)("span",{children:e.display_name})},style:{width:"40%"}}),(0,f.jsx)(h.s,{field:"Country",header:"Country",body:function(e){var t,s,n;return(0,f.jsx)("span",{children:(0,f.jsx)("table",{class:"table table-bordered table-striped",children:(0,f.jsxs)("tbody",{children:[(0,f.jsx)("tr",{children:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e,t){return(0,f.jsxs)("th",{className:"antiquewhite",children:[" ",e.country_name]})}))}),(0,f.jsx)("tr",{children:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.map((function(e,t){return(0,f.jsx)(f.Fragment,{children:0===t?(0,f.jsxs)("td",{children:[(0,f.jsx)("b",{children:"Billing"}),(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"Rate/Hr"})]}):(0,f.jsx)("td",{children:e.rate})})}))}),(0,f.jsx)("tr",{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e,t){return(0,f.jsx)(f.Fragment,{children:0===t?(0,f.jsx)("td",{children:(0,f.jsx)("b",{children:"Cost/Hr"})}):(0,f.jsx)("td",{children:e.cost})})}))})]})})})},alignHeader:"center",children:"country"})]})]})]})},q=s(74165),G=s(15861),Q=s(59513),W=s.n(Q),$=(s(68639),s(23457)),ee=s(89886),te=s(85552),se=s(29217),ne=s(24205),ae=(s(63770),s(58610)),le=s(40071),ie=function(e){var t=e.invSummaryPopUp,s=e.setInvSummaryPopUp,l=e.customerId,i=(0,a.useState)([]),r=(0,n.Z)(i,2),c=r[0],d=r[1],m=o.N.baseUrl;(0,a.useEffect)((function(){p()}),[]);var p=function(){u()({method:"get",url:m+"/customersms/Customers/getInvoiceSummary?cid=".concat(l)}).then((function(e){d(e.data)}))},x=(0,f.jsxs)(J.E,{children:[(0,f.jsxs)(Y.X,{children:[(0,f.jsx)(h.s,{header:"",colSpan:5}),(0,f.jsx)(h.s,{header:"Invoice Amount",colSpan:5,style:{textAlign:"center"}})]}),(0,f.jsxs)(Y.X,{children:[(0,f.jsx)(h.s,{header:"Invoice Number",field:"num"}),(0,f.jsx)(h.s,{header:"Date",field:"Date"}),(0,f.jsx)(h.s,{header:"Invoice Period",field:"InvoicePeriod"}),(0,f.jsx)(h.s,{header:"Status",field:"Status"}),(0,f.jsx)(h.s,{header:"Project",field:"Project"}),(0,f.jsx)(h.s,{header:"Timesheet",field:"Timesheet"}),(0,f.jsx)(h.s,{header:"Expenses",field:"Expenses"}),(0,f.jsx)(h.s,{header:"Milestones",field:"Milestones"}),(0,f.jsx)(h.s,{header:"Tax",field:"Tax"}),(0,f.jsx)(h.s,{header:"Total",field:"Total"})]})]});return(0,f.jsx)("div",{children:(0,f.jsx)(Z(),{children:(0,f.jsxs)(S.Tk,{alignment:"center",backdrop:"static",size:"xl",visible:t,onClose:function(){s(!1)},children:[(0,f.jsx)(S.p0,{className:"",style:{cursor:"all-scroll"},children:(0,f.jsx)(S.fl,{children:(0,f.jsx)("span",{className:"ft16",children:"Invoice Summary"})})}),(0,f.jsx)(S.sD,{children:(0,f.jsx)("div",{className:"group-content row",children:(0,f.jsx)("div",{className:"col-md-12 row mb-2",children:(0,f.jsxs)(K.w,{className:"primeReactDataTable invoicingSearchTable customerEngament",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],value:c,paginator:!0,rows:10,onFilter:function(e){return setFilters(e.filters)},onSelectionChange:function(e){return setSelectedCustomer(e.value)},dataKey:"id",showGridlines:!0,stateStorage:"session",stateKey:"dt-state-demo-local",responsiveLayout:"scroll",emptyMessage:"No records to view",headerColumnGroup:x,children:[(0,f.jsx)(h.s,{header:"Invoice Number",field:"num"}),(0,f.jsx)(h.s,{header:"Date",field:"Date"}),(0,f.jsx)(h.s,{header:"Invoice Period",field:"InvoicePeriod"}),(0,f.jsx)(h.s,{header:"Status",field:"Status"}),(0,f.jsx)(h.s,{header:"Project",field:"Project"}),(0,f.jsx)(h.s,{header:"Timesheet",field:"Timesheet"}),(0,f.jsx)(h.s,{header:"Expenses",field:"Expenses"}),(0,f.jsx)(h.s,{header:"Milestones",field:"Milestones"}),(0,f.jsx)(h.s,{header:"Tax",field:"Tax"}),(0,f.jsx)(h.s,{header:"Total",field:"Total"})]})})})})]})})})};var re=function(e){var t,s,l,i,r,d,m,h,p,v,g,S,C,Z,I,k,T,M,A,O,R,H,L,U,B,z,V,K,J,Y,X,Q,re,ce,oe,de,ue,me=e.customerId,he=e.customerData,pe=(e.buttonState,e.setButtonState),xe=e.getCustomererviewData,ve=(0,a.useState)({}),je=(0,n.Z)(ve,2),fe=je[0],ge=je[1];(0,a.useEffect)((function(){he.length>0&&ge(JSON.parse(JSON.stringify(he[0])))}),[he]);var Ne=(0,a.useState)({customerEmail:null===(t=he[0])||void 0===t?void 0:t.customeremail}),ye=(0,n.Z)(Ne,2),be=ye[0],Se=ye[1],Ce=(0,a.useState)([{}]),Ze=(0,n.Z)(Ce,2),Ie=Ze[0],we=Ze[1],_e=function(){var e=be;e[Object.keys(e).length]=xa.customerEmails,we([].concat((0,c.Z)(Ie),[{customerEmails:""}]))},ke=(0,a.useState)([]),Pe=(0,n.Z)(ke,2),Te=(Pe[0],Pe[1]),De=(0,a.useState)([]),Fe=(0,n.Z)(De,2),Ee=Fe[0],Me=Fe[1],Ae=(0,a.useRef)([]),Oe=(0,a.useState)(!1),Re=(0,n.Z)(Oe,2),He=Re[0],Le=Re[1],Ue=(0,a.useState)(!1),Be=(0,n.Z)(Ue,2),ze=Be[0],Ve=Be[1],Ke=(Ye=new Date).getFullYear(),Je=Ye.getMonth(),Ye=new Date(Ke,Je+11),Xe=o.N.baseUrl,qe=(0,a.useState)([]),Ge=(0,n.Z)(qe,2),Qe=Ge[0],We=Ge[1],$e=(0,a.useState)([]),et=(0,n.Z)($e,2),tt=et[0],st=et[1],nt=(0,a.useState)([]),at=(0,n.Z)(nt,2),lt=at[0],it=at[1],rt=(0,a.useState)([]),ct=(0,n.Z)(rt,2),ot=ct[0],dt=ct[1],ut=(0,a.useState)(!1),mt=(0,n.Z)(ut,2),ht=mt[0],pt=mt[1],xt=(0,a.useState)([]),vt=(0,n.Z)(xt,2),jt=vt[0],ft=vt[1],gt=(0,a.useState)([]),Nt=(0,n.Z)(gt,2),yt=Nt[0],bt=Nt[1],St=(0,a.useState)([]),Ct=(0,n.Z)(St,2),Zt=Ct[0],It=Ct[1],wt=(0,a.useState)([]),_t=(0,n.Z)(wt,2),kt=_t[0],Pt=_t[1],Tt=(0,a.useState)([]),Dt=(0,n.Z)(Tt,2),Ft=Dt[0],Et=Dt[1],Mt=(0,a.useState)([]),At=(0,n.Z)(Mt,2),Ot=At[0],Rt=At[1],Ht=(0,a.useState)([]),Lt=(0,n.Z)(Ht,2),Ut=Lt[0],Bt=Lt[1],zt=(0,a.useState)([]),Vt=(0,n.Z)(zt,2),Kt=Vt[0],Jt=Vt[1],Yt=(0,a.useState)([]),Xt=(0,n.Z)(Yt,2),qt=Xt[0],Gt=Xt[1],Qt=(0,a.useState)([]),Wt=(0,n.Z)(Qt,2),$t=Wt[0],es=Wt[1],ts=(0,a.useState)([]),ss=(0,n.Z)(ts,2),ns=ss[0],as=ss[1],ls=(0,a.useState)([]),is=(0,n.Z)(ls,2),rs=is[0],cs=is[1],os=(0,a.useState)([]),ds=(0,n.Z)(os,2),us=(ds[0],ds[1]),ms=(0,a.useState)([]),hs=(0,n.Z)(ms,2),ps=(hs[0],hs[1]),xs=(0,a.useState)([]),vs=(0,n.Z)(xs,2),js=vs[0],fs=vs[1],gs=(0,a.useState)([]),Ns=(0,n.Z)(gs,2),ys=Ns[0],bs=Ns[1],Ss=(0,a.useState)([]),Cs=(0,n.Z)(Ss,2),Zs=Cs[0],Is=Cs[1],ws=(0,a.useState)([]),_s=(0,n.Z)(ws,2),ks=_s[0],Ps=_s[1],Ts=(0,a.useState)([]),Ds=(0,n.Z)(Ts,2),Fs=Ds[0],Es=Ds[1],Ms=(0,a.useState)([]),As=(0,n.Z)(Ms,2),Os=As[0],Rs=As[1],Hs=(0,a.useState)([]),Ls=(0,n.Z)(Hs,2),Us=Ls[0],Bs=Ls[1],zs=(0,a.useState)([]),Vs=(0,n.Z)(zs,2),Ks=Vs[0],Js=Vs[1],Ys=(0,a.useState)(!1),Xs=(0,n.Z)(Ys,2),qs=Xs[0],Gs=Xs[1],Qs=(0,a.useState)(!1),Ws=(0,n.Z)(Qs,2),$s=Ws[0],en=Ws[1],tn=(0,a.useState)("Primary Project Manager"),sn=(0,n.Z)(tn,2),nn=sn[0],an=sn[1],ln=(0,a.useState)(!1),rn=(0,n.Z)(ln,2),cn=rn[0],on=rn[1],dn=(0,a.useState)(!1),un=(0,n.Z)(dn,2),mn=un[0],hn=un[1],pn=(0,a.useState)(!1),xn=(0,n.Z)(pn,2),vn=xn[0],jn=xn[1],fn=(0,a.useState)(!1),gn=(0,n.Z)(fn,2),Nn=gn[0],yn=gn[1],bn=(0,a.useState)(!1),Sn=(0,n.Z)(bn,2),Cn=Sn[0],Zn=Sn[1],In=(0,a.useState)([]),wn=(0,n.Z)(In,2),_n=wn[0],kn=wn[1],Pn=(0,a.useState)(!1),Tn=(0,n.Z)(Pn,2),Dn=Tn[0],Fn=Tn[1],En=(0,a.useRef)(null),Mn=(0,a.useState)(""),An=(0,n.Z)(Mn,2),On=An[0],Rn=An[1],Hn=Object.values(be).toString();Hn.startsWith(",")&&(Hn=Hn.substring(1)),(0,a.useEffect)((function(){var e,t,s,n=null==(null===(e=he[0])||void 0===e?void 0:e.month)||""==(null===(t=he[0])||void 0===t?void 0:t.month)?"":w()(null===(s=he[0])||void 0===s?void 0:s.month).toDate();Rn(n)}),[]);var Ln=(0,a.useState)({id:me,typCustStatusId:null===(s=he[0])||void 0===s?void 0:s.typCustStatusId,size:null===(l=he[0])||void 0===l?void 0:l.size,salesPersonId:null===(i=he[0])||void 0===i?void 0:i.salesId,clientpartnerId:null===(r=he[0])||void 0===r?void 0:r.clientpartnerId,engagementPartnerId:null===(d=he[0])||void 0===d?void 0:d.engagementpartnerId,cslHeadId:null===(m=he[0])||void 0===m?void 0:m.cslHeadId,cslId:null===(h=he[0])||void 0===h?void 0:h.cslId,acslId:null===(p=he[0])||void 0===p?void 0:p.AssociateCSLId,deliveryPartnerHeadId:null===(v=he[0])||void 0===v?void 0:v.deliverypartnerHeadId,deliveryPartnerId:null===(g=he[0])||void 0===g?void 0:g.deliverypartnerId,talentPartnerId:null===(S=he[0])||void 0===S?void 0:S.TalentPartnerId,projectCoordinatorId:null===(C=he[0])||void 0===C?void 0:C.projectCoordinatorId,sqaId:null===(Z=he[0])||void 0===Z?void 0:Z.SQAId,clId:null===(I=he[0])||void 0===I?void 0:I.competencyLeadId,cCountryId:null===(k=he[0])||void 0===k?void 0:k.cCountryId,classificationId:null===(T=he[0])||void 0===T?void 0:T.classificationId,phone:null===(M=he[0])||void 0===M?void 0:M.phone,fax:null===(A=he[0])||void 0===A?void 0:A.fax,sfAccountLink:null===(O=he[0])||void 0===O?void 0:O.sfAccountLink,website:null===(R=he[0])||void 0===R?void 0:R.website,customerEmails:null===(H=he[0])||void 0===H?void 0:H.customeremail,custReferenceable:null===(L=he[0])||void 0===L?void 0:L.custReferenceable,accountOwnerId:null===(U=he[0])||void 0===U?void 0:U.account_owner_id,isNewCustomer:0==(null===(B=he[0])||void 0===B?void 0:B.is_new_customer)?0:1,month:null==(null===(z=he[0])||void 0===z?void 0:z.month)?"":null===(V=he[0])||void 0===V?void 0:V.month,CiInvoiceForId:null===(K=he[0])||void 0===K?void 0:K.CiInvoiceForId,invoiceCycleId:null===(J=he[0])||void 0===J?void 0:J.invoiceCycleId,paymentTermsId:null===(Y=he[0])||void 0===Y?void 0:Y.paymentTermsId,invoiceTimeId:null===(X=he[0])||void 0===X?void 0:X.invoiceTimeId,CiCurrencyId:null===(Q=he[0])||void 0===Q?void 0:Q.CiCurrencyId,isExpenseBillable:"Yes"==(null===(re=he[0])||void 0===re?void 0:re.expenseBillable)?1:0,invoiceCultureId:null===(ce=he[0])||void 0===ce?void 0:ce.invoiceCultureId,ciDiscountPercent:null===(oe=he[0])||void 0===oe?void 0:oe.ciDiscountPercent,invoiceTemplateId:null===(de=he[0])||void 0===de?void 0:de.invoiceTemplateId,custReferenceNotes:null===(ue=he[0])||void 0===ue?void 0:ue.custReferenceNotes}),Un=(0,n.Z)(Ln,2),Bn=Un[0],zn=Un[1],Vn=localStorage.getItem("resId"),Kn=(0,a.useState)([]),Jn=(0,n.Z)(Kn,2),Yn=Jn[0],Xn=Jn[1];(0,a.useEffect)((function(){setTimeout((function(){var e;null===(e=document.getElementsByClassName("pageTitle")[0])||void 0===e||e.click(),Fn(!1)}),1e3),qn()}),[]);var qn=function(){u()({method:"GET",url:Xe+"/CommonMS/master/getMenus?loggedUserId=".concat(Vn)}).then((function(e){e.data.forEach((function(e){"Customers"===e.display_name&&Xn([e])}))}))},Gn=function(e){var t=e.target,s=t.id,n=(t.name,t.value);va((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))})),zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},s,n))}))},Qn=function(e){var t=e.target,s=t.id,n=t.name,a=t.value;ga[s]=a,Bn[n]=a},Wn=function(e){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},"isNewCustomer","1"))}))},$n=function(e){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},"isNewCustomer","0"))}))},ea=function(e){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},"isExpenseBillable","1"))}))},ta=function(e){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},(0,N.Z)({},"isExpenseBillable","0"))}))},sa=function(){var e=(0,G.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"get",url:Xe+"/ProjectMS/risks/getAssignedData"}).then((function(e){var t=e.data;ft(t),bt(t),It(t),Pt(t),Et(t),Rt(t),Bt(t),Jt(t),Gt(t),es(t),as(t),cs(t),us(t),ps(t),fs(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){u()({method:"get",url:Xe+"/ProjectMS/Engagement/getSize"}).then((function(e){var t=e.data;Me(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getSalesTerritories"}).then((function(e){var t=e.data;We(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getAllProjectCategorys"}).then((function(e){var t=e.data;st(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getIndustryType"}).then((function(e){var t=e.data;it(t)})),sa(),u()({url:Xe+"/CostMS/cost/getCountries"}).then((function(e){var t=e.data.filter((function(e){return 4!=e.id}));bs(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getClassification"}).then((function(e){var t=e.data;dt(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getInvoiceCycle"}).then((function(e){var t=e.data;Is(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getPaymentTerms"}).then((function(e){var t=e.data;Ps(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getInvoiceTime"}).then((function(e){var t=e.data;Es(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getCurrency"}).then((function(e){var t=e.data;Rs(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getInvoiceCulture"}).then((function(e){var t=e.data;Bs(t)})),u()({method:"get",url:Xe+"/ProjectMS/Engagement/getInvoiceTemplate"}).then((function(e){var t=e.data;Js(t)})),u().get(Xe+"/customersms/Customers/getProjCatIds?customerId=".concat(me)).then((function(e){var t=e.data;kn(t)}))}),[]),(0,a.useEffect)((function(){}),[he]);var na=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{cslHead:""})}))},aa=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{cslId:""})}))},la=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{acslId:""})}))},ia=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{deliveryPartnerHeadId:""})}))},ra=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{deliveryPartnerId:""})}))},ca=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{talentPartnerId:""})}))},oa=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{projectCoordinatorId:""})}))},da=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{sqaId:""})}))},ua=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{clId:""})}))},ma=function(){zn((function(e){return(0,y.Z)((0,y.Z)({},e),{},{accountOwnerId:""})}))},ha=(0,a.useState)({customerEmails:""}),pa=(0,n.Z)(ha,2),xa=pa[0],va=pa[1],ja=(0,a.useState)({customerEmails:""}),fa=(0,n.Z)(ja,2),ga=fa[0],Na=(fa[1],(0,a.useState)({})),ya=(0,n.Z)(Na,2),ba=ya[0],Sa=ya[1],Ca=(0,a.useState)([]),Za=(0,n.Z)(Ca,2),Ia=Za[0],wa=Za[1],_a=function(){var e=ba;e[Object.keys(e).length]=xa.customerEmails,Sa(e),wa([].concat((0,c.Z)(Ia),[{customerEmails:""}]))};return(0,a.useEffect)((function(){}),[Ia]),(0,a.useEffect)((function(){$s&&window.scrollTo({top:0,behavior:"smooth"})}),[$s]),(0,a.useEffect)((function(){cn&&setTimeout((function(){window.scrollTo(0,0)}),100)}),[cn]),(0,a.useEffect)((function(){mn&&setTimeout((function(){window.scrollTo(0,0)}),100)}),[mn]),(0,a.useEffect)((function(){vn&&setTimeout((function(){window.scrollTo(0,0)}),100)}),[vn]),(0,a.useEffect)((function(){Nn&&setTimeout((function(){window.scrollTo(0,0)}),100)}),[Nn]),(0,a.useEffect)((function(){Cn&&setTimeout((function(){window.scrollTo(0,0)}),100)}),[Cn]),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsxs)("div",{className:"pageTitle",children:[(0,f.jsx)("div",{className:"childOne"}),(0,f.jsx)("div",{className:"childTwo",children:(0,f.jsx)("h2",{children:"Edit"})}),(0,f.jsx)("div",{className:"childThree"})]})}),(0,f.jsx)(j.Z,{routes:Yn,currentScreenName:["Edit"]}),ze?(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(D.hXj,{}),"Customer ",he[0].customerName," updated successfully"]})}):"",He?(0,f.jsxs)("div",{className:"statusMsg error",children:[" ",(0,f.jsxs)("span",{children:[" ",(0,f.jsx)(le.SZZ,{})," Please select the valid values for highlighted fields"," "]})]}):"",$s?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(b.CSE,{}),"Role ",nn," is already exist for the customer"," ",he[0].customerName]})})}):"",cn?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(D.hXj,{}),"Role updated successfully"]})})}):"",mn?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"statusMsg success",children:(0,f.jsxs)("span",{children:[(0,f.jsx)(D.hXj,{}),"Details Saved Successfully"]})})}):"",vn?(0,f.jsxs)("div",{className:"statusMsg success",children:[(0,f.jsx)(D.hXj,{}),"Division saved successfully."]}):"",Nn?(0,f.jsxs)("div",{className:"statusMsg success",children:[(0,f.jsx)(D.hXj,{}),"Customer stakeholder saved successfully"]}):"",Cn?(0,f.jsxs)("div",{className:"statusMsg success",children:[(0,f.jsx)(D.hXj,{}),"Internal Stakeholder saved successfully."]}):"",he.map((function(e){var t,s,n,a,l,i,r,c,o,d,u,m,h,p,x,v,j,g,N,b,S,C,Z,I,k,P,T,F,E,M,A,O,R,H,L,U,B,z,V;return(0,f.jsx)("div",{className:"mb-3 mt-2 container-fluid   customCard cancel",children:(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsx)("div",{className:"col-md-9",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"form-group col-md-8 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"fullName",children:["Customer Name ",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("div",{className:"textfield",children:(0,f.jsx)("input",{type:"text",className:"err text disableField",name:"fullName",id:"fullName",defaultValue:e.customerName,disabled:!0})})]}),(0,f.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"typCustStatusId",children:["Customer Status\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsxs)("select",{ref:function(e){Ae.current[0]=e},className:"text cancel",name:"typCustStatusId",id:"typCustStatusId",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,f.jsx)("option",{value:160,selected:160==(null===(t=he[0])||void 0===t?void 0:t.typCustStatusId)?160:"",children:"New"}),(0,f.jsx)("option",{value:161,selected:161==(null===(s=he[0])||void 0===s?void 0:s.typCustStatusId)?161:"",children:"Active"}),(0,f.jsx)("option",{value:162,selected:162==(null===(n=he[0])||void 0===n?void 0:n.typCustStatusId)?162:"",children:"InActive"})]})]}),(0,f.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,f.jsx)("label",{htmlFor:"size",children:"Size"}),(0,f.jsxs)("select",{className:"cancel",name:"size",id:"size",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Ee.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.id==(null===(s=he[0])||void 0===s?void 0:s.size)?null===(n=he[0])||void 0===n?void 0:n.size:"",children:e.lkup_name},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"salesTerritoryId",children:["Sales Territory\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsxs)("select",{className:"err  text disableField",name:"salesTerritoryId",id:"salesTerritoryId",disabled:"disableField",children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Qe.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.full_name==(null===(s=he[0])||void 0===s?void 0:s.salesterritory)?null===(n=he[0])||void 0===n?void 0:n.salesterritory:"",children:e.full_name},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-4 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"typIndustryId",children:["Industry type\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsxs)("select",{className:"err text disableField",id:"typIndustryId",name:"typIndustryId",disabled:"disableField",children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),lt.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.lkup_name==(null===(s=he[0])||void 0===s?void 0:s.IndustryType)?null===(n=he[0])||void 0===n?void 0:n.IndustryType:"",children:e.lkup_name},t)}))]})]})]})}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"typProjCatId",children:["Project Category\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsxs)("select",{className:"err  text disableField auto text ",name:"typProjCatId",id:"typProjCatId",disabled:"disableField",multiple:"multiple",size:5,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),tt.sort((function(e,t){return e.project_category_name.localeCompare(t.project_category_name)})).map((function(e){return _n.some((function(t){return t.project_category_name===e.project_category_name}))?(0,f.jsx)("option",{value:e.id,children:e.project_category_name},e.id):null}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"salesPersonId",children:["Sales Executive\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("div",{className:"autoComplete-container react  cancel  reactsearchautocomplete",ref:function(e){Ae.current[1]=e},children:(0,f.jsx)(_.ReactSearchAutocomplete,{items:jt,type:"Text",name:"salesPersonId",id:"salesPersonId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",resource:jt,resourceFnc:sa,placeholder:"press space for resource list",onSelect:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{salesPersonId:e.id})}))},showIcon:!1,inputSearchString:null===(a=he[0])||void 0===a?void 0:a.name})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"Month",children:["Effective Month\xa0",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("div",{className:"datepicker",ref:function(e){Ae.current[2]=e},children:(0,f.jsx)(W(),{name:"month",id:"month",className:"cancel",selected:null==On||""==On||void 0==On?"":On,minDate:null==(null===(l=he[0])||void 0===l?void 0:l.month)||""==(null===(i=he[0])||void 0===i?void 0:i.month)?"":new Date(w()(null===(r=he[0])||void 0===r?void 0:r.month).format("MMM-yyyy")),onChange:function(e){Rn(e),zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{month:w()(e).format("yyyy-MM-DD")})}))},placeholderText:"month",dateFormat:"MMM-yyyy",onKeyDown:function(e){e.preventDefault()},showMonthYearPicker:!0})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"clientpartnerId",children:"Client Partner"}),(0,f.jsx)("div",{className:"autoComplete-container  ",children:(0,f.jsx)(_.ReactSearchAutocomplete,{items:yt,type:"Text",name:"clientpartnerId",id:"clientpartnerId",className:"err ",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",resource1:yt,placeholder:"press space for resource list",inputSearchString:null==(null===(c=he[0])||void 0===c?void 0:c.clientpartner)?"":null===(o=he[0])||void 0===o?void 0:o.clientpartner,onSelect:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{clientpartnerId:e.id})}))},showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"engagementPartnerId",children:"Engagement Partner"}),(0,f.jsx)("div",{className:"autoComplete-container",children:(0,f.jsx)(_.ReactSearchAutocomplete,{items:Zt,type:"Text",name:"engagementPartnerId",id:"engagementPartnerId",className:"err ",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"press space for resource list",inputSearchString:null==(null===(d=he[0])||void 0===d?void 0:d.engagementpartner)?"":null===(u=he[0])||void 0===u?void 0:u.engagementpartner,resourceFnc:sa,onSelect:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{engagementPartnerId:e.id})}))},showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"cslHeadId",children:"CSL Head"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:Ft,setFormData:zn,getData:sa,type:"Text",name:"cslHeadId",id:"cslHeadId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(m=he[0])||void 0===m?void 0:m.cslHead)?"":null===(h=he[0])||void 0===h?void 0:h.cslHead,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{cslHeadId:e.id})}))},onClear:na,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"cslId",children:"CSL"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:Ot,setFormData:zn,getData:sa,type:"Text",name:"cslId",id:"cslId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"press space for resource list",inputSearchString:null==(null===(p=he[0])||void 0===p?void 0:p.cslName)?"":null===(x=he[0])||void 0===x?void 0:x.cslName,onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{cslId:e.id})}))},onClear:aa,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"acslId",children:"Associate CSL"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:Ut,setFormData:zn,getData:sa,type:"Text",name:"acslId",id:"acslId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(v=he[0])||void 0===v?void 0:v.AssociateCSL)?"":null===(j=he[0])||void 0===j?void 0:j.AssociateCSL,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{acslId:e.id})}))},onClear:la,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"deliveryPartnerHeadId",children:"Delivery Partner Head"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:Kt,setFormData:zn,getData:sa,type:"Text",name:"deliveryPartnerHeadId",id:"deliveryPartnerHeadId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(g=he[0])||void 0===g?void 0:g.deliverypartnerHead)?"":null===(N=he[0])||void 0===N?void 0:N.deliverypartnerHead,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{deliveryPartnerHeadId:e.id})}))},onClear:ia,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"deliveryPartnerId",children:"Delivery Partner"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:qt,setFormData:zn,getData:sa,type:"Text",name:"deliveryPartnerId",id:"deliveryPartnerId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(b=he[0])||void 0===b?void 0:b.deliverypartner)?"":null===(S=he[0])||void 0===S?void 0:S.deliverypartner,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{deliveryPartnerId:e.id})}))},onClear:ra,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"talentPartnerId",children:"Talent Partner"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:$t,setFormData:zn,getData:sa,type:"Text",name:"talentPartnerId",id:"talentPartnerId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(C=he[0])||void 0===C?void 0:C.TalentPartner)?"":null===(Z=he[0])||void 0===Z?void 0:Z.TalentPartner,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{talentPartnerId:e.id})}))},onClear:ca,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"projectCoordinatorId",children:"Project co-ordinator"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:ns,setFormData:zn,getData:sa,type:"Text",name:"projectCoordinatorId",id:"projectCoordinatorId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(I=he[0])||void 0===I?void 0:I.projectCoordinator)?"":null===(k=he[0])||void 0===k?void 0:k.projectCoordinator,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{projectCoordinatorId:e.id})}))},onClear:oa,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"sqaId",children:"SQA"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:rs,setFormData:zn,getData:sa,type:"Text",name:"sqaId",id:"sqaId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(P=he[0])||void 0===P?void 0:P.SQA)?"":null===(T=he[0])||void 0===T?void 0:T.SQA,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{sqaId:e.id})}))},onClear:da,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"clId",children:"Competency Lead"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:kt,setFormData:zn,getData:sa,type:"Text",name:"clId",id:"clId",className:"err cancel",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",inputSearchString:null==(null===(F=he[0])||void 0===F?void 0:F.competencyLead)?"":null===(E=he[0])||void 0===E?void 0:E.competencyLead,placeholder:"press space for resource list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{clId:e.id})}))},onClear:ua,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"cCountryId",children:"Country"}),(0,f.jsxs)("select",{name:"cCountryId",className:"cancel",id:"cCountryId",onChange:function(e){return Gn(e)},children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),ys.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.country_name==(null===(s=he[0])||void 0===s?void 0:s.country_name)?null===(n=he[0])||void 0===n?void 0:n.country_name:"",children:e.country_name},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"classificationId",children:"Classification"}),(0,f.jsxs)("select",{name:"classificationId",className:"cancel",id:"classificationId",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),ot.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.lkup_name==(null===(s=he[0])||void 0===s?void 0:s.classification)?null===(n=he[0])||void 0===n?void 0:n.classification:"",children:e.lkup_name},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,f.jsx)("input",{type:"text",name:"phone",className:"text cancel",id:"phone",defaultValue:e.phone,maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},onChange:Gn})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"fax",children:"Fax Number"}),(0,f.jsx)("input",{type:"text",className:"text cancel",id:"fax",name:"fax",defaultValue:null===(M=he[0])||void 0===M?void 0:M.fax,maxLength:15,onKeyDown:function(e){return e.keyCode&&(e.keyCode<=47||e.keyCode>=58)&&8!=e.keyCode&&e.preventDefault()},onChange:Gn})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"sfAccountLink",children:"SF Account Link"}),(0,f.jsx)("input",{type:"text",name:"sfAccountLink",className:"text cancel",id:"sfAccountLink",defaultValue:e.sfAccountLink,onChange:Gn})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"website",children:"Website"}),(0,f.jsx)("input",{type:"text",name:"website",className:"text cancel",id:"website",defaultValue:e.website,required:!0,onChange:Gn})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"customerEmails",children:"Customer Email"}),(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-md-10",children:(0,f.jsx)("input",{type:"text",name:"customerEmails",className:"disableField",id:"customerEmails",value:Hn,disabled:!0,onChange:Qn})}),(0,f.jsx)("div",{className:"col-md-1",children:(0,f.jsx)(D.n2B,{cursor:"pointer",color:"black",style:{background:"#abaeaf"},onClick:function(){!function(){var e=ba;if(""!=Bn.customerEmails){var t=Bn.customerEmails.includes(",")?Bn.customerEmails.split(","):Bn.customerEmails;Bn.customerEmails.includes(",")?t.forEach((function(t){e[Object.keys(e).length]=t})):e[Object.keys(e).length]=t,Sa((function(){return e}))}Gs(!0)}()}})})]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"custReferenceable",children:"Is this customer referenceable?"}),(0,f.jsxs)("select",{id:"custReferenceable",className:"cancel",name:"custReferenceable",selected:null==(null===(A=he[0])||void 0===A?void 0:A.custReferenceable)?"":null===(O=he[0])||void 0===O?void 0:O.custReferenceable,onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,f.jsx)("option",{value:1,selected:"1"==(null===(R=he[0])||void 0===R?void 0:R.custReferenceable)?"1":(null===(H=he[0])||void 0===H||H.custReferenceable,""),children:"Yes"}),(0,f.jsx)("option",{value:0,selected:"0"==(null===(L=he[0])||void 0===L?void 0:L.custReferenceable)?"0":(null===(U=he[0])||void 0===U||U.custReferenceable,""),onChange:Gn,children:"No"})]})]}),0==Bn.custReferenceable?(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsxs)("label",{htmlFor:"custReferenceNotes",children:["If no, why not? ",(0,f.jsx)("span",{className:"error-text",children:"*"})]}),(0,f.jsx)("div",{className:"textfield cancel",ref:function(e){Ae.current[3]=e},children:(0,f.jsx)("textarea",{type:"text",className:"cancel",name:"custReferenceNotes",id:"custReferenceNotes",rows:3,required:!0,placeholder:"why not?",defaultValue:null===(B=he[0])||void 0===B?void 0:B.custReferenceNotes,onChange:Gn})})]}):"",(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"accountOwnerId",children:"Account Owner"}),(0,f.jsx)("div",{className:"autoComplete-container cancel  reactautocomplete",children:(0,f.jsx)(ne.Z,{riskDetails:js,setFormData:zn,getData:sa,type:"Text",name:"accountOwnerId",id:"accountOwnerId",fuseOptions:{keys:["id","name"]},resultStringKeyName:"name",placeholder:"Type minimum 3 characters to get the list",onChangeHandler:function(e){zn((function(t){return(0,y.Z)((0,y.Z)({},t),{},{accountOwnerId:e.id})}))},onClear:ma,inputSearchString:null==(null===(z=he[0])||void 0===z?void 0:z.accountowner)?"":null===(V=he[0])||void 0===V?void 0:V.accountowner,showIcon:!1})})]}),(0,f.jsxs)("div",{className:"col-md-3",children:[(0,f.jsx)("label",{htmlFor:"isNewCustomer",children:"New Logo"}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input cancel",type:"radio",value:"1",name:"isNewCustomer",id:"isNewCustomerYes",checked:1==Bn.isNewCustomer,onChange:Wn}),(0,f.jsx)("label",{className:"form-check-label ",htmlFor:"isNewCustomerYes",children:"Yes"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline ",children:[(0,f.jsx)("input",{className:"form-check-input ",type:"radio",value:"0",name:"isNewCustomer",id:"isNewCustomerNo",checked:0==Bn.isNewCustomer,onChange:$n}),(0,f.jsx)("label",{className:"form-check-label ",htmlFor:"isNewCustomerNo",children:"No"})]})]})]})})}))," ",he.map((function(e){var t,s,n;return(0,f.jsxs)("div",{className:"mb-3 mt-2 container-fluid   customCard cancel",children:[(0,f.jsx)("h2",{children:"Invoicing Details"}),(0,f.jsxs)("div",{className:"group-content row",children:[(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"CiInvoiceForId",children:"Create Invoice For"}),(0,f.jsxs)("select",{id:"CiInvoiceForId",name:"CiInvoiceForId",className:"cancel",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,f.jsx)("option",{value:"650",selected:"Customer"==(null===(t=he[0])||void 0===t?void 0:t.invoiceFor)?650:"",children:"Customer"}),(0,f.jsx)("option",{value:"651",selected:"Division"==(null===(s=he[0])||void 0===s?void 0:s.invoiceFor)?651:"",children:"Division"}),(0,f.jsx)("option",{value:"652",selected:"Project"==(null===(n=he[0])||void 0===n?void 0:n.invoiceFor)?652:"",children:"Project"})]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"invoiceCycleId",children:"Invoice Cycle"}),(0,f.jsxs)("select",{id:"invoiceCycleId",className:"cancel",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Zs.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.invoiceCycle==(null===(s=he[0])||void 0===s?void 0:s.invoiceCycle)?null===(n=he[0])||void 0===n?void 0:n.invoiceCycle:"",children:e.invoiceCycle},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-2 mb-2",children:[(0,f.jsx)("label",{htmlFor:"paymentTermsId",children:"Payment Terms"}),(0,f.jsxs)("select",{id:"paymentTermsId",className:"cancel",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),ks.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.paymentTerms==(null===(s=he[0])||void 0===s?void 0:s.paymentTerms)?null===(n=he[0])||void 0===n?void 0:n.paymentTerms:"",children:e.paymentTerms},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-2 mb-2",children:[(0,f.jsx)("label",{htmlFor:"invoiceTimeId",children:"Invoice Time"}),(0,f.jsxs)("select",{id:"invoiceTimeId",className:"cancel",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Fs.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.invoiceTime==(null===(s=he[0])||void 0===s?void 0:s.invoiceTime)?null===(n=he[0])||void 0===n?void 0:n.invoiceTime:"",children:e.invoiceTime},t)}))]})]}),(0,f.jsxs)("div",{className:" col-md-2",children:[(0,f.jsx)("label",{htmlFor:"isExpenseBillable",children:"Expense Billable "}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input cancel",type:"radio",name:"isExpenseBillable",value:"1",id:"isExpenseBillable",checked:1==Bn.isExpenseBillable,onChange:ea}),(0,f.jsx)("label",{className:"form-check-label",htmlFor:"yes",children:"Yes"})]}),(0,f.jsxs)("div",{className:"form-check form-check-inline",children:[(0,f.jsx)("input",{className:"form-check-input cancel",type:"radio",name:"isExpenseBillable",value:"0",id:"isExpenseBillable",checked:0==Bn.isExpenseBillable,onChange:ta}),(0,f.jsx)("label",{className:"form-check-label",htmlFor:"No",children:"No"})]})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"ciDiscountPercent",children:"Discount (%)"}),(0,f.jsx)("input",{type:"text",className:"text cancel",id:"ciDiscountPercent",placeholder:!0,required:!0,defaultValue:null==e.ciDiscountPercent||""==e.ciDiscountPercent?"":e.ciDiscountPercent.toFixed(2),onChange:Gn})]}),(0,f.jsxs)("div",{className:"form-group col-md-3 mb-2",children:[(0,f.jsx)("label",{htmlFor:"CiCurrencyId",children:"Currency"}),(0,f.jsxs)("select",{id:"CiCurrencyId",onChange:Gn,className:"cancel",children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Os.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.currency==(null===(s=he[0])||void 0===s?void 0:s.description)?null===(n=he[0])||void 0===n?void 0:n.description:"",children:e.currency},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-2 mb-2",children:[(0,f.jsx)("label",{htmlFor:"invoiceCultureId",children:"Invoice Culture"}),(0,f.jsxs)("select",{id:"invoiceCultureId",className:"cancel",onChange:Gn,children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Us.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.invoiceTime==(null===(s=he[0])||void 0===s?void 0:s.invoiceCulture)?null===(n=he[0])||void 0===n?void 0:n.invoiceCulture:"",children:e.invoiceTime},t)}))]})]}),(0,f.jsxs)("div",{className:"form-group col-md-2 mb-2",children:[(0,f.jsx)("label",{htmlFor:"invoiceTemplateId",children:"Invoice Template"}),(0,f.jsxs)("select",{name:"invoiceTemplateId",id:"invoiceTemplateId",onChange:Gn,className:"cancel",children:[(0,f.jsx)("option",{value:"",children:" <<Please Select>>"}),Ks.map((function(e,t){var s,n;return(0,f.jsx)("option",{value:e.id,selected:e.invoiceTemplate==(null===(s=he[0])||void 0===s?void 0:s.invoiceTemplate)?null===(n=he[0])||void 0===n?void 0:n.invoiceTemplate:"",children:e.invoiceTemplate},t)}))]})]})]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(){pt(!0)},children:"Invoice Summary"})}),(0,f.jsxs)("div",{className:" form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-3",children:[(0,f.jsxs)("button",{className:"btn btn-primary",type:"submit",onClick:function(){!function(){var e=Ae.current.filter((function(e){return null!=e}));if(Ae.current=e,(0,P.Z)(Ae))return Le(!0),void setTimeout((function(){Le(!1)}),5e3);Bn.customerEmails=Hn,u()({method:"post",url:Xe+"/ProjectMS/Engagement/putEngagementsCusDetails",data:[Bn]}).then((function(e){e.data,xe(),Ve(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){Ve(!1),pe("Dashboard")}),1e3)}))}()},children:[(0,f.jsx)(E.TvB,{})," Save"]}),(0,f.jsxs)("button",{className:"btn btn-secondary",onClick:function(){!function(e){window.location.reload();for(var t=document.getElementsByClassName("cancel"),s=0;s<t.length;s++){var n;t[s].value="",t[s].value=Object.keys(fe).length>0?fe[t[s].id]:"",t[s].classList.contains("reactautocomplete")&&(null===(n=t[s].children[0].children[0].children[0].children[0].children[0].children[1])||void 0===n||n.click())}}()},children:[(0,f.jsx)(F.sQZ,{fontSize:"11px"})," Cancel"]})]}),(0,f.jsx)("div",{children:qs?(0,f.jsx)(ae.Z,{clickButtonPopUp:qs,setClickButtonPopUp:Gs,customerData:he,setDisplayEmail:Te,details:Bn,setDetails:zn,handleChange:Gn,handleAdd:_a,finalState:ba,addList:Ia,setAddList:wa,setAddList1:we,addList1:Ie,setFinalState1:Se,handleAddEmail:_e,finalState1:be,handleChange1:Qn}):""}),ht?(0,f.jsx)(ie,{invSummaryPopUp:ht,setInvSummaryPopUp:pt,customerId:me}):"",(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)($.Z,{customerId:me,setAddMessage:jn}),(0,f.jsx)(ee.Z,{customerId:me,setCsAddMessage:yn}),(0,f.jsx)(te.Z,{customerId:me,setAddIntStakeMessage:Zn}),(0,f.jsx)(se.Z,{customerId:me,cCountryId:ys,customerData:he,rolesValidationMsg:$s,setRolesValidationMsg:en,updatedRole:nn,setUpdatedRole:an,finalTableMsg:cn,setFinalTableMsg:on,setCustRolePopEditMsg:hn})]})]})})),Dn?(0,f.jsx)(x.Z,{handleAbort:function(){En.current&&En.current.abort(),Fn(!1)}}):""]})};var ce=function(){var e=(0,a.useState)(0),t=(0,n.Z)(e,2),s=t[0],c=t[1],d=(0,a.useState)([]),m=(0,n.Z)(d,2),h=m[0],p=m[1],x=o.N.baseUrl,v=(0,a.useState)([]),j=(0,n.Z)(v,2),N=j[0],y=j[1],S=localStorage.getItem("resId"),C=window.location.href,Z=C.split(":"),I=Z[Z.length-1],w=(0,a.useState)("Dashboard"),_=(0,n.Z)(w,2),k=_[0],P=_[1];(0,a.useEffect)((function(){u().get(x+"/CommonMS/master/getTabMenus?ProjectId=".concat(I,"&loggedUserId=").concat(S,"&type=Customer&subType=customer")).then((function(e){var t=e.data;y(t)})),C.includes("dashboard")&&P("Dashboard"),C.includes("engagement")&&P("Engagement");var e=C.split(":");c(e[e.length-1])}),[]);var T=function(){u()({method:"get",url:x+"/customersms/Customers/getCustomersdashboard?cid=".concat(s)}).then((function(e){var t=e.data;p(t)}))};(0,a.useEffect)((function(){T()}),[s]);var D=function(e){var t=new Set;return e.filter((function(e){return!t.has(e.display_name)&&(t.add(e.display_name),!0)}))}(N);return(0,f.jsx)("div",{children:N.length>0?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:" tabs",children:N.map((function(e){return(0,f.jsx)("button",{className:k===e.display_name.toString()?"buttonDisplayClick":"buttonDisplay",onClick:function(){P(e.display_name.toString())},children:e.display_name},e.id)}))}),"Documents"===k&&(0,f.jsx)(B.default,{customerId:s,mainMenu:N}),"Edit"===k&&(0,f.jsx)(re,{customerId:s,customerData:h,getCustomererviewData:T,mainMenu:N,setButtonState:P}),"Financials"===k&&(0,f.jsx)(i.default,{customerId:s,mainMenu:N}),"Account Plan"===k&&(0,f.jsx)(l.default,{customerId:s,mainMenu:N}),"QBR"===k&&(0,f.jsx)(r.default,{customerId:s,filteredData:D,mainMenu:N}),"Risks"===k&&(0,f.jsx)(A,{customerId:s,mainMenu:N}),"Projects"===k&&(0,f.jsx)(g,{customerId:s,mainMenu:N}),"Initiatives"===k&&(0,f.jsx)(M,{customerId:s,mainMenu:N}),"Relationship Heatmap"===k&&(0,f.jsx)(H,{customerId:s,mainMenu:N}),"Engagement"===k&&(0,f.jsx)(U,{customerId:s,mainMenu:N}),"Technology"===k&&(0,f.jsx)(V,{customerId:s,mainMenu:N}),"Dashboard"===k&&(0,f.jsx)(X,{customerId:s,mainMenu:N})]}):(0,f.jsx)("div",{className:"statusMsg error",children:(0,f.jsxs)("span",{className:"error-block",children:[(0,f.jsx)(b.CSE,{})," \xa0 You dont have Permission to View this Customer Data"]})})})}}}]);
//# sourceMappingURL=236.d017b126.chunk.js.map