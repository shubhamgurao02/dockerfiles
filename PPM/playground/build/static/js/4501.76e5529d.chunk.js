"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4501],{4501:function(e,n,s){s.r(n);var t=s(29439),a=s(72791),l=s(59513),r=s.n(l),o=s(36167),c=s(74569),i=s.n(c),d=s(34831),u=s(47477),m=s(25327),h=s(72426),j=s.n(h),x=s(78983),f=s(32125),v=s(56355),p=s(78820),b=s(83854),N=s(72920),g=s(80184);n.default=function(){var e,n=(0,a.useState)(!1),s=(0,t.Z)(n,2),l=s[0],c=s[1],h=(0,a.useRef)([]),y=(0,a.useState)(!1),D=(0,t.Z)(y,2),_=D[0],S=D[1],w=(0,a.useState)(!1),Z=(0,t.Z)(w,2),M=Z[0],C=Z[1],F=(0,a.useState)(new Date),J=(0,t.Z)(F,2),T=J[0],k=J[1],R=j()(T).format("yyyy-MM-DD"),A=(0,a.useState)(new Date),E=(0,t.Z)(A,2),U=E[0],H=E[1],L=j()(U).format("yyyy-MM-DD"),I=(0,a.useState)([]),K=(0,t.Z)(I,2),O=K[0],P=K[1],Y=(0,a.useState)([]),q=(0,t.Z)(Y,2),B=q[0],V=q[1],$=(0,a.useState)([]),z=(0,t.Z)($,2),G=z[0],Q=z[1],W=(0,a.useState)("3,4,37,38,17,18,19,8,9,10,11,13,14,15,16,32,36"),X=(0,t.Z)(W,2),ee=X[0],ne=X[1],se=d.N.baseUrl,te=(0,a.useState)([]),ae=(0,t.Z)(te,2),le=ae[0],re=ae[1],oe=(0,a.useState)("0,1"),ce=(0,t.Z)(oe,2),ie=ce[0],de=ce[1],ue=(0,a.useState)(v.UdN),me=(0,t.Z)(ue,2),he=me[0],je=me[1];console.log("axios multiselect--------------------",ee),(0,a.useEffect)((function(){i().get(se+"/reportms/report/getJobTitle").then((function(e){var n=e.data,s=[];console.log(n),n.length>0&&n.forEach((function(e){var n={label:e.jobTitle,value:e.id};s.push(n)})),P(s),Q(s)})).catch((function(e){return console.log(e)}))}),[]);var xe=(0,a.useRef)(null),fe=function(e){return(0,g.jsx)("span",{children:0===e.status?"Failure":"Success"})},ve=function(e){return(0,g.jsx)("div",{className:"ellipsis",title:e.job_name,children:e.job_name})},pe=function(e){return(0,g.jsx)("div",{title:e.run_date,children:e.run_date})},be=function(e){return(0,g.jsx)("div",{title:e.run_time,children:e.run_time})},Ne=function(e){return(0,g.jsx)("div",{title:e.duration,children:e.duration})},ge=null===(e=Object.keys(B))||void 0===e?void 0:e.map((function(e,n){return(0,g.jsx)(m.Z,{sortable:!0,body:"status"==e?fe:"job_name"===e?ve:"run_date"==e?pe:"run_time"==e?be:"duration"==e&&Ne,field:e,header:B[e]},e)}));return console.log(le),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"col-md-12",children:(0,g.jsxs)("div",{className:"pageTitle",children:[(0,g.jsx)("div",{className:"childOne"}),(0,g.jsx)("div",{className:"childTwo",children:(0,g.jsx)("h2",{children:"Jenkins Jobs Daily Status"})}),(0,g.jsx)("div",{className:"childThree"})]})}),M?(0,g.jsxs)("div",{className:" ml-3 mr-4 statusMsg error",children:[(0,g.jsx)(p.CSE,{})," Please select valid values for highlighted fields"]}):"",(0,g.jsxs)("div",{className:"group mb-3 customCard",children:[(0,g.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,g.jsx)("h2",{children:"Search Filters"}),(0,g.jsx)("div",{className:"helpBtn",children:(0,g.jsx)(N.Z,{pdfname:"JobdailystatusAdministration.pdf",name:"Job Daily Status Help"})}),(0,g.jsx)("div",{onClick:function(){c(!l),je(l?v.UdN:v.NR5)},children:(0,g.jsx)("span",{children:he})})]}),(0,g.jsx)(x.V9,{visible:!l,children:(0,g.jsxs)("div",{className:"group-content row",children:[(0,g.jsx)("div",{className:" col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsxs)("label",{className:"col-5",htmlFor:"From Date",children:["From Date",(0,g.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsx)(r(),{showMonthDropdown:!0,showYearDropdown:!0,selected:T,maxDate:new Date,onChange:function(e){k(j()(e)._d)},onKeyDown:function(e){e.preventDefault()},dateFormat:"dd-MMM-yyyy"})})]})}),(0,g.jsx)("div",{className:" col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsxs)("label",{className:"col-5",htmlFor:"To Date",children:["To Date",(0,g.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsx)(r(),{showMonthDropdown:!0,showYearDropdown:!0,selected:U,minDate:T,maxDate:new Date,onChange:function(e){return H(j()(e)._d)},dateFormat:"dd-MMM-yyyy",onKeyDown:function(e){e.preventDefault()}})})]})}),(0,g.jsx)("div",{className:" col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsxs)("label",{className:"col-5",htmlFor:"Job Title",children:["Job Title",(0,g.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6 multiselect",ref:function(e){h.current[0]=e},children:(0,g.jsx)(o.NU,{id:"buId",ArrowRenderer:function(e){e.expanded;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(v.qL$,{className:"chevronIcon"})})},valueRenderer:function(e,n){var s=e.map((function(e){return e.value})),t=n.map((function(e){return e.value}));return s.length===t.length?"<< ALL >>":e.map((function(e){return e.label})).join(", ")},options:O,hasSelectAll:!0,value:G,onChange:function(e){Q(e);var n=[];e.forEach((function(e){n.push(e.value)})),ne(n.toString())}})})]})}),(0,g.jsx)("div",{className:" col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsx)("label",{className:"col-5",htmlFor:"Job Status",children:"Job Status"}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsxs)("select",{id:"Job Status",onChange:function(e){console.log(e.target.value),de(e.target.value)},children:[(0,g.jsx)("option",{value:"0,1",children:"<<Please Select>>"}),(0,g.jsx)("option",{value:"1",children:"Success"}),(0,g.jsx)("option",{value:"0",children:"Failure"})]})})]})})," ",(0,g.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3",children:(0,g.jsxs)("button",{type:"submit",className:"btn btn-primary",onClick:function(){var e=(0,f.Z)(h);console.log(e),1==e?C(!0):(S(!0),xe.current=new AbortController,console.log(G),console.log(ie),i().get("".concat(se,"/reportms/report/getjobsDailyStatus?status=").concat(ie,"&fromdate=").concat(R,"&todate=").concat(L,"&jobid=").concat(ee)).then((function(e){for(var n=e.data,s=0;s<n.length;s++)n[s].run_date=null==n[s].run_date?"":j()(n[s].run_date).format("DD-MMM-yyyy");re([{job_name:"Job Name",run_date:"Run Date",run_time:"Run Time",duration:"Duration",status:" Status"}].concat(n)),C(!1),console.log(n),setTimeout((function(){S(!1)}),300)})).catch((function(e){console.log("Error :"+e)})))},children:[(0,g.jsx)(v.U41,{})," Search",""]})})]})})]})]}),_?(0,g.jsx)(b.Z,{handleAbort:function(){xe.current&&xe.current.abort(),S(!1)}}):"",(0,g.jsx)("div",{children:(0,g.jsx)(u.Z,{data:le,dynamicColumns:ge,headerData:B,setHeaderData:V,rows:10})})]})}},25327:function(e,n){n.Z=void 0;var s=function(e){return null};n.Z=s}}]);
//# sourceMappingURL=4501.76e5529d.chunk.js.map