"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8757,1634],{28757:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var s=n(4942),o=n(1413),l=n(29439),a=n(72791),i=(n(41980),n(39122),n(31896),n(81975),n(11634)),r=n(74569),c=n.n(r),d=n(7692),u=(n(72426),n(11167)),p=n(39126),m=n(78820),h=n(14651),f=(n(83854),n(40071)),x=n(41578),v=n(34831),j=n(93762),g=n(11087),y=n(78983),S=n(87890),b=n(37145),N=n(1063),Z=n(25103),F=n(80184);n(31052);var C=function(e){var t=e.data,n=e.rows,s=e.value,i=e.dynamicColumns,r=e.headerData,c=e.setHeaderData,d=(e.setSelectedIds,e.setCheckedData);console.log(t);var u=(0,a.useState)([]),p=(0,l.Z)(u,2),m=p[0],h=p[1],f=(0,a.useState)([]),x=(0,l.Z)(f,2),v=x[0],j=x[1],g=(0,a.useState)([]),y=(0,l.Z)(g,2),C=(y[0],y[1]),I=(0,a.useState)(),T=(0,l.Z)(I,2),M=T[0],D=T[1];(0,a.useEffect)((function(){if(M&&M.length>0)M.map((function(e){return e.id}))}),[M]),(0,a.useEffect)((function(){h(JSON.parse(JSON.stringify(t)))}),[t]),(0,a.useEffect)((function(){if(m.length>0){c(m[0]),j(m.splice(1));var e=[],t=m[0];Object.keys(t).forEach((function(n){"StatusId"!=n&&e.push({title:t[n],dataKey:n})})),C(e)}}),[m]);var k={contains:{value:null,matchMode:S.a6.CONTAINS}},q=(0,a.useState)({global:k.contains}),z=(0,l.Z)(q,2),w=z[0],P=z[1];(0,a.useEffect)((function(){P({global:k.contains})}),[r]);var E=(0,a.useState)(""),O=(0,l.Z)(E,2),_=O[0],A=O[1],U=function(e){var t=e.target.value,n=(0,o.Z)({},w);n.global.value=t,P(n),A(t)},L=(0,F.jsx)("div",{className:"flex  flex-row-reverse",children:(0,F.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,F.jsx)("i",{className:"pi pi-search"}),(0,F.jsx)(Z.o,{defaultValue:_,onChange:U,placeholder:"Keyword Search"})]})}),B=0===(null===M||void 0===M?void 0:M.length);return(0,F.jsx)("div",{className:"darkHeader",children:Object.keys(r).length>0&&(0,F.jsxs)(b.w,{paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",rowsPerPageOptions:[10,25,50],paginationcomponentoptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},selection:M,selectAll:!0,value:v,paginator:!0,showGridlines:!0,rows:n,filters:w,selectionMode:"checkbox",responsiveLayout:"scroll",header:L,onSelectionChange:function(e){return function(e){var t=e.value;t.length>0&&D(t);var n=e.value,o=n.map((function(e){return e.id}));d("trackerscreensadder"==s?n:o[0]);var l=String(n.map((function(e){return e.id})));console.log(l);var a=l.replace(/,/g,";");console.log(a),d(a),D(e.value)}(e)},className:" primeReactDataTable checkboxSelect ",children:[(0,F.jsx)(N.s,{alignHeader:"center",style:{textAlign:"center"},disabled:B,selectionMode:(null===t||void 0===t?void 0:t.length)>0?"multiple":""}),i]})})},I=n(93433),T=n(6748),M=n(99259),D=n(66934),k=n(12065),q=n(99651),z=n(41523),w=n(56125),P=n(27336),E=n(73728),O=n(63509);function _(e){return(0,F.jsx)(M.Z,(0,o.Z)((0,o.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,F.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function A(e){return(0,F.jsx)(M.Z,(0,o.Z)((0,o.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,F.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function U(e){var t=(0,P.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,F.jsx)(P.q.div,{style:t,children:(0,F.jsx)(w.Z,(0,o.Z)({},e))})}var L=(0,D.ZP)((function(e){var t,n,s,l,i,r;return(0,F.jsx)("div",{onContextMenu:function(e){e.preventDefault(),console.log("Right Clicked");var t=document.createElement("button");t.innerText="Delete",document.body.appendChild(t)},children:(0,a.createElement)(q.Z,(0,o.Z)((0,o.Z)({},e),{},{key:String(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id),label:(0,F.jsx)(O.ZP,{title:null===e||void 0===e||null===(s=e.node)||void 0===s?void 0:s.folder_name,children:(0,F.jsx)("span",{children:null===e||void 0===e||null===(l=e.node)||void 0===l?void 0:l.folder_name})}),TransitionComponent:U}),Array.isArray(null===e||void 0===e||null===(i=e.node)||void 0===i?void 0:i.subRows)?null===e||void 0===e||null===(r=e.node)||void 0===r?void 0:r.subRows.map((function(e){return B(e)})):console.log("coming here?"))})}))((function(e){var t,n=e.theme;return t={},(0,s.Z)(t,"& .".concat(z.Z.iconContainer),{"& .close":{opacity:.3}}),(0,s.Z)(t,"& .".concat(z.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,k.Fq)(n.palette.text.primary,.4))}),t})),B=function(e){return(0,F.jsx)("div",{children:(0,F.jsx)(L,{node:e})})};function R(e){var t=e.defaultExpandedRows,n=e.data,l=e.setId,a=e.setLabelName,i=e.setKey,r=e.setSelectedFile,c=function(e,t){t=(0,o.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},l=[],a=t.children;return e.forEach((function(e){var l=e[t.id],i=e[t.parentId];n[l]=(0,o.Z)((0,o.Z)((0,s.Z)({},a,[]),e),n[l]),n[i]=n[i]||(0,s.Z)({},a,[]),n[i][a].push(n[l])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&l.push.apply(l,(0,I.Z)(e[a]))})),l}(n);console.log(n,"data>>>>");return console.log(c),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(T.Z,{"aria-label":"rich object",defaultExpanded:[t],defaultCollapseIcon:(0,F.jsxs)("div",{className:"iconContainer",children:[(0,F.jsx)(_,{className:"hierarchyIcons"}),(0,F.jsx)(E.FYx,{className:"hierarchyIcons folder"})]}),defaultExpandIcon:(0,F.jsxs)("div",{className:"iconContainer",children:[(0,F.jsx)(A,{className:"hierarchyIcons"}),(0,F.jsx)(E.FYx,{className:"hierarchyIcons folder"})]}),defaultEndIcon:(0,F.jsx)(E.FYx,{className:"hierarchyIcons folder"}),defaultParentIcon:(0,F.jsx)(E.FYx,{className:"hierarchyIcons folder"}),className:"hierarchyTree",onNodeSelect:function(e,t){console.log("nodeid",t),console.log(e.target.innerHTML),i((function(e){return e+1})),r([]),a(""),e.target.innerHTML.trim().startsWith("<path")?a(""):a(e.target.innerHTML),l(t)},children:c.map((function(e){return B(e)}))})})}var V=n(56355),Y=n(70828);var H=function(){var e,t=v.N.baseUrl,r=(0,a.useState)(!1),S=(0,l.Z)(r,2),b=S[0],N=S[1],Z=(0,a.useState)(!1),I=(0,l.Z)(Z,2),T=I[0],M=I[1],D=(0,a.useState)([]),k=(0,l.Z)(D,2),q=k[0],z=k[1],w=(0,a.useState)(!1),P=(0,l.Z)(w,2),E=P[0],O=P[1],_=(0,a.useState)([]),A=(0,l.Z)(_,2),U=A[0],L=A[1],B=(0,a.useState)(!1),H=(0,l.Z)(B,2),Q=H[0],G=H[1],K=(0,a.useState)(!1),X=(0,l.Z)(K,2),J=X[0],W=X[1],$=(0,a.useState)(!1),ee=(0,l.Z)($,2),te=(ee[0],ee[1]),ne=(0,a.useState)(!1),se=(0,l.Z)(ne,2),oe=se[0],le=se[1],ae=(0,a.useState)(),ie=(0,l.Z)(ae,2),re=(ie[0],ie[1],(0,a.useState)([])),ce=(0,l.Z)(re,2),de=ce[0],ue=ce[1],pe=(0,a.useState)([{}]),me=(0,l.Z)(pe,2),he=me[0],fe=me[1],xe=(0,a.useState)("41"),ve=(0,l.Z)(xe,2),je=ve[0],ge=ve[1],ye=(0,a.useState)(!1),Se=(0,l.Z)(ye,2),be=Se[0],Ne=Se[1],Ze=(0,a.useState)(" "),Fe=(0,l.Z)(Ze,2),Ce=Fe[0],Ie=Fe[1],Te=(0,a.useState)(!1),Me=(0,l.Z)(Te,2),De=Me[0],ke=Me[1],qe=(0,a.useState)(!1),ze=(0,l.Z)(qe,2),we=ze[0],Pe=(ze[1],(0,a.useState)(!1)),Ee=(0,l.Z)(Pe,2),Oe=Ee[0],_e=Ee[1],Ae=(0,a.useState)(!1),Ue=(0,l.Z)(Ae,2),Le=Ue[0],Be=Ue[1],Re=(0,a.useState)(!1),Ve=(0,l.Z)(Re,2),Ye=Ve[0],He=Ve[1];console.log(de);var Qe=(0,a.useState)(!1),Ge=(0,l.Z)(Qe,2),Ke=Ge[0],Xe=Ge[1],Je=(0,a.useState)(""),We=(0,l.Z)(Je,2),$e=(We[0],We[1]),et=(0,a.useState)(""),tt=(0,l.Z)(et,2),nt=tt[0],st=tt[1],ot=(0,a.useState)(""),lt=(0,l.Z)(ot,2),at=lt[0],it=lt[1],rt=(0,a.useRef)(null),ct=(0,a.useState)([]),dt=(0,l.Z)(ct,2),ut=(dt[0],dt[1],localStorage.getItem("resId")),pt=(0,a.useState)([]),mt=(0,l.Z)(pt,2),ht=mt[0],ft=mt[1],xt=(0,a.useState)(0),vt=(0,l.Z)(xt,2),jt=vt[0],gt=(vt[1],(0,a.useState)("")),yt=(0,l.Z)(gt,2),St=(yt[0],yt[1]),bt=(0,a.useState)([]),Nt=(0,l.Z)(bt,2),Zt=Nt[0],Ft=Nt[1],Ct=(0,a.useState)([]),It=(0,l.Z)(Ct,2),Tt=(It[0],It[1]),Mt=(0,a.useState)([]),Dt=(0,l.Z)(Mt,2),kt=(Dt[0],Dt[1]),qt=n(72426),zt=(0,a.useState)([]),wt=(0,l.Z)(zt,2),Pt=wt[0],Et=wt[1];console.log(Pt,"docNames");var Ot=(0,a.useState)([]),_t=(0,l.Z)(Ot,2),At=_t[0],Ut=_t[1],Lt=(0,a.useState)(0),Bt=(0,l.Z)(Lt,2),Rt=Bt[0],Vt=Bt[1],Yt=(0,a.useState)([]),Ht=(0,l.Z)(Yt,2),Qt=Ht[0],Gt=Ht[1],Kt=(0,a.useState)(!1),Xt=(0,l.Z)(Kt,2),Jt=Xt[0],Wt=Xt[1];console.log(Jt,"validation"),console.log(Qt);var $t=At,en="".concat(" Create Folder Under","  ").concat($t),tn=function(){te(!0),rt.current=new AbortController,console.log(je,":::::::::::::::::::::::::"),c()({method:"get",url:t+"/governancems/QMS/getQMSDocumentsBySp?pid=".concat(je),signal:rt.current.signal}).then((function(e){var t=e.data;Gt(t.map((function(e){return e.FileName})));for(var n=t.map((function(e){return""===e.LastUpdatedBy?(0,o.Z)((0,o.Z)({},e),{},{LastUpdatedBy:"NA"}):e})),s=0;s<n.length;s++)n[s].FileName=null==n[s].FileName?"":n[s].FileName.split(".")[0],n[s].CreatedOn=null==n[s].CreatedOn?"":qt(n[s].CreatedOn).format("DD-MMM-yyyy hh:mm:ss A"),n[s].lastUpdatedOn=null==n[s].lastUpdatedOn?"":qt(n[s].lastUpdatedOn).format("DD-MMM-yyyy hh:mm:ss A"),n[s].Version=null==n[s].Version?"":parseFloat(n[s].Version).toFixed(1);G(["Version"]),W([""]),te(!1),z([{FileName:"File Name",FileSize:"File Size",Version:"Version",FileType:"File Type",CreatedOn:"Created On",CreatedBy:"Created By",lastUpdatedOn:"Updated On",LastUpdatedBy:"Updated By",Action:"Action"}].concat(n)),setTimeout((function(){te(!1)}),100)})).catch((function(e){}))},nn=function(){c()({method:"get",url:t+"/governancems/QMS/getQMSDocumentsFolder"}).then((function(e){var t=e.data;console.log(t,"+++++++++++++++++++++"),fe(t)}))};console.log(he.folder_name,"hierarchydata:::::"),(0,a.useEffect)((function(){nn()}),[]);var sn=function(e){console.log(e,",,,,,,,,,,,,,,,,,,,"),ke(!0),c()({method:"post",url:t+"/ProjectMS/ContractDocuments/deletefile?docId=".concat(Ce)}).then((function(e){tn(),Ne(!1),setTimeout((function(){ke(!1)}),1e3)}))};(0,a.useEffect)((function(){tn(),nn(),c()({method:"GET",url:t+"/governancems/QMS/getQMSChildFolderNames?pid=".concat(je)}).then((function(e){var t=e.data;Et(t),console.log(t,"getChildFolders:::::")}))}),[je]);var on=function(e){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{align:"center","data-toggle":"tooltip",title:e.FileType,children:".pdf"==e.FileType?(0,F.jsx)(p.DWq,{size:"1.8em",style:{color:"#428bca"}}):".xlsx"==e.FileType?(0,F.jsx)(m.BXA,{size:"1.8em",style:{color:"#428bca"}}):".html"==e.FileType?(0,F.jsx)(f.UuI,{size:"2.0em",style:{color:"#428bca"}}):".pptx"==e.FileType?(0,F.jsx)(p.pvk,{size:"1.5em",style:{color:"#428bca"}}):".txt"==e.FileType?(0,F.jsx)(x.RxU,{size:"2.0em",style:{color:"#428bca"}}):".zip"==e.FileType?(0,F.jsx)(p.au2,{size:"1.8em",style:{color:"#428bca"}}):".xml"==e.FileType?(0,F.jsx)(BsFiletypeXml,{size:"1.8em",style:{color:"#428bca"}}):".jpeg"==e.FileType||".PNG"==e.FileType?(0,F.jsx)(m.BYk,{size:"2.0em",style:{color:"#428bca"}}):".jpg"==e.FileType?(0,F.jsx)(m.opy,{size:"2.0em",style:{color:"#428bca"}}):".png"==e.FileType?(0,F.jsx)(m.BYk,{size:"2.0em",style:{color:"#428bca"}}):".4"==e.FileType?(0,F.jsx)(m.opy,{size:"2.0em",style:{color:"#428bca"}}):".docx"==e.FileType||".doc"==e.FileType?(0,F.jsx)(V.mGS,{size:"1.8em",style:{color:"#428bca"}}):".xls"==e.FileType||".xlsm"==e.FileType?(0,F.jsx)(m.BXA,{size:"1.8em",style:{color:"#428bca"}}):".mpp"==e.FileType?(0,F.jsx)(h.wfv,{size:"1.8em",style:{color:"#428bca"}}):".ppt"==e.FileType?(0,F.jsx)(p.pvk,{size:"1.5em",style:{color:"#428bca"}}):".html"==e.FileType||".htm"==e.FileType?(0,F.jsx)(m.GXm,{size:"2.0em",style:{color:"#428bca"}}):".PPT"==e.FileType?(0,F.jsx)(p.pvk,{size:"1.5em",style:{color:"#428bca"}}):".csv"==e.FileType?(0,F.jsx)(V.l7t,{size:"1.5em",style:{color:"#428bca"}}):""})})},ln=function(e){return console.log(e,"data"),(0,F.jsxs)("div",{align:"center ","data-toggle":"tooltip",title:"Download Document",children:[(0,F.jsx)(i.Z,{className:"linkSty",style:{cursor:"pointer",color:"#86b558"},onClick:function(){return function(e,n){var s=document.createElement("a");s.href=t+"/CommonMS/document/downloadFile?documentId=".concat(e,"&svnRevision=").concat(n),s.click()}(e.docId,e.svn_revision,e.FileName)}}),(0,F.jsx)(m.YK6,{"data-toggle":"tooltip",title:"Delete",size:"1.3em",style:{cursor:"pointer",color:"orange"},onClick:function(t){Ne(!0),Ie(e.docId)}})]})},an=function(e){return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.FileName,children:e.FileName})},rn=function(e){return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.FileSize,style:{fontStyle:"italic"},children:e.FileSize})},cn=function(e){return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.CreatedBy,children:e.CreatedBy})},dn=function(e){return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.LastUpdatedBy,children:e.LastUpdatedBy})},un=function(e){qt(e.CreatedOn).format("DD - MM - YYYY");return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.CreatedOn,children:e.CreatedOn})},pn=function(e){return(0,F.jsx)("div",{className:"ellipsis","data-toggle":"tooltip",title:e.lastUpdatedOn,children:e.lastUpdatedOn})},mn=function(e){var t;null===(t=J[0])||void 0===t||t.split(":");return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(g.rU,{"data-toggle":"tooltip",title:e.Version,style:{textDecoration:"underline",float:"right"},onClick:function(){le(!0)},children:e[Q[0]]})})},hn=function(e){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("input",{type:"checkbox"})})},fn=null===(e=Object.keys(U))||void 0===e?void 0:e.map((function(e,t){return(0,F.jsx)(u.sgG,{sortable:!0,body:"FileName"==e?an:"checkbox"==e?hn:"FileType"==e?on:"Version"==e?mn:"Action"==e&&ln||"FileSize"==e&&rn||"CreatedBy"==e&&cn||"CreatedOn"==e&&un||"lastUpdatedOn"==e&&pn||"LastUpdatedBy"==e&&dn,field:e,header:U[e]},e)}));function xn(e){var t=e.deletePopup,n=e.setDeletePopup;return(0,F.jsx)("div",{children:(0,F.jsxs)(y.Tk,{visible:t,backdrop:"static",size:"xs",className:"ui-dialog",onClose:function(){return n(!1)},children:[(0,F.jsx)(y.p0,{className:"",children:(0,F.jsx)(y.fl,{children:(0,F.jsx)("span",{className:"",children:"Delete"})})}),(0,F.jsxs)(y.sD,{children:[(0,F.jsx)("h6",{children:"Are you sure you want to permanently remove this item ?"}),(0,F.jsxs)("div",{className:"btn-container center my-2",children:[(0,F.jsxs)("button",{className:"btn btn-primary",onClick:function(){sn()},children:[(0,F.jsx)(p.IQF,{})," OK"," "]}),(0,F.jsxs)("button",{className:"btn btn-secondary",onClick:function(){n(!1)},children:[(0,F.jsx)(Y.sQZ,{})," Cancel"," "]})]})]})]})})}function vn(e){var t=e.versPopup,n=e.setVersPopup;return(0,F.jsx)("div",{children:(0,F.jsxs)(y.Tk,{visible:t,size:"xs",className:"ui-dialog",onClose:function(){return n(!1)},children:[(0,F.jsx)(y.p0,{className:"",children:(0,F.jsx)(y.fl,{children:(0,F.jsx)("span",{className:"",children:"Version History"})})}),(0,F.jsx)(y.sD,{children:(0,F.jsx)("div",{className:"col-12 p-0",children:(0,F.jsx)("table",{className:"table table-bordered table-striped",role:"grid",children:(0,F.jsxs)("tbody",{children:[(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Older Versions"}),(0,F.jsx)("th",{children:"Updated By"})]}),(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:"2",children:(0,F.jsx)("center",{children:"No Older Versions"})})})]})})})})]})})}return(0,a.useEffect)((function(){q[0]&&L(JSON.parse(JSON.stringify(q[0])))}),[q]),(0,a.useEffect)((function(){Le&&window.scrollTo({top:0,behavior:"smooth"})}),[Le]),(0,a.useEffect)((function(){Jt&&window.scrollTo({top:0,behavior:"smooth"})}),[Jt]),(0,F.jsxs)("div",{children:[we?(0,F.jsxs)("div",{className:"statusMsg error",children:[(0,F.jsx)(m.CSE,{}),"Please enter document name to search"]}):"",Le?(0,F.jsxs)("div",{className:"statusMsg error",children:[(0,F.jsx)(m.CSE,{}),"Please select file(s) to upload"]}):"",Ye?(0,F.jsxs)("div",{className:"statusMsg success",children:[(0,F.jsx)(d.hXj,{}),"\xa0 Project ",ht," uploaded Successfully"]}):"",Jt&&(0,F.jsxs)("div",{className:"statusMsg error",children:[(0,F.jsx)(m.CSE,{}),ht," file(s) already exists in ",At]}),De?(0,F.jsxs)("div",{className:"statusMsg success",children:[(0,F.jsx)(p.IQF,{}),"\xa0 File deleted successfully"]}):"",(0,F.jsx)("div",{className:"col-md-12",children:(0,F.jsxs)("div",{className:"pageTitle",children:[(0,F.jsx)("div",{className:"childOne"}),(0,F.jsx)("div",{className:"childTwo",children:(0,F.jsx)("h2",{children:"QMS Documents List"})}),(0,F.jsx)("div",{className:"childThree"})]})}),(0,F.jsxs)("div",{className:"row",children:[(0,F.jsxs)("div",{className:"col-md-3 customCard ",children:[(0,F.jsx)("div",{className:"col-md-12",children:(0,F.jsx)("h2",{children:"Document Folders"})}),Oe?(0,F.jsxs)("div",{className:"statusMsg error",children:[(0,F.jsx)(m.CSE,{}),"Please enter the folder name to be created"]}):"",b?(0,F.jsxs)("div",{className:"statusMsg success",children:[(0,F.jsx)(d.hXj,{}),"\xa0Folder ","::"+nt," Successfully Created"]}):"",Ke?(0,F.jsxs)("div",{className:"statusMsg error",children:[" ",(0,F.jsx)(m.CSE,{})," Folder is already exist with this name"]}):"",(0,F.jsxs)("div",{className:"inline-form singleFeild left",children:[(0,F.jsx)("input",{type:"text",id:"Document",placeholder:""+en,className:"unique",value:nt,onChange:function(e){return st(e.target.value)}}),(0,F.jsxs)("button",{type:"button",title:"Create Folder",className:"btn btn-primary",placeholder:"Create Folder Under {hierarchydata.folder_name}.",onClick:function(){!function(){if(""===nt.trim())_e(!0),N(!1),setTimeout((function(){_e(!1)}),3e3)}(),st(""),function(){if(0!==nt.length)if(nt.length>0&&(_e(!1),N(!0)),Pt.filter((function(e){return null!==e})).some((function(e){return e.folder_name==nt}))){for(var e=document.getElementsByClassName("unique"),n=0;n<e.length;n++)e[n].classList.add("error-block");Xe(!0),N(!1),setTimeout((function(){Xe(!1)}),3e3)}else{for(var s=document.getElementsByClassName("unique"),o=0;o<s.length;o++)s[o].classList.remove("error-block");Xe(!1),c()({method:"post",url:t+"/ProjectMS/ContractDocuments/createFolder?parentId=".concat(je,"&loggedUserId=").concat(ut,"&folderName=").concat(nt)}).then((function(e){var t=e.data;St(t),nn(),N(!0),setTimeout((function(){N(!1)}),1e3)})).catch((function(e){}))}}()},children:[(0,F.jsx)(h.lzg,{}),"New"]})]}),(0,F.jsx)(R,{defaultExpandedRows:String(jt),data:he,setId:ge,SetDocFolderId:it,setLabel:$e,setAddVisible:M,setLabelName:Ut,setKey:Vt,setSelectedFile:Ft})]}),(0,F.jsxs)("div",{className:"col-md-9 customCard",children:[(0,F.jsx)("h2",{children:"Document Repository"}),(0,F.jsx)(C,{data:q,rows:10,linkColumns:Q,linkColumnsRoutes:J,dynamicColumns:fn,headerData:U,setHeaderData:L,setCheckedData:ue}),(0,F.jsx)("div",{className:" form-group col-12 btn-container center my-3",children:(0,F.jsxs)("button",{className:"btn btn-primary",type:"Add",onClick:function(){M(!0),setTimeout((function(){window.scrollTo({top:150,behavior:"smooth"})}),500)},disabled:T,children:[(0,F.jsx)(V.wEH,{})," Add"]})}),E?(0,F.jsx)(j.Z,{openPopup:E,setOpenPopup:O,hierarchydata:he,docFolderId:at,selectedIds:selectedIds,setSelectedIds:setSelectedIds,SetDocFolderId:it,getapiData:tn,setCheckboxSelect:setCheckboxSelect}):"",be?(0,F.jsx)(xn,{deletePopup:be,setDeletePopup:Ne}):"",oe?(0,F.jsx)(vn,{versPopup:oe,setVersPopup:le}):"",T&&(0,F.jsx)("div",{children:(0,F.jsxs)("div",{children:[(0,F.jsx)("div",{className:"col-md-12 my-1",children:(0,F.jsxs)("div",{className:"statusMsg warning",children:[(0,F.jsx)("b",{children:"Note :"})," You can select 10 files at max."]})}),(0,F.jsx)("div",{className:"col-12 p-0",children:(0,F.jsxs)("div",{style:{border:"1px solid #cdcdcd"},children:[(0,F.jsx)("h3",{style:{fontSize:"initial",border:"1px solid #cdcdcd",color:"black",padding:"5px",backgroundColor:"#f4f4f4"},children:"Browse Document"}),(0,F.jsx)("input",{type:"file",className:"fileUpload unique1 form-control",name:"file",id:"file",onChange:function(e){var t,n;Ft(e.target.files[0]),ft(null===(t=e.target.files[0])||void 0===t?void 0:t.name),console.log(null===(n=e.target.files[0])||void 0===n?void 0:n.name),Tt((function(t){var n;return(0,o.Z)((0,o.Z)({},t),{},(0,s.Z)({},e.target.id,null===(n=e.target.files[0])||void 0===n?void 0:n.name))}))},accept:".jpg,.jpeg,.xlsx,.pdf,.docx,.txt"},Rt),(0,F.jsx)("label",{className:"documenttypes col-md-12 ml-1",children:(0,F.jsxs)("p",{className:"error-text",children:["Supported file types .pdf,.doc,.csv,.txt,.xlsx,.html,.png"," "]})})]})})]})}),T&&(0,F.jsxs)("div",{className:" form-group col-md-12 col-sm-12 col-xs-12 btn-container center my-2",children:[(0,F.jsxs)("button",{className:"btn btn-primary",type:"submit",onClick:function(){!function(){if(Qt.filter((function(e){return null!==e})).some((function(e){return e==ht}))?(Wt(!0),M(!1),setTimeout((function(){Wt(!1)}),3e3)):Wt(!1),0==Zt.length)Be(!0),M(!0),setTimeout((function(){Be(!1)}),3e3),He(!1);else{var e=new FormData;e.append("file",Zt),console.log(je,"selectedFile"),c()({method:"post",url:t+"/ProjectMS/ContractDocuments/QMSuploadFile?docFolderId=".concat(je,"&loggedUserId=").concat(ut,'&commitMessage="uploaded"'),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data;Vt((function(e){return e+1})),Ft([]),kt(t),tn(),console.log("-----------------"),He(!0),M(!1),Be(!1),setTimeout((function(){He(!1)}),1e3)}))}}()},children:[(0,F.jsx)(d.jC8,{})," Save"]}),(0,F.jsxs)("button",{className:"btn btn-secondary",type:"cancel",onClick:function(){M(!T),function(e){for(var t=document.getElementsByClassName("cancel"),n=0;n<t.length;n++)t[n].value=""}()},children:[(0,F.jsx)(Y.sQZ,{})," Cancel"]})]})]})]})]})}},93762:function(e,t,n){n.d(t,{Z:function(){return T}});var s=n(29439),o=n(78983),l=n(74569),a=n.n(l),i=n(72791),r=n(34831),c=n(93433),d=n(4942),u=n(1413),p=n(6748),m=n(99259),h=n(66934),f=n(12065),x=n(99651),v=n(41523),j=n(56125),g=n(27336),y=n(73728),S=n(80184);function b(e){return(0,S.jsx)(m.Z,(0,u.Z)((0,u.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,S.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function N(e){return(0,S.jsx)(m.Z,(0,u.Z)((0,u.Z)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:(0,S.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function Z(e){var t=(0,g.q_)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return(0,S.jsx)(g.q.div,{style:t,children:(0,S.jsx)(j.Z,(0,u.Z)({},e))})}var F=(0,h.ZP)((function(e){var t,n,s,o,l;return(0,S.jsx)("div",{children:(0,i.createElement)(x.Z,(0,u.Z)((0,u.Z)({},e),{},{key:String(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id),nodeId:String(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.id),label:null===e||void 0===e||null===(s=e.node)||void 0===s?void 0:s.folder_name,TransitionComponent:Z}),Array.isArray(null===e||void 0===e||null===(o=e.node)||void 0===o?void 0:o.subRows)?null===e||void 0===e||null===(l=e.node)||void 0===l?void 0:l.subRows.map((function(e){return C(e)})):"")})}))((function(e){var t,n=e.theme;return t={},(0,d.Z)(t,"& .".concat(v.Z.iconContainer),{"& .close":{opacity:.3}}),(0,d.Z)(t,"& .".concat(v.Z.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat((0,f.Fq)(n.palette.text.primary,.4))}),t})),C=function(e){return(0,S.jsx)("div",{children:(0,S.jsx)(F,{node:e})},String(null===e||void 0===e?void 0:e.id))};function I(e){var t=e.defaultExpandedRows,n=e.data,s=e.projectId,o=e.popDocFolderId,l=e.setPopDocFolderId;(0,i.useEffect)((function(){}),[o]);var a=function(e,t){var n=e.filter((function(e){return"SOW"!==e.folder_name}));return n.sort((function(e,n){var s=t.indexOf(e.folder_name),o=t.indexOf(n.folder_name);return-1!==s&&-1!==o?s-o:-1!==s?-1:-1!==o?1:e.folder_name.localeCompare(n.folder_name)})),n.filter((function(e){return e.folder_name==s?e.folder_name="Expense":""})),n}(function(e,t){t=(0,u.Z)({id:"id",parentId:"parent_id",children:"subRows"},t);var n={},s=[],o=t.children;return e.forEach((function(e){var s=e[t.id],l=e[t.parentId];n[s]=(0,u.Z)((0,u.Z)((0,d.Z)({},o,[]),e),n[s]),n[l]=n[l]||(0,d.Z)({},o,[]),n[l][o].push(n[s])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&s.push.apply(s,(0,c.Z)(e[o]))})),s}(n),["IA Support","PPM Development and Implementation","Expense","Expenses"]),r={display:"flex",alignItems:"center",gap:"4px"};return(0,S.jsx)(p.Z,{"aria-label":"customized",defaultExpanded:[t],defaultCollapseIcon:(0,S.jsxs)("div",{style:r,children:[(0,S.jsx)(b,{}),(0,S.jsx)("span",{children:" "}),(0,S.jsx)(y.FYx,{})," "]}),defaultExpandIcon:(0,S.jsxs)("div",{style:r,children:[(0,S.jsx)(N,{}),(0,S.jsx)("span",{children:" "}),(0,S.jsx)(y.FYx,{})," "]}),defaultEndIcon:(0,S.jsx)(y.FYx,{}),defaultParentIcon:(0,S.jsx)(y.FYx,{}),sx:{"& .css-1g86id8-MuiTreeItem-content .MuiTreeItem-label":{width:"auto",minwidth:0}},className:"hierarchyTree",onNodeSelect:function(e,t){l(t)},children:a.map((function(e){return C(e)}))})}var T=function(e){var t=e.openPopup,n=e.setOpenPopup,l=e.projectId,c=e.hierarchydata,d=e.SetDocFolderId,u=e.selectedIds,p=e.setSelectedIds,m=e.setCopySuccessmsg,h=e.setMoveSuccessmsg,f=e.getapiData,x=e.setCheckboxSelect,v=localStorage.getItem("resId"),j=r.N.baseUrl,g=(0,i.useState)([]),y=(0,s.Z)(g,2),b=(y[0],y[1]),N=(0,i.useState)([]),Z=(0,s.Z)(N,2),F=(Z[0],Z[1]),C=(0,i.useState)(null),T=(0,s.Z)(C,2),M=T[0],D=T[1];return(0,S.jsx)("div",{children:(0,S.jsx)("div",{className:"col-md-12",children:(0,S.jsxs)(o.Tk,{visible:t,size:"xs",onClose:function(){return n(!1)},backdrop:"static",children:[(0,S.jsx)(o.p0,{className:"",children:(0,S.jsx)(o.fl,{children:(0,S.jsx)("span",{className:"",children:" Folders"})})}),(0,S.jsxs)(o.sD,{children:[(0,S.jsxs)("div",{className:"col-md-9 customCard",children:[(0,S.jsx)("div",{className:"col-md-12 collapseHeader",children:(0,S.jsx)("h2",{children:"Document Folders"})}),(0,S.jsx)(I,{defaultExpandedRows:String(l),data:c,SetDocFolderId:d,projectId:l,popDocFolderId:M,setPopDocFolderId:D})]}),(0,S.jsxs)("div",{className:" form-group col-md-12 col-sm-12 col-xs-1 btn-container center my-2",children:[(0,S.jsx)("button",{className:"btn btn-primary",type:"Add",title:"Add",onClick:function(){!function(){m(!0);var e=Array.isArray(u)?u.map((function(e){return parseInt(e)})):[];a()({method:"post",url:j+"/ProjectMS/ContractDocuments/copyDocsToFolder",data:{loggedUserId:v,docIds:e,docFolderId:M}}).then((function(e){var t=e.data;b(t),f(),p([])})).catch((function(e){})).finally((function(){setTimeout((function(){m(!1)}),2e3)}))}(),n(!1),x(!1)},children:"Copy"}),(0,S.jsx)("button",{className:"btn btn-primary",type:"Move/Copy Files",title:"Add",onClick:function(){!function(){h(!0);var e=Array.isArray(u)?u.map((function(e){return parseInt(e)})):[];a()({method:"post",url:j+"/ProjectMS/ContractDocuments/moveDocsToFolder",data:{loggedUserId:v,docIds:e,docFolderId:M}}).then((function(e){var t=e.data;p([]),F(t),f()})).catch((function(e){})).finally((function(){setTimeout((function(){h(!1)}),2e3)}))}(),n(!1),x(!1)},children:"Move"})]})]})]})})})}},11634:function(e,t,n){var s=n(64836);t.Z=void 0;var o=s(n(45649)),l=n(80184),a=(0,o.default)((0,l.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm-1 8V7c0-.55.45-1 1-1s1 .45 1 1v3h1.79c.45 0 .67.54.35.85l-2.79 2.79c-.2.2-.51.2-.71 0l-2.79-2.79c-.31-.31-.09-.85.36-.85H11zm5 7H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z"}),"DownloadForOfflineRounded");t.Z=a}}]);
//# sourceMappingURL=8757.16cda2ba.chunk.js.map