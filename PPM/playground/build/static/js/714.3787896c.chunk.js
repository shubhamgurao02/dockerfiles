"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[714],{30714:function(e,s,l){l.r(s);var c=l(4942),a=l(1413),r=l(29439),n=l(72791),o=l(56355),t=l(78983),i=l(36167),d=l(59513),u=l.n(d),h=l(72426),m=l.n(h),x=l(74569),j=l.n(x),v=l(34831),p=l(85401),N=l(80184);s.default=function(){var e,s,l=(0,n.useState)(new Date),d=(0,r.Z)(l,2),h=d[0],x=d[1],f=(0,n.useState)(!1),g=(0,r.Z)(f,2),S=g[0],y=g[1],b=(0,n.useState)(o.UdN),Z=(0,r.Z)(b,2),w=Z[0],C=Z[1],F=(0,n.useState)([]),M=(0,r.Z)(F,2),D=M[0],_=M[1],A=(0,n.useState)([]),T=(0,r.Z)(A,2),q=T[0],E=T[1],I=(0,n.useState)("view"),P=(0,r.Z)(I,2),Q=P[0],k=P[1],L=(0,n.useState)("customer"),Y=(0,r.Z)(L,2),O=Y[0],U=Y[1],R=(0,n.useState)([]),V=(0,r.Z)(R,2),H=(V[0],V[1]),B=(0,n.useState)([]),J=(0,r.Z)(B,2),z=J[0],G=J[1],K=(0,n.useRef)([]),W=(0,n.useState)([]),X=(0,r.Z)(W,2),$=(X[0],X[1],(0,n.useState)([])),ee=(0,r.Z)($,2),se=(ee[0],ee[1],(0,n.useState)([])),le=(0,r.Z)(se,2),ce=le[0],ae=(le[1],(0,n.useState)(-1)),re=(0,r.Z)(ae,2),ne=(re[0],re[1]),oe=(0,n.useState)(!1),te=(0,r.Z)(oe,2),ie=te[0],de=te[1],ue=null===(e=JSON.parse(localStorage.getItem("selectedCust")))||void 0===e||null===(s=e.map((function(e){return e.id})))||void 0===s?void 0:s.toString(),he=v.N.baseUrl,me=(0,n.useState)({month:m()(function(){var e=new Date,s=Math.floor(e.getMonth()/3);return new Date(e.getFullYear(),3*s,1).toLocaleDateString("en-CA")}()).format("yyyy-MM-DD"),actType:"-1",duration:"3",countries:"-1",searchType:"-1",customers:"oppt"}),xe=(0,r.Z)(me,2),je=xe[0],ve=xe[1];return(0,n.useEffect)((function(){j().get(he+"/CostMS/cost/getCountries").then((function(e){var s=[],l=e.data;l.push({id:0,country_name:"Others"}),l.length>0&&l.forEach((function(e){var l={label:e.country_name,value:e.id};"NM"!=e.country_name&&s.push(l)})),_(s),null==id&&E(s)})).catch((function(e){return console.log(e)})),j().get("".concat(he,"/CommonMS/master/geActiveCustomerList")).then((function(e){var s=e.data.map((function(e){return{label:e.fullName,value:e.id}}));H(s)})).catch((function(e){}))}),[]),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"col-md-12",children:(0,N.jsxs)("div",{className:"pageTitle",children:[(0,N.jsx)("div",{className:"childOne"}),(0,N.jsx)("div",{className:"childTwo",children:(0,N.jsx)("h2",{children:"Resource Forecast/Supply"})}),(0,N.jsx)("div",{className:"childThree"})]})}),(0,N.jsxs)("div",{className:"group mb-3 customCard",children:[(0,N.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,N.jsx)("h2",{children:"Search Filters"}),(0,N.jsx)("div",{onClick:function(){y(!S),C(S?o.UdN:o.NR5)},children:(0,N.jsx)("span",{children:w})})]}),(0,N.jsx)(t.V9,{visible:!S,children:(0,N.jsxs)("div",{className:"group-content row",children:[(0,N.jsx)("div",{className:"col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"customers",children:["Action",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsxs)("select",{className:"form-control",id:"action",value:Q,onChange:function(e){k(e.target.value)},children:[(0,N.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,N.jsx)("option",{value:"view",selected:!0,children:"Supply&Demand View"}),(0,N.jsx)("option",{value:"supplyEdit",children:"Supply Edit"}),(0,N.jsx)("option",{value:"demandEdit",children:"Demand Add/Edit"})]})})]})}),"view"===Q?(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"FromQuarter",children:["From Quarter",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",style:{height:"23px"},children:(0,N.jsx)(u(),{selected:h,onChange:function(e){x(e);var s=new Date(e.getTime()),l=s.getMonth()<3?s.getFullYear()-1:s.getFullYear(),c=Math.floor(s.getMonth()/3)+1,a="FY ".concat(l,"-Q").concat(c);onFilterChange({id:"from",value:a})},dateFormat:"yyyy-QQQ",showQuarterYearPicker:!0})})]})}):(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"FromQuarter",children:["Start Month",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",style:{height:"23px"},children:(0,N.jsx)(u(),{name:"month",id:"StartDt",selected:h,onChange:function(e){return setMonth(e)},dateFormat:"MMM-yyyy",showMonthYearPicker:!0,placeholderText:"Select Month"})})]})}),"view"===Q&&(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"duration",children:["Duration",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsxs)("select",{className:"text",id:"duration",value:je.duration,onChange:function(e){var s=e.target,l=s.value,r=s.id;ve((0,a.Z)((0,a.Z)({},je),{},(0,c.Z)({},r,l)))},children:[(0,N.jsx)("option",{value:"",children:"<<Please Select>>"}),(0,N.jsx)("option",{value:"1",selected:!0,children:"1"}),(0,N.jsx)("option",{value:"2",children:"2"}),(0,N.jsx)("option",{value:"3",children:"3"}),(0,N.jsx)("option",{value:"4",children:"4"})]})})]})}),"supplyEdit"===Q||"demandEdit"===Q?(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"duration",children:["Duration",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsxs)("select",{className:"text",id:"duration",value:je.duration,onChange:function(e){var s=e.target,l=s.value,r=s.id;ve((0,a.Z)((0,a.Z)({},je),{},(0,c.Z)({},r,l)))},children:[(0,N.jsx)("option",{value:"",children:"<<Please Select>>"}),(0,N.jsx)("option",{value:"1",children:"1"}),(0,N.jsx)("option",{value:"2",children:"2"}),(0,N.jsx)("option",{value:"3",selected:!0,children:"3"}),(0,N.jsx)("option",{value:"4",children:"4"}),(0,N.jsx)("option",{value:"5",children:"5"}),(0,N.jsx)("option",{value:"6",children:"6"}),(0,N.jsx)("option",{value:"7",children:"7"}),(0,N.jsx)("option",{value:"8",children:"8"}),(0,N.jsx)("option",{value:"9",children:"9"}),(0,N.jsx)("option",{value:"10",children:"10"}),(0,N.jsx)("option",{value:"11",children:"11"}),(0,N.jsx)("option",{value:"12",children:"12 "})]})})]})}):null,(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"countries",children:["Country",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsx)(i.NU,{id:"countries",options:D,hasSelectAll:!0,value:q,isLoading:!1,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<< All>>"},onChange:function(e){E(e);var s=[];e.forEach((function(e){s.push(e.value)})),ve((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,c.Z)({},"countries",s.toString()))}))}})})]})}),(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"serachType",children:["Search Type",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsxs)("div",{className:"col-6",children:[(0,N.jsxs)("select",{className:"form-control",id:"action",value:O,onChange:function(e){U(e.target.value)},children:[(0,N.jsx)("option",{value:"",children:" <<Please Select>>"}),(0,N.jsx)("option",{value:"customer",selected:!0,children:"Customer/Prospect"}),(0,N.jsx)("option",{value:"csl",children:"CSL"}),(0,N.jsx)("option",{value:"dp",children:"Delivery Partner"})]})," "]})]})}),"csl"===O?(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"Dropdown2",children:["CSL\xa0",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1",children:":"}),(0,N.jsx)("div",{className:"col-6 multiselect",ref:function(e){K.current[4]=e},children:(0,N.jsx)(i.NU,{ArrowRenderer:function(e){e.expanded;return(0,N.jsx)(FaCaretDown,{className:"chevronIcon"})},id:"csl",options:ce,hasSelectAll:!0,value:je.csl,shouldToggleOnHover:!1,disableSearch:!1,disabled:!1,onChange:function(e){ve((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,c.Z)({},"csl",e))}))}})})]})}):null,(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"customers",children:["Customer\xa0",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsxs)("select",{className:"text cancel",name:"custIds",id:"searchType",onChange:function(e){var s=e.target,l=(s.id,s.name),r=s.value;"custIds"==l&&"0"===r&&ne(r),"custIds"==l&&"1"===r&&ne(r),"custIds"==l&&"select"===r&&(ne(ue),de(!0)),ve((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,c.Z)({},l,r))}))},ref:function(e){K.current[4]=e},children:[z.length+"selected",(0,N.jsx)("option",{value:"-1",children:"<<All>>"}),(0,N.jsx)("option",{value:"0",children:"Active Customers"}),(0,N.jsx)("option",{value:"select",children:"Select"})]})})]})}),"view"===Q?(0,N.jsx)("div",{className:" col-md-3 mb-2",children:(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsxs)("label",{className:"col-5",htmlFor:"customer",children:["View By",(0,N.jsx)("span",{className:"required",style:{color:"red"},children:"*"})]}),(0,N.jsx)("span",{className:"col-1 p-0",children:":"}),(0,N.jsx)("div",{className:"col-6",children:(0,N.jsxs)("select",{className:"form-control",id:"customer",children:[(0,N.jsx)("option",{value:"country",children:"Country"}),(0,N.jsx)("option",{value:"customer",children:"Customer"}),(0,N.jsx)("option",{value:"csl",children:"CSL"}),(0,N.jsx)("option",{value:"dp",children:"DP"})]})})]})}):null,(0,N.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 mb-2",children:(0,N.jsx)("button",{className:"btn btn-primary ",children:"Search"})})]})})]}),(0,N.jsx)(p.Z,{flag:1,variance:1,visible:ie,setVisible:de,setSelectedItems:G,selectedItems:z})]})}}}]);
//# sourceMappingURL=714.3787896c.chunk.js.map