"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1249],{91249:function(e,t,a){a.r(t),a.d(t,{default:function(){return pe}});var r=a(74165),n=a(15861),o=a(4942),i=a(93433),s=a(29439),l=a(1413),d=a(72426),c=a.n(d),u=a(72791),p=a(57689),h=a(74569),m=a.n(h),g=a(59513),f=a.n(g),x=a(11683),v=a(34831),D=a(99321),j=a(84638),y=(a(5636),a(82646)),b=a(10215),Y=a(11087),k=a(54286),M=(a(41980),a(37145)),S=a(1063),_=a(46175),Z=a(41310),w=a(55860),N=a(1582),F=a(64554),E=a(74568),C=a(20068),T=a(83854),I=a(872),H=a(91964),A=a(87462),B=a(45987),P=a(28182),W=a(38317),R=a(91122),V=a(67234),K=a(18875),z=a(10812),O=a(23364),L=a(56043),G=a(69806),U={entering:{opacity:1},entered:{opacity:1}},X={enter:z.x9.enteringScreen,exit:z.x9.leavingScreen},$=u.forwardRef((function(e,t){var a=e.children,r=e.disableStrictModeCompat,n=void 0!==r&&r,o=e.in,i=e.onEnter,l=e.onEntered,d=e.onEntering,c=e.onExit,p=e.onExited,h=e.onExiting,m=e.style,g=e.TransitionComponent,f=void 0===g?K.ZP:g,x=e.timeout,v=void 0===x?X:x,D=(0,B.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),j=(0,O.Z)(),y=j.unstable_strictMode&&!n,b=u.useRef(null),Y=(0,G.Z)(a.ref,t),k=(0,G.Z)(y?b:void 0,Y),M=function(e){return function(t,a){if(e){var r=y?[b.current,t]:[t,a],n=(0,s.Z)(r,2),o=n[0],i=n[1];void 0===i?e(o):e(o,i)}}},S=M(d),_=M((function(e,t){(0,L.n)(e);var a=(0,L.C)({style:m,timeout:v},{mode:"enter"});e.style.webkitTransition=j.transitions.create("opacity",a),e.style.transition=j.transitions.create("opacity",a),i&&i(e,t)})),Z=M(l),w=M(h),N=M((function(e){var t=(0,L.C)({style:m,timeout:v},{mode:"exit"});e.style.webkitTransition=j.transitions.create("opacity",t),e.style.transition=j.transitions.create("opacity",t),c&&c(e)})),F=M(p);return u.createElement(f,(0,A.default)({appear:!0,in:o,nodeRef:y?b:void 0,onEnter:_,onEntered:Z,onEntering:S,onExit:N,onExited:F,onExiting:w,timeout:v},D),(function(e,t){return u.cloneElement(a,(0,A.default)({style:(0,A.default)({opacity:0,visibility:"exited"!==e||o?void 0:"hidden"},U[e],m,a.props.style),ref:k},t))}))})),J=u.forwardRef((function(e,t){var a=e.children,r=e.classes,n=e.className,o=e.invisible,i=void 0!==o&&o,s=e.open,l=e.transitionDuration,d=e.TransitionComponent,c=void 0===d?$:d,p=(0,B.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return u.createElement(c,(0,A.default)({in:s,timeout:l},p),u.createElement("div",{className:(0,P.default)(r.root,n,i&&r.invisible),"aria-hidden":!0,ref:t},a))})),q=(0,W.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(J),Q=a(89526),ee={enter:z.x9.enteringScreen,exit:z.x9.leavingScreen},te=u.forwardRef((function(e,t){var a=e.BackdropProps,r=e.children,n=e.classes,o=e.className,i=e.disableBackdropClick,s=void 0!==i&&i,l=e.disableEscapeKeyDown,d=void 0!==l&&l,c=e.fullScreen,p=void 0!==c&&c,h=e.fullWidth,m=void 0!==h&&h,g=e.maxWidth,f=void 0===g?"sm":g,x=e.onBackdropClick,v=e.onClose,D=e.onEnter,j=e.onEntered,y=e.onEntering,b=e.onEscapeKeyDown,Y=e.onExit,k=e.onExited,M=e.onExiting,S=e.open,_=e.PaperComponent,Z=void 0===_?Q.Z:_,w=e.PaperProps,N=void 0===w?{}:w,F=e.scroll,E=void 0===F?"paper":F,C=e.TransitionComponent,T=void 0===C?$:C,I=e.transitionDuration,H=void 0===I?ee:I,W=e.TransitionProps,K=e["aria-describedby"],z=e["aria-labelledby"],O=(0,B.Z)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),L=u.useRef();return u.createElement(V.Z,(0,A.default)({className:(0,P.default)(n.root,o),BackdropComponent:q,BackdropProps:(0,A.default)({transitionDuration:H},a),closeAfterTransition:!0},s?{disableBackdropClick:s}:{},{disableEscapeKeyDown:d,onEscapeKeyDown:b,onClose:v,open:S,ref:t},O),u.createElement(T,(0,A.default)({appear:!0,in:S,timeout:H,onEnter:D,onEntering:y,onEntered:j,onExit:Y,onExiting:M,onExited:k,role:"none presentation"},W),u.createElement("div",{className:(0,P.default)(n.container,n["scroll".concat((0,R.Z)(E))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===L.current&&(L.current=null,x&&x(e),!s&&v&&v(e,"backdropClick"))},onMouseDown:function(e){L.current=e.target}},u.createElement(Z,(0,A.default)({elevation:24,role:"dialog","aria-describedby":K,"aria-labelledby":z},N,{className:(0,P.default)(n.paper,n["paperScroll".concat((0,R.Z)(E))],n["paperWidth".concat((0,R.Z)(String(f)))],N.className,p&&n.paperFullScreen,m&&n.paperFullWidth)}),r))))})),ae=(0,W.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(te),re=a(5965),ne=a(94026),oe=a(80184);function ie(e){e.taskId,e.columnId;var t=e.onClose,a=e.isOpen,r=e.exceedHoursDates,n=(e.notes,e.timesheetDate,function(){t()});return(0,oe.jsx)(oe.Fragment,{children:(0,oe.jsxs)(ae,{open:a,onClose:n,className:"dashboardPopover",children:[(0,oe.jsxs)(re.Z,{className:"header",children:[(0,oe.jsx)("span",{children:"Error !"}),(0,oe.jsx)("button",{title:"Close",className:"float-right",onClick:n,children:"x"})]}),(0,oe.jsx)(ne.Z,{children:(0,oe.jsx)("div",{className:"errorMsg",children:r.map((function(e,t){return(0,oe.jsxs)("p",{type:"text",contentEditable:"true",children:["Please Correct the Following Errors before saving timesheet: Hours reported for a day cannot exceed 24 Hours. Please correct Timesheet for Date: ",c()(e).format("DD-MMM-YYYY")]},t)}))})})]})})}var se=a(95269),le=a(20890);function de(e){var t=e.projectData,a=(e.isOpenInfo,e.anchorEl),r=(e.onClose,e.handleClose),n=t.row.original.taskPlannedStartDt&&t.row.original.taskPlannedEndDt?t.row.original.taskPlannedStartDt+" to "+t.row.original.taskPlannedEndDt:"NA to NA",o=t.row.original.taskActualStartDt&&t.row.original.taskActualEndDt?t.row.original.taskActualStartDt+" to "+t.row.original.taskActualEndDt:"NA to NA",i=null!==t.row.original.estimatedHours?t.row.original.estimatedHours.toFixed(2):"NA",s=null!==t.row.original.allocatedHours?t.row.original.allocatedHours.toFixed(2):"NA",l=null!==t.row.original.allocatedDates?t.row.original.allocatedDates:"NA",d=Boolean(a)?"my-popover":void 0;return(0,oe.jsx)("div",{children:(0,oe.jsx)(se.ZP,{className:"MydashboardPopover",onClose:r,id:d,open:Boolean(a),anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"left"},children:(0,oe.jsxs)(le.Z,{sx:{p:1},children:[(0,oe.jsx)("span",{style:{fontWeight:"bold"},children:"Planned Date"}),(0,oe.jsx)("br",{}),n,(0,oe.jsx)("br",{}),(0,oe.jsx)("span",{style:{fontWeight:"bold"},children:"Actual Dates"}),(0,oe.jsx)("br",{}),o,(0,oe.jsx)("br",{}),(0,oe.jsx)("span",{style:{fontWeight:"bold"},children:"Estimated Hours"}),(0,oe.jsx)("br",{}),i,(0,oe.jsx)("br",{}),(0,oe.jsx)("span",{style:{fontWeight:"bold"},children:"Allocated Hours"}),(0,oe.jsx)("br",{}),s,(0,oe.jsx)("br",{}),(0,oe.jsx)("span",{style:{fontWeight:"bold"},children:"Allocated Dates"}),(0,oe.jsx)("br",{}),l]})})})}var ce=a(72920),ue=a(38262);var pe=function(){for(var e=v.N.baseUrl,t=(0,u.useState)([]),a=(0,s.Z)(t,2),d=a[0],h=a[1],g=(0,u.useState)([]),A=(0,s.Z)(g,2),B=A[0],P=A[1],W=(0,u.useState)([]),R=(0,s.Z)(W,2),V=R[0],K=R[1],z=(0,u.useState)([]),O=(0,s.Z)(z,2),L=O[0],G=O[1],U=(0,u.useState)([]),X=(0,s.Z)(U,2),$=X[0],J=X[1],q=(0,u.useState)([]),Q=(0,s.Z)(q,2),ee=Q[0],te=Q[1],ae=(0,u.useState)(new Date),re=(0,s.Z)(ae,2),ne=re[0],se=(re[1],(0,u.useState)([])),le=(0,s.Z)(se,2),pe=le[0],he=le[1],me=(0,u.useState)([]),ge=(0,s.Z)(me,2),fe=ge[0],xe=ge[1],ve=(0,u.useState)([]),De=(0,s.Z)(ve,2),je=De[0],ye=De[1],be=(0,u.useState)(),Ye=(0,s.Z)(be,2),ke=Ye[0],Me=Ye[1],Se=(0,u.useState)(),_e=(0,s.Z)(Se,2),Ze=(_e[0],_e[1]),we=(0,u.useRef)(null),Ne=(0,u.useState)(),Fe=(0,s.Z)(Ne,2),Ee=(Fe[0],Fe[1]),Ce=(0,u.useState)(!1),Te=(0,s.Z)(Ce,2),Ie=Te[0],He=Te[1],Ae=(0,u.useState)([]),Be=(0,s.Z)(Ae,2),Pe=Be[0],We=Be[1],Re=(0,u.useState)([]),Ve=(0,s.Z)(Re,2),Ke=Ve[0],ze=Ve[1],Oe=(0,u.useState)([]),Le=(0,s.Z)(Oe,2),Ge=Le[0],Ue=Le[1],Xe=(0,u.useState)([]),$e=(0,s.Z)(Xe,2),Je=$e[0],qe=$e[1],Qe=(0,u.useState)(!1),et=(0,s.Z)(Qe,2),tt=et[0],at=et[1],rt=(0,u.useState)(""),nt=(0,s.Z)(rt,2),ot=nt[0],it=nt[1],st=(0,u.useState)(""),lt=(0,s.Z)(st,2),dt=lt[0],ct=lt[1],ut=(0,u.useState)(0),pt=(0,s.Z)(ut,2),ht=pt[0],mt=pt[1],gt=(0,u.useState)(0),ft=(0,s.Z)(gt,2),xt=ft[0],vt=ft[1],Dt=(0,u.useState)(0),jt=(0,s.Z)(Dt,2),yt=jt[0],bt=jt[1],Yt=(0,u.useState)(0),kt=(0,s.Z)(Yt,2),Mt=kt[0],St=kt[1],_t=(0,u.useState)(0),Zt=(0,s.Z)(_t,2),wt=Zt[0],Nt=Zt[1],Ft=(0,u.useState)(0),Et=(0,s.Z)(Ft,2),Ct=Et[0],Tt=Et[1],It=(0,u.useState)(0),Ht=(0,s.Z)(It,2),At=Ht[0],Bt=Ht[1],Pt=(0,u.useState)([]),Wt=(0,s.Z)(Pt,2),Rt=Wt[0],Vt=Wt[1],Kt=(0,u.useState)(""),zt=(0,s.Z)(Kt,2),Ot=zt[0],Lt=zt[1],Gt=(0,u.useState)([]),Ut=(0,s.Z)(Gt,2),Xt=Ut[0],$t=Ut[1],Jt=(0,u.useState)(Number(localStorage.getItem("resId"))+1),qt=(0,s.Z)(Jt,2),Qt=qt[0],ea=(qt[1],(0,u.useState)(!1)),ta=(0,s.Z)(ea,2),aa=ta[0],ra=ta[1],na=(0,u.useState)(0),oa=(0,s.Z)(na,2),ia=oa[0],sa=oa[1],la=(0,u.useState)(!1),da=(0,s.Z)(la,2),ca=da[0],ua=(da[1],(0,u.useState)(!1)),pa=(0,s.Z)(ua,2),ha=pa[0],ma=(pa[1],(0,u.useState)([])),ga=(0,s.Z)(ma,2),fa=ga[0],xa=ga[1],va=(0,u.useState)(!1),Da=(0,s.Z)(va,2),ja=Da[0],ya=Da[1],ba=(0,u.useState)(""),Ya=(0,s.Z)(ba,2),ka=Ya[0],Ma=Ya[1],Sa=(0,u.useState)(!1),_a=(0,s.Z)(Sa,2),Za=_a[0],wa=_a[1],Na=(0,u.useState)(!1),Fa=(0,s.Z)(Na,2),Ea=Fa[0],Ca=Fa[1],Ta=(0,u.useState)(!1),Ia=(0,s.Z)(Ta,2),Ha=Ia[0],Aa=Ia[1],Ba=(0,u.useState)(null),Pa=(0,s.Z)(Ba,2),Wa=Pa[0],Ra=Pa[1],Va=(0,u.useState)([]),Ka=(0,s.Z)(Va,2),za=Ka[0],Oa=Ka[1],La=(0,u.useState)([]),Ga=(0,s.Z)(La,2),Ua=Ga[0],Xa=Ga[1],$a=(0,u.useState)(!1),Ja=(0,s.Z)($a,2),qa=Ja[0],Qa=Ja[1],er=(0,u.useState)({}),tr=(0,s.Z)(er,2),ar=tr[0],rr=tr[1],nr=(0,u.useState)([]),or=(0,s.Z)(nr,2),ir=or[0],sr=or[1],lr=(0,u.useState)([]),dr=(0,s.Z)(lr,2),cr=dr[0],ur=dr[1],pr=(0,u.useState)(""),hr=(0,s.Z)(pr,2),mr=hr[0],gr=hr[1],fr=(0,u.useState)(!1),xr=(0,s.Z)(fr,2),vr=xr[0],Dr=xr[1],jr=(0,u.useState)(!1),yr=(0,s.Z)(jr,2),br=yr[0],Yr=yr[1],kr=(0,u.useState)(null),Mr=(0,s.Z)(kr,2),Sr=(Mr[0],Mr[1]),_r=(0,u.useState)(null),Zr=(0,s.Z)(_r,2),wr=(Zr[0],Zr[1]),Nr=0,Fr=(0,u.useState)([]),Er=(0,s.Z)(Fr,2),Cr=Er[0],Tr=Er[1],Ir=localStorage.getItem("resId"),Hr=(0,u.useState)(0),Ar=(0,s.Z)(Hr,2),Br=Ar[0],Pr=Ar[1],Wr=(0,u.useState)([]),Rr=(0,s.Z)(Wr,2),Vr=Rr[0],Kr=Rr[1],zr=[],Or=new Date,Lr=[],Gr=[],Ur=[],Xr=[],$r=[],Jr=[],qr=(0,u.useState)(!1),Qr=(0,s.Z)(qr,2),en=(Qr[0],Qr[1],new Date(Or.getFullYear(),Or.getMonth(),Or.getDate()-Or.getDay())),tn=(new Date(Or.getFullYear(),Or.getMonth(),en.getDate()+6),(0,u.useState)((function(){for(var e=[],t=1;t<=7;t++){var a=new Date(en);a.setDate(a.getDate()+t),e.push(a.toDateString())}return Me(e[0]),Ze(e[6]),e}))),an=(0,s.Z)(tn,2),rn=an[0],nn=an[1],on=14+Or.getDay(),sn=Or.getDay(),ln=Or.getDay(),dn=new Date(Or.getFullYear(),Or.getMonth(),Or.getDate()-ln),cn=new Date(Or.getFullYear(),Or.getMonth(),Or.getDate()+(6-ln)),un=((0,p.s0)(),[].concat((0,i.Z)(fe),(0,i.Z)(pe),(0,i.Z)(je))),pn=[],hn=on;hn>=1;hn--){var mn=new Date(Or.getTime()-24*hn*60*60*1e3);0!=mn.getDay()&&6!=mn.getDay()&&hn>sn&&(1==mn.getDay()?(c()(mn).format("DD-MMM"),Gr.push(mn)):2==mn.getDay()?(c()(mn).format("DD-MMM"),Ur.push(mn)):3==mn.getDay()?(c()(mn).format("DD-MMM"),Xr.push(mn)):4==mn.getDay()?(c()(mn).format("DD-MMM"),$r.push(mn)):5==mn.getDay()&&(c()(mn).format("DD-MMM"),Jr.push(mn)),c()(mn).format("DD-MMM"),Lr.push(mn))}for(var gn=dn;gn<=cn;gn.setDate(gn.getDate()+1))0!==gn.getDay()&&6!==gn.getDay()&&(1==gn.getDay()?Gr.push(new Date(gn)):2==gn.getDay()?Ur.push(new Date(gn)):3==gn.getDay()?Xr.push(new Date(gn)):4==gn.getDay()?$r.push(new Date(gn)):5==gn.getDay()&&Jr.push(new Date(gn)),pn.push(new Date(gn)));var fn=[Gr,Ur,Xr,$r,Jr],xn=function(e){var t=fa.find((function(t){return t.timesheet_dt==c()(e).format("YYYY-MM-DD")}));return t?t.status:""},vn=document.getElementsByClassName("MuiTableRow-root MuiTableRow-hover");if(vn.length>0){var Dn=vn[0].children[1].classList.toString(),jn=document.getElementsByClassName(Dn);if(jn.length>0)for(var yn=function(e){jn[e].addEventListener("click",(function(t){setTimeout((function(){var t=jn[e].children[0].children[0].children[0].style.transform,a=jn[e].previousSibling.children[0].children[0].innerHTML;"rotate(0deg)"==t?Object.keys(ar).forEach((function(e){e.split(":")[1]==a&&delete ar[e]})):rr((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},"projectName:"+a,!0))}))}),100)}),!0)},bn=0;bn<jn.length;bn++)yn(bn)}var Yn=function(){m()({method:"get",url:e+"/dashboardsms/Dashboard/getHours?resourceId=".concat(Qt,"&startDate=").concat(c()(rn[0]).format("YYYY-MM-DD"),"&endDate=").concat(c()(rn[rn.length-1]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data;$t(t),setTimeout((function(){}),300)}))},kn=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return at(!1),t.next=3,m()({method:"post",url:e+"/dashboardsms/Dashboard/getResourceTimesheet",data:{ResId:Qt,WkStDt:"".concat(c()(rn[0]).format("YYYY-MM-DD")),WkEndDt:"".concat(c()(rn[rn.length-1]).format("YYYY-MM-DD")),PrjId:0}}).then((function(e){var t=e.data,a=(0,i.Z)(Object.entries(t)),r=[];a.reverse().map((function(e){e[1].map((function(e){r.push(e)}))}));r.filter((function(e){if(e.projectPlannedEndDt){var t=e.projectPlannedEndDt;return c()(t).format("YYYY-MM-DD")>c()(On).format("YYYY-MM-DD")}return!1}));var n=r.filter((function(e){return"Others"===e.projectName})),o=r.filter((function(e){return"Others"!==e.projectName})),s=[].concat((0,i.Z)(o),(0,i.Z)(n));h(s),P(["Done"]),K(s);var l=0,d=0,u=0,p=0,m=0,g=0,f="",x="",v="";null===r||void 0===r||r.forEach((function(e){l+=e.estimatedHours,d+=e.allocatedHours,u+=Number(e.taskTotalHours),p+=e.taskApprovedHours,m+=e.taskRejectedHours,g+=e.taskPendingApprovalHours,f=e.resourceNotes,x=e.timesheetDt,v=e.taskStatusId})),gr(x),mt(l),vt(d),bt(u),Nt(p),Tt(m),Bt(g),it(f),ct(v)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,u.useEffect)((function(){Cn()}),[ht,xt,yt,wt,Ct,At,ia,ca,ha,ot,mr,dt]);var Mn=[{id:"projectName",accessorKey:"projectName",header:(0,oe.jsx)("div",{className:"mixer",children:"Project"}),enableGrouping:!0,Tooltip:"abc",columns:[{id:"projectName",accessorKey:"projectName",Cell:function(e){var t=e.cell,a=e.row;return(0,oe.jsx)("div",{className:"ellipsis projName",children:(0,oe.jsx)(Y.rU,{target:"_blank",to:"/project/Overview/:".concat(a.original.projectId),style:{color:"blue",textDecoration:"none"},children:t.getValue()})})},Footer:function(){return(0,oe.jsx)("p",{children:"Approved Leaves"})}}]},{id:"taskName",accessorKey:"taskName",header:(0,oe.jsx)("div",{className:"mixer",children:"Task"}),columns:[{id:"taskName",accessorKey:"taskName",Cell:function(e){var t=e.cell,a=e.row;return(0,oe.jsxs)("div",{className:"projName","aria-label":t.row.original.projectPlannedEndDt,children:["Others"!=a.original.projectName?(0,oe.jsx)(w.Z,{className:"infoCircle",onClick:function(e){!function(e){Wa?Yr(!1):(Aa(!0),Yr(!0),Ma(e))}(t),Ra(e.currentTarget)}}):null,(0,oe.jsx)("span",{title:t.getValue(),children:t.getValue()})]})}}]},{id:"taskTypeId",accessorKey:"taskTypeId",header:(0,oe.jsx)("div",{className:"mixer",children:"Type"}),columns:[{id:"taskTypeId",accessorKey:"taskTypeId",Cell:function(e){var t=e.cell;return(0,oe.jsx)("p",{children:237==t.getValue()?"Non Billable Utilized":807==t.getValue()?"Non Billable Non Utilized":236==t.getValue()?"Billable":582==t.getValue()?"Non Billable Shadow":583==t.getValue()?"Non Billable Enablement":806==t.getValue()?"Non Billable Client Prep":null})}}]},{id:"taskStatusId",accessorKey:"taskStatusId",enableEditiing:!0,header:(0,oe.jsx)("div",{className:"mixer",children:"Status"}),columns:[{id:"taskStatusId",accessorKey:"taskStatusId",enableEditiing:!0,Cell:function(e){var t=e.cell,a=e.row;e.table;return(0,oe.jsx)("div",{className:"projStatus",children:t.getValue()&&"Others"!=a.original.projectName?(0,oe.jsxs)(D.Z,{defaultValue:t.getValue(),onChange:function(e){return function(e,t){var a,r=V;r.map((function(t){t.projectId==e.original.projectId&&t.taskId==e.original.taskId&&(a=r.indexOf(t))})),r[a].taskStatusId=t.target.value,K(r)}(a,e)},children:[232==t.getValue()?(0,oe.jsx)(j.Z,{value:232,children:"New"}):null,235==t.getValue()||234==t.getValue()?null:(0,oe.jsx)(j.Z,{value:233,children:"In Progress"}),234==t.getValue()?(0,oe.jsx)(j.Z,{value:234,children:"Withdrawn"}):null,234==t.getValue()||232==t.getValue()?null:(0,oe.jsx)(j.Z,{value:235,children:"Completed"})]}):null})}}],Footer:function(){return(0,oe.jsx)("p",{children:"Totals:"})}},{id:"estimatedHours",accessorKey:"estimatedHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Estimated"}),columns:[{id:"estimatedHours",accessorKey:"estimatedHours",aggregationFn:"sum",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2)," "]})},Cell:function(e){var t=e.cell;e.column,e.row,e.table;return(0,oe.jsx)("div",{children:null!=t.getValue()?parseFloat(t.getValue()).toFixed(2):null})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(ht).toFixed(2)})})}},{id:"allocatedHours",accessorKey:"allocatedHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Assigned"}),columns:[{id:"allocatedHours",accessorKey:"allocatedHours",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2)," "]})},Cell:function(e){var t=e.cell;return(0,oe.jsx)("div",{children:null!=t.getValue()?parseFloat(t.getValue()).toFixed(2):null})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(xt).toFixed(2)})})}},{id:"taskTotalHours",accessorKey:"taskTotalHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Actual"}),columns:[{id:"taskTotalHours",accessorKey:"taskTotalHours",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2)," "]})},Cell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2),Ee(parseFloat(t.getValue()).toFixed(2))]})},Footer:function(){return(0,oe.jsx)("div",{children:parseFloat(ia).toFixed(2)})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(yt).toFixed(2)})})}},{id:"projectApprovedHours",accessorKey:"projectApprovedHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Approved"}),columns:[{id:"projectApprovedHours",accessorKey:"projectApprovedHours",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsx)("div",{children:parseFloat(Number(t.getValue())).toFixed(2)})},Cell:function(e){var t=e.cell;e.row;return(0,oe.jsx)("div",{children:parseFloat(t.getValue()).toFixed(2)})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(wt).toFixed(2)})})}},{id:"taskRejectedHours",accessorKey:"taskRejectedHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Rejected"}),columns:[{id:"taskRejectedHours",accessorKey:"taskRejectedHours",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2)," "]})},Cell:function(e){var t=e.cell;return(0,oe.jsx)("div",{children:parseFloat(t.getValue()).toFixed(2)})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(Ct).toFixed(2)})})}},{id:"taskPendingApprovalHours",accessorKey:"taskPendingApprovalHours",header:(0,oe.jsx)("div",{className:"mixer",children:"Pending Approval"}),columns:[{id:"taskPendingApprovalHours",accessorKey:"taskPendingApprovalHours",AggregatedCell:function(e){var t=e.cell;return(0,oe.jsxs)("div",{children:[parseFloat(t.getValue()).toFixed(2)," "]})},Cell:function(e){var t=e.cell;return(0,oe.jsx)("div",{children:null!=t.getValue()?parseFloat(t.getValue()).toFixed(2):parseFloat(0).toFixed(2)})}}],Footer:function(){return(0,oe.jsx)(N.Z,{children:(0,oe.jsx)(F.Z,{children:parseFloat(At).toFixed(2)})})}}];(0,u.useEffect)((function(){m()({method:"get",url:e+"/dashboardsms/Dashboard/getResIssues?resourceId=".concat(Qt,"&fromDt=").concat(c()(rn[0]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data;Ue(t),qe(["Done"])})),m()({method:"get",url:e+"/dashboardsms/Dashboard/getResAssignedHrs?resourceId=".concat(Qt,"&fromDt=").concat(c()(rn[0]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data,a=[];(new Date).getMonth(),t.map((function(e){var t=Object.entries(e).sort(),r=[];t.forEach((function(e){var t=(0,s.Z)(e,2),a=t[0],n=t[1];r.push(["Name"!=a?a.split("_")[0]+" "+a.split("_")[1]:a,isNaN(n)?n:Number(n).toFixed(2)])})),a.push(Object.fromEntries(r))})),We(a),ze(["Done"])})),m()({method:"get",url:e+"/dashboardsms/Dashboard/getBillingHistory?resourceId=".concat(Qt,"&monthFromDate=").concat(c()().subtract("months",1).format("YYYY-MM-DD"),"&yearFromDate=").concat(c()().subtract("year",1).format("YYYY-MM-DD"),"&toDate=").concat(c()().format("YYYY-MM-DD"))}).then((function(e){var t=e.data;G(t),J(["Done"])}));for(var t=[],a=new Date(ne),r=1;r<=7;r++){var n=a.getDate()-a.getDay()+r,o=new Date(a.setDate(n)).toLocaleString("en-us",{day:"2-digit",month:"short"});t.push(o)}xe(t);var i=[],l=new Date(ne);l.setDate(l.getDate()+7);for(var d=1;d<=7;d++){var u=l.getDate()-l.getDay()+d,p=new Date(l.setDate(u)).toLocaleString("en-us",{day:"2-digit",month:"short"});i.push(p)}he(i);for(var h=[],g=new Date(l);h.length<4;){var f=new Date(g);f.setDate(f.getDate()+(8-f.getDay())%7);var x=f.toLocaleString("en-us",{day:"2-digit",month:"short"});h.push(x),g.setDate(g.getDate()+7)}ye(h)}),[ne]);var Sn=function(e,t,a){var r,n=e.split(" to "),o=new Date(n[0]),i=new Date,s=i.getFullYear(),l=i.getMonth(),d=new Date(s,l+1,0),u=new Date(n[1]);return d<=u&&(u=d),rn.map((function(e){c()(a.id).format("YYYY-MM-DD")==c()(e).format("YYYY-MM-DD")&&(r=new Date(e)>=new Date(o)&&new Date(e)<=new Date(u))})),r};(0,u.useEffect)((function(){m()({method:"get",url:e+"/dashboardsms/Dashboard/getTimeEntry?resourceId=".concat(Qt,"&startDate=").concat(c()(fn[0][0]).format("YYYY-MM-DD"),"&endDate=").concat(c()(fn[4][2]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data;xa(t)})),Yn(),setTimeout((function(){ra(!1)}),1e3)}),[rn,V]),(0,u.useEffect)((function(){Cn()}),[Xt]),(0,u.useEffect)((function(){Cn()}),[za]);var _n=function(e,t,a){var r;return Xt.map((function(a){0==t.original.projectId&&new Date(a.timesheet_dt).toDateString()==e&&a.other_task_item_id==t.original.taskId&&(r=a.entered_hours),new Date(a.timesheet_dt).toDateString()==e&&a.project_task_id==t.original.taskId&&(r=a.entered_hours)})),r},Zn=function(e,t){var a="";return Xt.map((function(r){r.other_task_item_id,r.project_task_id;e.id.includes("projectName")?(r.timesheet_dt==c()(t.id).format("YYYY-MM-DD")&&e.original.projectId==r.project_id&&r.entered_hours>0||r.timesheet_dt==c()(t.id).format("YYYY-MM-DD")&&"holiday"==r.status)&&(a=174==r.typ_status_id?"enteredHours":173==r.typ_status_id?"ApprovedHours":172==r.typ_status_id?"RejectedHours":"holiday"==r.status?"holidayTimesheet":""):r.timesheet_dt==c()(t.id).format("YYYY-MM-DD")&&e.original.projectId==r.project_id&&(e.original.taskId==r.other_task_item_id||e.original.taskId==r.project_task_id)&&r.entered_hours>0?a=174==r.typ_status_id?"enteredHours":173==r.typ_status_id?"ApprovedHours":172==r.typ_status_id?"RejectedHours":"":r.timesheet_dt==c()(t.id).format("YYYY-MM-DD")&&"holiday"==r.status&&(a="holidayTimesheet")})),a},wn=function(e,t){var a=0;return Xt.map((function(r){if(r.timesheet_dt==c()(t.id).format("YYYY-MM-DD")&&e.original.projectId==r.project_id&&(a+=Number(r.entered_hours))>24){Pr(a);var n=c()(t.id).format("YYYY-MM-DD");zr.includes(n)||zr.push(n)}})),Kr(zr),a>0?parseFloat(a).toFixed(2):""},Nn=function(e){var t=ir,a=0;return Xt.map((function(t){t.timesheet_dt==c()(e).format("YYYY-MM-DD")&&(a+=Number(null==t.entered_hours?0:t.entered_hours))})),Rt.map((function(t){t.timesheet_dt==c()(e).format("YYYY-MM-DD")&&(a+=Number(t.leave_hours))})),t.push(a),sr(t),parseFloat(a).toFixed(2)},Fn=function(e){var t=0;return d.map((function(a){a.taskId==e&&(t=a.taskStatusId)})),233!=t},En=function(e,t,a){document.getElementById(e+" "+t);!function(e,t){var a=c()(t,"ddd MMM DD YYYY").format("YYYY-MM-DD");Sr(e),wr(a)}(e,t)},Cn=function(){var t=[];rn.length>0&&(rn.map((function(e){var a=c()(e).format("MM-YYYY"),r=c()(new Date).format("MM-YYYY"),n=(c()(e).format("DD-MM-YYYY"),{id:e,accessorKey:e,header:e.split(" ")[0],columns:[{accessorKey:e,header:e.split(" ")[2]+"-"+e.split(" ")[1],id:e,aggregationFn:"sum",AggregatedCell:function(e){e.cell;var t=e.row,a=e.column;return(0,oe.jsx)("div",{className:0!=t.original.projectId?(Number(wn(t,a)),Zn(t,a)):"",children:wn(t,a)})},Cell:function(t){t.cell;var n=t.row,i=t.column;t.table;return(0,oe.jsx)("div",{children:(0,oe.jsx)("input",{className:0!=n.original.projectId?(Number(_n(e,n)),Zn(n,i)):"zombie",type:"number",inputMode:"numeric",onDoubleClick:function(){return En(n.original.taskId,i.id)},disabled:"Others"!=n.original.projectName&&(!!Fn(n.original.taskId)||(!Sn(n.original.allocatedDates,n.original.taskPlannedEndDt,i)||(a>r||("ApprovedHours"==Zn(n,i)||"RejectedHours"==Zn(n,i))))),defaultValue:Number(_n(e,n))>0?parseFloat(_n(e,n)).toFixed(2):"",dataranges:"[[0, 16]]",min:"1",max:"5",pattern:"^[0-9]{1,2}$",onKeyPress:function(e){var t=e.which?e.which:e.keyCode;t>31&&(t<48||t>57)&&e.preventDefault()},onBlur:function(t){t.target.value&&function(e,t,a){var r=a.target.value,n=0,i=Xt;0==Mt&&t.original.timesheetHours,i.forEach((function(a){if(new Date(a.timesheet_dt).toDateString()==e&&t.original.taskId==a.project_task_id)if(on++,Nr=a.entered_hours,(n=Nr)<r){var o;o=r-n,a.actual_hours=o,St(Mt+o)}else if(n>r){var i;i=r-n,a.actual_hours=i,St(Mt+i)}})),rr((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},"projectName:"+t.original.projectName,!0))}));var s=Xt;a.target.value=parseFloat(a.target.value).toFixed(2);var d=s.some((function(a){return(a.other_task_item_id==t.original.taskId||a.project_task_id==t.original.taskId)&&a.timesheet_dt==c()(e).format("YYYY-MM-DD")}));0!=t.original.projectId&&(a.target.style.backgroundColor=Number(a.target.value)>0?"rgb(225, 118, 88)":"",a.target.parentElement.parentElement.style.backgroundColor=Number(a.target.value)>0?"rgb(225, 118, 88)":""),d&&Number(a.target.value)?s.map((function(r){0==t.original.projectId?new Date(r.timesheet_dt).toDateString()==e&&r.other_task_item_id==t.original.taskId&&(r.entered_hours=parseFloat(a.target.value).toFixed(2)):new Date(r.timesheet_dt).toDateString()==e&&r.project_task_id==t.original.taskId&&(r.entered_hours=parseFloat(a.target.value).toFixed(2))})):Number(a.target.value)&&s.push({entered_hours:Number(parseFloat(a.target.value).toFixed(2)),project_id:t.original.projectId,project_task_id:0!=t.original.projectId?t.original.taskId:null,resource_id:Qt,submitted_dt:c()(new Date).format("YYYY-MM-DD"),timesheet_dt:c()(e).format("YYYY-MM-DD"),other_task_item_id:0==t.original.projectId?t.original.taskId:null,typ_status_id:174,actual_hours:Number(parseFloat(a.target.value).toFixed(2)),id:null}),$t(s),Qa(!0);var u=s.map((function(e){return e.entered_hours}));if(u.length>0){for(var p=document.getElementsByClassName("MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium"),h=[],m=1;m<p.length;m++){var g=p[m].children[0].style.transform;"rotate(0deg)"==p[m].children[0].style.transform&&p[m].children[0].style.transform,"rotate(-180deg)"==g&&h.push(m)}Xa(h)}Oa(u)}(e,n,t)}})})}}],Footer:function(e){return(0,oe.jsx)("p",{children:Nn(e.column.id)})}});t.push(n)})),m()({method:"get",url:e+"/dashboardsms/Dashboard/getLeaves?resourceId=".concat(Qt,"&startDate=").concat(c()(rn[0]).format("YYYY-MM-DD"),"&endDate=").concat(c()(rn[rn.length-1]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data,a=0;Vt(t),null===t||void 0===t||t.map((function(e){return a+=Number(e.leave_hours)})),sa(a),Pr(0)})),m()({method:"get",url:e+"/dashboardsms/Dashboard/getLeaves?resourceId=".concat(Qt,"&startDate=").concat(c()(fn[0][0]).format("YYYY-MM-DD"),"&endDate=").concat(c()(fn[4][2]).format("YYYY-MM-DD"))}).then((function(e){var t=e.data;ur(t)})),0==Rt.length?t.map((function(e){e.columns[0].Footer=(0,oe.jsx)("p",{children:"0.00"})})):(t.map((function(e){e.columns[0].Footer=(0,oe.jsx)("p",{children:"0.00"})})),t.map((function(e){Rt.map((function(t){new Date(t.timesheet_dt).toDateString()==e.accessorKey&&(e.columns[0].Footer=(0,oe.jsx)("p",{className:t.leave_status,children:parseFloat(t.leave_hours).toFixed(2)}))}))}))),Mn.splice.apply(Mn,[6,0].concat(t)),at(!1),te(Mn),Qa(!1)),Ua.length>0&&setTimeout((function(){document.getElementsByClassName("MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium");for(var e=0;e<Ua.length;e++);}),0)};(0,u.useEffect)((function(){at(!0)}),[ee]),(0,u.useEffect)((function(){kn()}),[yt,ne,ke]);for(var Tn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],In=[],Hn=0;Hn<1;Hn++){for(var An=[],Bn=0;Bn<7;Bn++){var Pn=new Date(en.getFullYear(),en.getMonth(),en.getDate()+Bn).getDate();An.push((0,oe.jsxs)("td",{style:{border:"1px solid black",padding:"5px"},children:[(0,oe.jsx)("div",{style:{fontSize:"12px"},children:Tn[Bn]}),(0,oe.jsx)("div",{style:{fontSize:"18px"},children:Pn})]},Bn))}In.push((0,oe.jsx)("tr",{children:An},Hn))}var Wn=(0,u.useState)([0,0,0,0]),Rn=(0,s.Z)(Wn,2),Vn=(Rn[0],Rn[1],(0,u.useState)(0)),Kn=(0,s.Z)(Vn,2);Kn[0],Kn[1],Gr.map((function(e){}));var zn=function(e){var t="",a=(t=null!=e?e:new Date).getDay(),r=new Date(t);r.setDate(t.getDate()-a+(0===a?-6:1));for(var n=[],o=0;o<7;o++){var i=new Date(r);i.setDate(i.getDate()+o),n.push(i.toDateString())}Me(n[0]),Ze(n[6]),nn(n)},On=new Date(ke);On.setDate(On.getDate()-(On.getDay()+7)%7+1);var Ln=new Date(On);Ln.setDate(Ln.getDate()+6);var Gn=function(e){zn(e)},Un=(0,u.useState)(null),Xn=(0,s.Z)(Un,2),$n=Xn[0],Jn=(Xn[1],Boolean($n),(0,oe.jsxs)(_.E,{children:[(0,oe.jsxs)(Z.X,{children:[(0,oe.jsx)(S.s,{header:"Billing History",field:"allocation_type",rowSpan:2,style:{width:"35.5%"}}),(0,oe.jsx)(S.s,{header:"Past 1 Month",colSpan:2}),(0,oe.jsx)(S.s,{header:"Past 1 Year",colSpan:2})]}),(0,oe.jsxs)(Z.X,{children:[(0,oe.jsx)(S.s,{header:"Hrs",field:"month_hours"}),(0,oe.jsx)(S.s,{header:"%",field:"month_per"}),(0,oe.jsx)(S.s,{header:"Hrs",field:"year_hours"}),(0,oe.jsx)(S.s,{header:"%",field:"year_per"})]})]})),qn=["M","T","W","Th","F","S","Su"],Qn=(0,oe.jsxs)(_.E,{children:[(0,oe.jsxs)(Z.X,{children:[(0,oe.jsx)(S.s,{header:"Assignments",style:{width:"15.5%"}}),(0,oe.jsx)(S.s,{header:"Current Week",colSpan:7}),(0,oe.jsx)(S.s,{header:"Next Week",colSpan:7}),(0,oe.jsx)(S.s,{header:"Following Weeks",colSpan:4})]}),(0,oe.jsxs)(Z.X,{children:[(0,oe.jsx)(S.s,{header:"Project",field:"Name",rowSpan:2}),qn.map((function(e){return(0,oe.jsx)(S.s,{header:e,colSpan:1})})),qn.map((function(e){return(0,oe.jsx)(S.s,{header:e,colSpan:1})})),["Wk3","Wk4","Wk5","Wk6"].map((function(e){return(0,oe.jsx)(S.s,{header:e,colSpan:1})}))]}),(0,oe.jsx)(Z.X,{children:un.map((function(e,t){return(0,oe.jsx)(S.s,{header:e.split(" ")[1]+"-"+e.split(" ")[0],field:e.split(" ")[1]+" "+e.split(" ")[0],colSpan:1})}))})]}),eo=function(e){var t=0;return Pe.map((function(a){return Object.entries(a).map((function(a){var r=(0,s.Z)(a,2),n=r[0],o=r[1];n==e.split(" ")[1]+" "+e.split(" ")[0]&&(t+=parseFloat(o))}))})),t.toFixed(2)},to=(0,oe.jsx)(_.E,{children:(0,oe.jsxs)(Z.X,{children:[(0,oe.jsx)(S.s,{style:{fontSize:"13px",textAlign:"left"},footer:(0,oe.jsx)("b",{children:"Total"})}),un.map((function(e){return(0,oe.jsx)(S.s,{style:{fontSize:"13px"},footer:(0,oe.jsx)("b",{children:eo(e)})})}))]})}),ao=function(){ir.some((function(e){}))&&alert("extra hours entered! Should not exceed 24 in a day");var t=[],a={ResId:Qt,timesheetDate:c()(new Date).format("YYYY-MM-DD"),projects:[]};V.map((function(e){t.push(e.projectId)})),(t=t.filter((function(e,a){return t.indexOf(e)===a}))).map((function(e){return a.projects.push({projectId:e,tasks:[]})})),V.map((function(e){a.projects.map((function(t){e.projectId==t.projectId&&t.tasks.push({taskId:e.taskId,TaskStatusId:e.taskStatusId,hours:[]})}))})),Xt.map((function(e){a.projects.map((function(t){e.project_id==t.projectId&&t.tasks.map((function(t){t.taskId!=e.project_task_id&&t.taskId!=e.other_task_item_id||t.hours.push({enteredHours:parseFloat(e.entered_hours).toFixed(2),date:e.timesheet_dt,id:null==e.id?0:e.id,typStatusId:e.typ_status_id,actualHours:e.actual_hours})}))}))})),we.current=new AbortController,m()({method:"post",url:e+"/dashboardsms/Dashboard/SaveTimesheet",data:a,signal:we.current.signal}).then((function(e){var t;200==e.status&&(t=e.data,ya(!0),Lt(t.data),wa(t.flag),setTimeout((function(){ya(!1)}),3e3),kn(),Yn(),St(0))}))};(0,u.useEffect)((function(){ro()}),[]);var ro=function(){m()({method:"GET",url:e+"/CommonMS/master/getMenus?loggedUserId=".concat(Ir)}).then((function(e){e.data.forEach((function(e){"Dashboards"===e.display_name&&Tr([e])}))}))};return(0,oe.jsxs)("div",{children:[ja?(0,oe.jsx)("div",{className:"alertsStyle",children:(0,oe.jsx)("div",{className:Za?"alert alertSuccess":"alert alertDanger",children:(0,oe.jsxs)("span",{className:"message",children:[(0,oe.jsx)("strong",{children:Za?(0,oe.jsx)(I.Z,{style:{fontSize:"large"}}):(0,oe.jsx)(H.Z,{style:{fontSize:"large"}})}),"\xa0",Ot]})})}):"",(0,oe.jsxs)("div",{className:"pageTitle",children:[(0,oe.jsx)("div",{className:"childOne"}),(0,oe.jsx)("div",{className:"childTwo",children:(0,oe.jsx)("h2",{children:"My Dashboard"})}),(0,oe.jsx)("div",{className:"childThree"})]}),(0,oe.jsx)(ue.Z,{routes:Cr,currentScreenName:["My Dashboard"]}),(0,oe.jsx)("div",{className:"helpBtn ",style:{paddingLeft:"93%",paddingBottom:"3px"},children:(0,oe.jsx)(ce.Z,{pdfname:"MyDashboard.pdf",name:"My Dashboard Help"})}),Ke.length>0&&B.length>0&&Je.length>0&&$.length>0&&fn.length>0?(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)("div",{className:"col-xs-12",children:(0,oe.jsxs)("div",{className:"row",children:[(0,oe.jsx)("div",{className:"col-2 dash-box darkHeader toHead",children:(0,oe.jsxs)("table",{className:"table table-bordered TimeEntry",children:[(0,oe.jsx)("thead",{children:(0,oe.jsx)("tr",{children:(0,oe.jsx)("th",{colSpan:3,children:(0,oe.jsx)("center",{children:"Time Entry"})})})}),(0,oe.jsx)("tbody",{children:fn.map((function(e,t){return(0,oe.jsx)("tr",{children:e.map((function(e,t){return(0,oe.jsx)("td",{className:""!=xn(e)?xn(e):c()(e)>c()(new Date)?"greyBlock":cr.some((function(t){return c()(t.timesheet_dt).format("DD-MMM")===c()(e).format("DD-MMM")}))?"ApprovedLeaves":"redBlock",children:(0,oe.jsx)("span",{onClick:function(){return Gn(e)},style:{textAlign:"center"},children:c()(e).format("DD-MMM")})},t)}))},t)}))})]})}),(0,oe.jsx)("div",{className:"col-3 ",children:(0,oe.jsxs)(M.w,{value:L,className:"primeReactDataTable billingHistoryTable darkHeader",showGridlines:!0,emptyMessage:(0,oe.jsx)("div",{style:{textAlign:"center"},children:"No Data Found"}),headerColumnGroup:Jn,children:[(0,oe.jsx)(S.s,{field:"allocation_type",body:function(e){return(0,oe.jsx)("div",{className:"ellipsis",title:e.allocation_type,children:(0,oe.jsx)("b",{children:e.allocation_type})})}}),(0,oe.jsx)(S.s,{field:"month_hours",body:function(e){return parseFloat(e.month_hours).toFixed(2)}}),(0,oe.jsx)(S.s,{field:"month_per",body:function(e){return"Leave"==e.allocation_type||"Total Utilization"==e.allocation_type?0==e.month_per?"":e.month_per:"Billable"==e.allocation_type||"Productive Utilization"==e.allocation_type?null==e.month_per?0:e.month_per:void e.month_per}}),(0,oe.jsx)(S.s,{field:"year_hours",body:function(e){return parseFloat(e.year_hours).toFixed(2)}}),(0,oe.jsx)(S.s,{field:"year_per",body:function(e){return("Leave"==e.allocation_type||"Total Utilization"==e.allocation_type)&&0==e.year_per?"":e.year_per}})]})}),(0,oe.jsx)("div",{className:"col-7",children:(0,oe.jsxs)(M.w,{className:"primeReactDataTable myDashboardProjTable MyDashboardDataTable darkHeader",showGridlines:!0,emptyMessage:(0,oe.jsx)("div",{style:{textAlign:"center"},children:"No Data Found"}),value:Ge,paginator:!0,rows:3,paginatorTemplate:" PrevPageLink CurrentPageReport NextPageLink  ",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",children:[(0,oe.jsx)(S.s,{header:"",field:"lkup_name",body:function(e){return(0,oe.jsx)("div",{children:"Criticality"==e.lkup_name?"":(0,oe.jsx)(C.Z,{title:e.lkup_name,children:(0,oe.jsx)(E.Z,{className:e.lkup_name})})})},style:{width:"33px"}}),(0,oe.jsx)(S.s,{header:"Projects",field:"project_name"}),(0,oe.jsx)(S.s,{header:"Type",field:"type"}),(0,oe.jsx)(S.s,{header:"Name",field:"name"}),(0,oe.jsx)(S.s,{header:"Due Date",field:"due_date",body:function(e){return(0,oe.jsx)("div",{children:null===e.due_date?"":c()(e.due_date).format("DD-MMM-YYYY")})}})]})})]})}),(0,oe.jsxs)("div",{className:"dashboardMessage note",children:[(0,oe.jsx)("i",{className:"pi pi-info-circle"}),"Note: Please make the task Status to In-progress to enter the efforts. By making the task status to Completed cells will be disabled."]}),(0,oe.jsx)("div",{className:"materialReactExpandableTable myDashboardTable darkHeader",children:tt&&(0,oe.jsx)(x.ZP,{columns:ee,autoResetExpanded:!1,enableGrouping:!0,enableExpanding:!0,enableRowOrdering:!1,getRowId:function(e){return e.id},initialState:{grouping:["projectName"],expanded:ar},state:{enableExpansion:qa},enableTopToolbar:!0,enablePagination:!1,enableToolbarInternalActions:!1,enableRowVirtualization:!0,enableGlobalFilter:!1,enableDensityToggle:!1,enableFullScreenToggle:!1,enableHiding:!1,enableColumnFilters:!1,enableBottomToolbar:!1,enableColumnActions:!1,enableSorting:!1,filterFromLeafRows:!0,options:{paging:!1},data:d,muiTableContainerProps:{sx:{width:"auto"}},muiTableBodyProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"30px",padding:"5px"}}},muiTableFooterProps:{sx:{"&":{borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& td":{borderRight:"1px solid #ccc",height:"30px",padding:"5px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",padding:"0 5px"}}},renderTopToolbarCustomActions:function(){return(0,oe.jsxs)("div",{className:"attendanceTopSection",children:[(0,oe.jsx)("div",{}),(0,oe.jsx)("div",{children:(0,oe.jsxs)("p",{children:[(0,oe.jsx)("span",{children:c()(On).format("DD-MMM-YYYY")})," ",(0,oe.jsx)("span",{children:"to"}),(0,oe.jsx)("span",{children:c()(Ln).format("DD-MMM-YYYY")})]})}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)(f(),{className:"datepicker",placeholderText:"Select Date",onChange:function(e){return Gn(e)},popperClassName:"datepickerPopper"}),(0,oe.jsx)("span",{onClick:function(){return function(){var e=new Date(ke),t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7);Me(t),zn(t)}()},children:(0,oe.jsx)(y.Z,{className:"arrow"})}),(0,oe.jsx)("span",{onClick:function(){return function(){var e=new Date(ke),t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7);Me(t),zn(t)}()},children:(0,oe.jsx)(b.Z,{className:"arrow"})})]})]})}})}),(0,oe.jsxs)("div",{className:"mydashboardTableBottom",children:[(0,oe.jsx)("div",{}),(0,oe.jsxs)("div",{className:"tableBtns",children:[(0,oe.jsxs)("button",{onClick:0===Br?function(){return ao()}:function(){Dr(!0),Ca(!0)},className:"btn btn-primary",children:[(0,oe.jsx)("i",{className:"pi pi-save"}),"Save"]}),(0,oe.jsxs)("button",{onClick:function(){return window.location.reload()},children:[(0,oe.jsx)("i",{className:"pi pi-times"}),"Cancel"]})]}),(0,oe.jsx)("div",{className:"tablePalette",children:[{heading:"Leave",color:"#ee6fa0"},{heading:"Pending Approval",color:"#e17658"},{heading:"Approved",color:"#50b179d9"},{heading:"Rejected",color:"#e54c53"},{heading:"Holiday",color:"#5399c7"}].map((function(e){return(0,oe.jsxs)("div",{children:[(0,oe.jsx)("i",{className:"pi pi-circle-fill",style:{color:e.color}}),(0,oe.jsx)("span",{children:e.heading})]})}))})]}),(0,oe.jsx)("div",{style:{margin:"0",transition:"all 0.5s ease-in-out"},children:(0,oe.jsx)("div",{children:(0,oe.jsxs)(M.w,{className:"primeReactDataTable myDashboardAssingTable darkHeader",showGridlines:!0,emptyMessage:(0,oe.jsx)("div",{style:{textAlign:"center"},children:"No Data Found"}),value:Pe,headerColumnGroup:Qn,footerColumnGroup:to,children:[(0,oe.jsx)(S.s,{field:"Name"}),un.map((function(e){return(0,oe.jsx)(S.s,{field:e.split(" ")[1]+" "+e.split(" ")[0],body:function(t){return(0,oe.jsx)("span",{style:{float:"right"},children:t[e.split(" ")[1]+" "+e.split(" ")[0]]})}})}))]})})})]}):"",(0,oe.jsx)(k.V,{header:function(){return(0,oe.jsx)("div",{className:"pageTitle",children:"Help"})},visible:Ie,style:{width:"50vw"},onHide:function(){return He(!1)},children:(0,oe.jsx)("p",{className:"m-0",children:"TBD //TBD"})}),vr&&(0,oe.jsx)(ie,{onClose:function(){Ca(!1),Dr(!1),Pr(0)},isOpen:Ea,exceedHoursDates:Vr}),br&&(0,oe.jsx)(de,{projectData:ka,anchorEl:Wa,isOpenInfo:Ha,handleClose:function(){Ra(!1)}}),aa?(0,oe.jsx)(T.Z,{handleAbort:function(){we.current&&we.current.abort(),ra(!1)}}):""]})}},5965:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(87462),n=a(45987),o=a(72791),i=a(28182),s=a(38317),l=a(91122),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=o.forwardRef((function(e,t){var a=e.align,s=void 0===a?"inherit":a,c=e.classes,u=e.className,p=e.color,h=void 0===p?"initial":p,m=e.component,g=e.display,f=void 0===g?"initial":g,x=e.gutterBottom,v=void 0!==x&&x,D=e.noWrap,j=void 0!==D&&D,y=e.paragraph,b=void 0!==y&&y,Y=e.variant,k=void 0===Y?"body1":Y,M=e.variantMapping,S=void 0===M?d:M,_=(0,n.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Z=m||(b?"p":S[k]||d[k])||"span";return o.createElement(Z,(0,r.default)({className:(0,i.default)(c.root,u,"inherit"!==k&&c[k],"initial"!==h&&c["color".concat((0,l.Z)(h))],j&&c.noWrap,v&&c.gutterBottom,b&&c.paragraph,"inherit"!==s&&c["align".concat((0,l.Z)(s))],"initial"!==f&&c["display".concat((0,l.Z)(f))]),ref:t},_))})),u=(0,s.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(c),p=o.forwardRef((function(e,t){var a=e.children,s=e.classes,l=e.className,d=e.disableTypography,c=void 0!==d&&d,p=(0,n.Z)(e,["children","classes","className","disableTypography"]);return o.createElement("div",(0,r.default)({className:(0,i.default)(s.root,l),ref:t},p),c?a:o.createElement(u,{component:"h2",variant:"h6"},a))})),h=(0,s.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)},82646:function(e,t,a){var r=a(64836);t.Z=void 0;var n=r(a(45649)),o=a(80184),i=(0,n.default)((0,o.jsx)("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft");t.Z=i},872:function(e,t,a){var r=a(64836);t.Z=void 0;var n=r(a(45649)),o=a(80184),i=(0,n.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=i},74568:function(e,t,a){var r=a(64836);t.Z=void 0;var n=r(a(45649)),o=a(80184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle");t.Z=i},55860:function(e,t,a){var r=a(64836);t.Z=void 0;var n=r(a(45649)),o=a(80184),i=(0,n.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");t.Z=i},91964:function(e,t,a){var r=a(64836);t.Z=void 0;var n=r(a(45649)),o=a(80184),i=(0,n.default)((0,o.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.Z=i}}]);
//# sourceMappingURL=1249.59c5932e.chunk.js.map