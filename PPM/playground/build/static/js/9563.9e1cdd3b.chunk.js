"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9563,1634],{79563:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var n=l(93433),s=l(29439),i=l(56355),r=l(72791),c=l(74569),o=l.n(c),a=l(34831),d=l(16856),u=l(83854),p=l(11634),x=l(80184),h=function(e){var t=e.type,l=(0,r.useState)([]),n=(0,s.Z)(l,2),i=n[0],c=n[1],d=(0,r.useState)(!1),h=(0,s.Z)(d,2),f=h[0],m=h[1],y=a.N.baseUrl,v=(0,r.useRef)(null),j=(0,r.useState)(""),b=(0,s.Z)(j,2);b[0],b[1];(0,r.useEffect)((function(){}),[i]),(0,r.useEffect)((function(){m(!1),v.current=new AbortController,o()({method:"post",url:y+"/SalesMS/sales/getSFOppDocs",data:{oppId:t}}).then((function(e){var t=e.data;c(t.data),m(!1),window.scrollTo({top:1500,behavior:"smooth"})}))}),[t]);var g=function(e){var t=e.sfDocs;return(0,x.jsx)("div",{className:"darkHeader",children:(0,x.jsxs)("table",{className:"table table-bordered attainTable ellipsis",style:{width:"20%"},children:[(0,x.jsx)("thead",{style:{textAlign:"center",backgroundColor:"#f4f4f4",color:"black"},children:(0,x.jsxs)("tr",{className:"fs10",children:[(0,x.jsx)("th",{children:"Document Name"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Action"})]})}),(0,x.jsx)("tbody",{children:null!==t&&void 0!==t&&t.data&&t.data.length>0?t.data.map((function(e){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.name}),(0,x.jsx)("td",{style:{textAlign:"center"},children:"DocLInk"==e.type?(0,x.jsx)("a",{href:y+"/SalesMS/sales/downloadDoc?docId=".concat(e.docId,"&type=").concat(e.docType),children:(0,x.jsx)(p.Z,{style:{color:"#86b558"}})}):""})]},e.docId)})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"2",style:{textAlign:"center"},children:"No Document Found"})})})]})})};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 mt10 no-padding",children:[f?(0,x.jsx)(u.Z,{handleAbort:function(){v.current&&v.current.abort(),m(!1)}}):"",(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(g,{sfDocs:i})})]})})};l(80296);function f(e){var t=e.reportRunId,l=e.summval,c=e.onCloseTable,u=a.N.baseUrl,p=(0,r.useState)(!0),f=(0,s.Z)(p,2),m=f[0],y=f[1],v=(0,r.useState)(!1),j=(0,s.Z)(v,2),b=j[0],g=j[1],S=(0,r.useState)(""),_=(0,s.Z)(S,2),C=_[0],N=_[1],w=(0,r.useState)([]),D=(0,s.Z)(w,2),F=D[0],Z=D[1],k={1:(0,x.jsx)(i.gbA,{size:"0.8em",style:{color:"purple"}}),0:(0,x.jsx)(i.gbA,{size:"0.8em",style:{color:"green"}})},z=(0,r.useState)([]),L=(0,s.Z)(z,2),A=L[0],R=L[1],H=F.filter((function(e){return 1===e.lvl})).map((function(e){return e.executive})),I=(0,r.useState)(""),P=(0,s.Z)(I,2),M=P[0],T=P[1],E=(0,r.useState)(""),O=(0,s.Z)(E,2),Q=(O[0],O[1]),q=(0,r.useState)([]),U=(0,s.Z)(q,2),W=U[0],J=U[1],V=0,$=0,B=["id","isProspect","lvl","opp_id","practice","customer_id","customer","country_id","account_owner_id","account_owner","pr_id"],G=["opportunity","closedDate","probability","country"],K=[],X=[];return F.forEach((function(e){var t=[];V=2===e.lvl?V:A.includes(e.executive)?1:0;var l=function(l){l.includes("Q")&&($=W.includes(l.split("_")[1])?1:0),B.includes(l)||!(A.length>0)&&G.includes(l)||(e.id<0?X.push((0,x.jsxs)("th",{style:{textAlign:"center",display:0!==$||!l.includes("sf")||l.includes("Q")||l.includes("total")?"":"none"},children:["string"===typeof e[l]&&e[l].includes("^&")?e[l].split("^&")[0]:e[l],-2===e.id&&"string"===typeof e[l]&&e[l].includes("Quart")&&(0,x.jsx)("span",{onClick:function(){var e;e=l.split("_")[1],J((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat((0,n.Z)(t),[e])}))},children:W.includes(l.split("_")[1])?(0,x.jsx)(i.ZCH,{size:"0.8em",title:"Hide Details",style:{cursor:"pointer",marginLeft:"5px"}}):(0,x.jsx)(i.jS6,{size:"0.8em",title:"Show Details",style:{cursor:"pointer",marginLeft:"5px"}})})]},l)):t.push((0,x.jsxs)("td",{className:l.includes("Q")?l.split("_")[1][1]%2===0?"even":"odd":l.includes("total")?"total":l.includes("0")?l.split("_")[1]%2===0?"innereven":"innerodd":"amount"===l&&1===e.lvl?"amountCollapse1":"probability"===l&&1===e.lvl?"probCollapse1":"probability"===l?"probCollapse":"closedDate"===l&&1===e.lvl?"closedDateCollapse1":"opportunity"===l&&1===e.lvl?"opportunityCollapse1":"country"===l&&1===e.lvl?"countryCollapse1":"",style:{display:0===V&&2===e.lvl||0===$&&l.includes("sf")&&!l.includes("Q")&&!l.includes("total")?"none":""},children:["executive"===l&&e.lvl<2&&(0,x.jsx)("span",{className:"executive"===l&&2===e.lvl?"collapsedRow2":3===e.lvl?"collapsedRow3":"",children:(0,x.jsx)("span",{onClick:function(){return t=e.executive,void R("Summary"===t?function(e){return e.length===H.length?[]:H}:function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat((0,n.Z)(e),[t])});var t},children:A.includes(e.executive)||A.length===H.length?(0,x.jsx)(i.qL$,{size:"1.2em",title:"Collapse",style:{cursor:"pointer",color:"#428bca"}}):(0,x.jsx)(i.PS5,{size:"1.2em",title:"Expand",style:{cursor:"pointer",color:"#428bca"}})})}),"customer"===l&&" "!==e.customer&&(0,x.jsx)("span",{children:k[e.isProspect]}),"executive"===l&&2===e.lvl?(0,x.jsxs)("span",{title:e.customer,className:"collapsedRow",children:[k[e.isProspect],e.customer," "]}):3===e.lvl&&"opportunity"===l?(0,x.jsx)("span",{title:e[l],children:e.pr_id}):3!==e.lvl||"executive"!==l&&"probability"!==l&&"closedDate"!==l?"opportunity"===l&&0!==e.customer_id?(0,x.jsxs)("span",{title:e[l],children:[(0,x.jsx)("a",{href:"http://d300000000qxieam.my.salesforce.com/?ec=302&startURL=%2Fvisualforce%2Fsession%3Furl%3Dhttp%253A%252F%252Fd300000000qxieam.lightning.force.com%252Flightning%252Fr%252FOpportunity%252F".concat(e.opp_id,"%252Fview"),target:"_blank",rel:"noopener noreferrer",children:e[l]}),(0,x.jsx)(d.aHI,{title:"Notes",style:{float:"right",color:"grey",cursor:"pointer"},size:"1.2em",onClick:function(){T(e.opp_id),Q(e.id),g(!0),N(e.opportunity)}})]}):(0,x.jsx)("span",{title:e[l],children:"probability"===l&&e[l]>0?(0,x.jsx)("span",{style:{paddingLeft:"45px"},children:"".concat(e[l],"%")}):"executive"===l?e[l]:"closedDate"===l?(0,x.jsx)("span",{style:{paddingLeft:"40px"},children:e[l]}):"probability"===l||"opportunity"===l?e[l]:"country"===l?(0,x.jsx)("span",{style:{paddingLeft:"42px"},children:e[l]}):"amount"===l?(0,x.jsx)("span",{style:{float:"right"},children:Math.round(e[l]).toLocaleString()}):(0,x.jsxs)("span",{children:[" ",Math.round(e[l]).toLocaleString()]})}):null]},l)))};for(var s in e)l(s);if(e.id>=0){var r=3===e.lvl&&A.includes(e.executive);K.push((0,x.jsx)("tr",{style:{display:r||3!==e.lvl?"":"none"},children:t},e.id+e.practice+e.country+e.executive+e.pr_id+e.opp_id))}})),(0,r.useEffect)((function(){o().post("".concat(u,"/SalesMS/services/getSFPipeLineData"),{reportRunId:t,summval:null===l||""===l||void 0===l?"none":l}).then((function(e){var t=e.data.data,l=e.data.serviceSfPipeline.split(","),n=t.map((function(e){return JSON.parse(JSON.stringify(e,l,4))}));Z(n)})).catch((function(e){}))}),[t]),(0,x.jsxs)(x.Fragment,{children:[m&&(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("div",{className:"col-md-10 mt-4 ",style:{backgroundColor:"#f4f4f4"},children:[(0,x.jsxs)("div",{className:"table-header  ",style:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #ccc",borderRadius:"1px",backgroundColor:"#f4f4f4",width:"100%"},children:[(0,x.jsx)("h",{style:{color:"#2e88c5",fontSize:"17px",margin:0,paddingLeft:"10px",fontWeight:"700"},children:"Sf Pipeline"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"",onClick:function(){y(!1),c()},style:{display:"flex",borderColor:"lightgrey",height:"18px",borderRadius:"4px",padding:"0px 4px 16px 4px !important",width:"100%"},children:(0,x.jsx)(i.aHS,{})})})]}),(0,x.jsx)("div",{}),(0,x.jsx)("div",{className:"sfPipelineTable darkHeader toHead",children:(0,x.jsxs)("table",{style:{width:"100%"},className:"table table-bordered htmlTable",cellPadding:0,cellSpacing:0,children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{children:X})}),(0,x.jsx)("tbody",{children:K})]})})]})}),b&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{class:"",style:{padding:"5px !important"},children:[(0,x.jsxs)("span",{style:{fontSize:"14px",fontWeight:"bolder"},children:["Sf Documents For"," "]}),(0,x.jsx)("span",{style:{color:"#297ab0",fontSize:"15px",fontWeight:"bolder"},children:C})]}),(0,x.jsx)(h,{type:M})]})]})}},11634:function(e,t,l){var n=l(64836);t.Z=void 0;var s=n(l(45649)),i=l(80184),r=(0,s.default)((0,i.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm-1 8V7c0-.55.45-1 1-1s1 .45 1 1v3h1.79c.45 0 .67.54.35.85l-2.79 2.79c-.2.2-.51.2-.71 0l-2.79-2.79c-.31-.31-.09-.85.36-.85H11zm5 7H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z"}),"DownloadForOfflineRounded");t.Z=r},80296:function(){}}]);
//# sourceMappingURL=9563.9e1cdd3b.chunk.js.map