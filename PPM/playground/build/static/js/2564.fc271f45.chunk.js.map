{"version":3,"file":"static/js/2564.fc271f45.chunk.js","mappings":"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","sources":["views/ReportsComponent/GlobalReportHeader.js","views/ReportsComponent/Report.js"],"sourcesContent":["import React, { useState } from 'react'\n\nfunction GlobalReportHeader(props) {\n\n    const initialVal = {\n        \"reportName\" : \"\"\n    };\n\n    console.log(\"in line 9--------\");\n    console.log(props)\n\n    // initialVal[\"reportName\"] = props\n\n    // const [reportName, setreportName] = useState(initialVal)\n\n  return initialVal;\n}\n\nexport default GlobalReportHeader();","import React, { useEffect, useState, useRef } from \"react\";\nimport \"./Reports.scss\";\nimport { FaMinus, FaPlus } from \"react-icons/fa\";\nimport { CCollapse } from \"@coreui/react\";\nimport { environment } from \"../../environments/environment\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport GlobalReportHeader from \"./GlobalReportHeader\";\n\nfunction Report() {\n  const [visible1, setVisible1] = useState([]);\n  const [cheveronIcon1, setCheveronIcon1] = useState([]);\n  const loggedUserId = localStorage.getItem(\"resId\");\n  const baseUrl = environment.baseUrl;\n  const [mainMenuData, setMainMenuData] = useState([]);\n\n  const [allMenus, setAllMenus] = useState([]);\n\n  const [renderData, setRenderData] = useState(null);\n\n  const [renderSubmenuData, setRenderSubmenuData] = useState([]);\n\n  const [getFilters, setGetFilters] = useState([]);\n  useEffect(() => {\n    getReportData();\n    getFilterData();\n  }, []);\n\n  useEffect(() => {\n    allMenus.length > 0 && displayData();\n  }, [mainMenuData, allMenus]);\n  console.log(\">>>>>>>>>> in line 31\" + mainMenuData); // Timesheets,Finance,Resource,PCQA,Allocation Reports,Expenses\n  console.log(\">>>>>>>>>> in line 32\" + allMenus); // object\n  // console.log(\">>>>>>>>in line 33\" + data);\n\n  // to display the list of reports(submenus,mainmenus)\n  const renderDisplaySubmenu = (data) => {\n    let spareData = JSON.parse(JSON.stringify(allMenus));\n    console.log(\">>>>>>>>in line 37\" + data); //\n    let filterdData = spareData.filter((ele) => data == ele.mainManu);\n\n    setRenderSubmenuData(() => {\n      return allMenus.map((d) => {\n        return <li>{d.name}</li>;\n      });\n    });\n  };\n\n  const displayData = () => {\n    setRenderData(() => {\n      return mainMenuData.map((data, index) => {\n        renderDisplaySubmenu(data);\n        return (\n          <div key={index}>\n            <div\n              key={index}\n              className=\"borderClass\"\n              onClick={() => {\n                let visibleArr = visible1;\n                visibleArr[index] = !visibleArr[index];\n\n                setVisible1(visibleArr);\n\n                let iconVal = cheveronIcon1;\n                iconVal[index] = visibleArr[index] ? FaPlus : FaMinus;\n\n                setCheveronIcon1(iconVal);\n\n                displayData();\n              }}\n            >\n              <span>{cheveronIcon1[index]}</span>\n              {data}\n              {console.log(\">>>>>>>>>>Data\" + data)}\n            </div>\n            <CCollapse visible={!visible1[index]}>\n              {allMenus.map((inData, inIndex) => {\n                return (\n                  data == inData.mainManu && (\n                    <div\n                      className={`borderClass paddingLeft ${\n                        inIndex % 2 == 0 ? \"backgroundColorClass\" : \"\"\n                      }`}\n                    >\n                      <Link\n                        onClick={() => {\n                          GlobalReportHeader(inData.name);\n                        }}\n                        to={`/report/getReport/reportId/${inData.report_id}`}\n                        target=\"_blank\"\n                      >\n                        {inData.name}\n                        {console.log(inData, \"indata???????????????????\")}\n                      </Link>\n                    </div>\n                  )\n                );\n              })}\n            </CCollapse>\n          </div>\n        );\n      });\n    });\n  };\n\n  const getReportData = () => {\n    axios\n      .get(baseUrl + `/reportms/report/getReportListing?userId=${loggedUserId}`)\n      .then((resp) => {\n        let data = resp.data;\n        setAllMenus(data);\n\n        let visibleArr = [];\n        let icon = [];\n        let mainMenuDt = data.map((d) => {\n          visibleArr.push(false);\n          icon.push(FaMinus);\n          return d.mainManu;\n        });\n        let FinalMainMenu = Array.from(new Set([...mainMenuDt]));\n        let FinalvisibleArr = visibleArr.slice(0, FinalMainMenu.length);\n\n        let finalIcon = icon.slice(0, FinalMainMenu.length);\n        setVisible1(FinalvisibleArr);\n\n        setCheveronIcon1(finalIcon);\n\n        setMainMenuData(FinalMainMenu);\n        console.log(data, \"in line 128------------ data\");\n      });\n  };\n  const getFilterData = () => {\n    axios({\n      method: \"post\",\n      url: baseUrl + `/reportms/report/getfiltersData`,\n      data: {\n        notifyReportId: \"\",\n        userId: loggedUserId,\n      },\n    }).then((response) => {\n      setGetFilters(response.data);\n    });\n  };\n\n  return (\n    <>\n      <div className=\"col-md-12\">\n        <div className=\"pageTitle\">\n          <div className=\"childOne\"></div>\n          <div className=\"childTwo\">\n            <h2>Reports</h2>\n          </div>\n          <div className=\"childThree\"></div>\n        </div>\n      </div>\n\n      <div className=\"group customCard\">\n        <div className=\"group-content row\">\n          <div className=\"col-md-12\">\n            <div>\n              <div\n                className=\"borderClass\"\n                style={{ textAlign: \"center\", backgroundColor: \"#eee\" }}\n              >\n                Folder/Reports\n              </div>\n\n              {renderData}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Report;\n"],"names":["props","console","log","useState","visible1","setVisible1","cheveronIcon1","setCheveronIcon1","loggedUserId","localStorage","getItem","baseUrl","environment","mainMenuData","setMainMenuData","allMenus","setAllMenus","renderData","setRenderData","setRenderSubmenuData","setGetFilters","useEffect","getReportData","getFilterData","length","displayData","map","data","index","spareData","JSON","parse","stringify","filter","ele","mainManu","d","name","renderDisplaySubmenu","className","onClick","visibleArr","iconVal","FaPlus","FaMinus","visible","inData","inIndex","GlobalReportHeader","to","report_id","target","axios","then","resp","icon","mainMenuDt","push","FinalMainMenu","Array","from","Set","FinalvisibleArr","slice","finalIcon","method","url","notifyReportId","userId","response","style","textAlign","backgroundColor"],"sourceRoot":""}