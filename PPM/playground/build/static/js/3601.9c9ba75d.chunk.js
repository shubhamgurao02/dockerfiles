"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3601],{3601:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(93433),r=n(4942),s=n(74165),o=n(1413),i=n(15861),l=n(29439),c=n(72791),d=n(56355),u=n(59513),p=n.n(u),m=n(74569),h=n.n(m),f=n(72426),v=n.n(f),x=n(83854),g=n(17425),b=n(32125),y=n(87890),j=n(37145),N=(n(41980),n(39122),n(31896),n(81975),n(25103)),S=n(80184);var Z=function(e){var t=e.data,a=e.rows,r=(e.col,e.headerdatagroup,e.linkColumns,e.linkColumnsRoutes,e.dynamicColumns),s=e.headerData,i=e.setHeaderData,d=e.exportData,u=e.customFilters,p=e.customFilterValue,m=e.setCustomFilterValue,h=(0,c.useState)([]),f=(0,l.Z)(h,2),v=f[0],x=f[1],g=(0,c.useState)([]),b=(0,l.Z)(g,2),Z=b[0],w=b[1];console.log(Z,"bodyData");var R=(0,c.useState)([]),T=(0,l.Z)(R,2),k=T[0],C=T[1],M=(0,c.useRef)(null);(0,c.useEffect)((function(){x(JSON.parse(JSON.stringify(t)))}),[t]),(0,c.useEffect)((function(){if(v.length>0){i(v[0]),w(v.splice(1));var e=[],t=v[0];Object.keys(t).forEach((function(n){e.push({title:n,dataKey:t[n]})})),C(e)}}),[v]);var _={contains:{value:null,matchMode:y.a6.CONTAINS}},P=(0,c.useState)({global:_.contains}),I=(0,l.Z)(P,2),D=I[0],F=I[1];(0,c.useEffect)((function(){F({global:_.contains})}),[s]);var B=(0,c.useState)(""),E=(0,l.Z)(B,2),O=E[0],A=E[1],L=function(e){var t=e.target.value,n=(0,o.Z)({},D);n.global.value=t,F(n),A(t)},V=function(){var e=u;if("select"===e.type)return(0,S.jsx)("select",{id:e.id,onChange:function(e){m(e.target.value)},children:Object.keys(e.data).map((function(t){return(0,S.jsx)("option",{selected:p==t,value:t,children:e.data[t]})}))})},H=function(){Promise.resolve().then(n.bind(n,34045)).then((function(e){var a,r,s={Sheets:{data:e.utils.json_to_sheet(t)},SheetNames:["data"]},o=e.write(s,{bookType:"xlsx",type:"array"});a=o,r="data",Promise.resolve().then(n.t.bind(n,64802,23)).then((function(e){if(e&&e.default){var t=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});e.default.saveAs(t,r+"_export_"+(new Date).getTime()+".xlsx")}}))}))},K=function(){Promise.resolve().then(n.bind(n,35125)).then((function(e){Promise.resolve().then(n.t.bind(n,31052,23)).then((function(){var n=new e.default(0,0);n.autoTable(k,t),n.save("Data.pdf")}))}))},U=(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"flex  flex-row",children:[(0,S.jsx)("span",{style:{paddingTop:"3px",fontSize:"13px",color:"#4f8fad"},children:"Customer Ranking By Revenue"}),(0,S.jsxs)("div",{className:"flex  flex-row-reverse ",style:{paddingLeft:"44%"},children:[void 0!=u&&(0,S.jsx)("span",{children:(0,S.jsx)(V,{})}),(0,S.jsxs)("div",{className:"exportBtn ml-3",children:[(null===d||void 0===d?void 0:d.includes("CSV"))&&(0,S.jsx)("span",{className:"pi pi-file csv",onClick:function(){return e=!1,void M.current.exportCSV({selectionOnly:e});var e},title:"CSV"}),(null===d||void 0===d?void 0:d.includes("XLS"))&&(0,S.jsx)("span",{className:"pi pi-file-excel excel",onClick:H,title:"XLS"}),(null===d||void 0===d?void 0:d.includes("PDF"))&&(0,S.jsx)("span",{className:"pi pi-file-pdf pdf",onClick:K,title:"PDF"})]}),(0,S.jsxs)("span",{className:"p-input-icon-left tableGsearch",children:[(0,S.jsx)("i",{className:"pi pi-search"}),(0,S.jsx)(N.o,{defaultValue:O,onChange:L,placeholder:"Keyword Search"})]})]})]})});return(0,S.jsx)("div",{children:(0,S.jsx)("div",{className:"darkHeader toHead",children:Object.keys(s).length>0&&(0,S.jsx)(j.w,{className:"primeReactDataTable",value:Z,paginator:!0,showGridlines:!0,rows:a,dataKey:"id",filters:D,responsiveLayout:"scroll",header:U,emptyMessage:"No Records found.",ref:function(e){M.current=e},currentPageReportTemplate:"View {first} - {last} of {totalRecords} ",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[5,10,15,20,25,30,35,40],paginationPerPage:5,paginationRowsPerPageOptions:[5,15,25,50],paginationComponentOptions:{rowsPerPageText:"Records per page:",rangeSeparatorText:"out of"},children:r})})})},w=n(11683),R=n(13400),T=n(78820),k=n(78983);n(11167);function C(e){var t=e.data,n=e.expandedCols,s=e.colExpandState,i=(0,c.useState)([]),d=(0,l.Z)(i,2),u=d[0],p=d[1],m=(0,c.useState)(null),h=(0,l.Z)(m,2),f=h[0],v=h[1],x=(0,c.useState)({}),g=(0,l.Z)(x,2),b=g[0],y=g[1],j=(0,c.useState)(!1),N=(0,l.Z)(j,2),Z=N[0],k=N[1],C=(0,c.useState)([]),M=(0,l.Z)(C,2),_=M[0],P=M[1],I=[],D=[],F=function(e){return null===e||void 0===e?void 0:e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")};(0,c.useEffect)((function(){B()}),[t]);var B=function(){var e,o,i,c,d=null===t||void 0===t?void 0:t.tableData,u=null;null!==t&&void 0!==t&&null!==(e=t.columns)&&void 0!==e&&e.includes("'")?u=null===t||void 0===t||null===(c=t.columns)||void 0===c?void 0:c.replaceAll("'",""):u=null===t||void 0===t?void 0:t.columns;for(var m=null===(o=u)||void 0===o?void 0:o.split(","),h=[],f={},x=0;x<(null===m||void 0===m?void 0:m.length);x++){var g=m[x].trim(),b=d[0];f[g]=b[g]}var j=Object.entries(f),N=["id","industryId","industry","customerId","customer","lvl","keyAttr","parentAttr","total_rr_sort"],Z=j.filter((function(e){var t,n;return!N.includes(e[0])&&!(null!==(t=e[0])&&void 0!==t&&t.includes("gmperc"))&&!(null!==(n=e[0])&&void 0!==n&&n.includes("rr"))}));P(Z),Z.map((function(e){var t=(0,l.Z)(e,2),a=t[0];t[1];n.includes(a)&&h.push((0,r.Z)({},a,!1))})),y(Object.assign.apply(Object,[{}].concat(h)));var w=null===d||void 0===d?void 0:d.filter((function(e){return-1==e.id})),C=null===d||void 0===d?void 0:d.filter((function(e){return 0==e.id}));Z.map((function(e,t){var n=(0,l.Z)(e,2),a=n[0],r=n[1];I.push({accessorKey:a,header:r,enableColumnActions:!1,enableHiding:!0,Header:function(e){e.column;return(0,S.jsxs)("div",{className:a.includes("dispName")&&"mixer",children:[r,a==s[2]?(0,S.jsx)(R.Z,{onClick:function(){k((function(e){return!e}))},children:(0,S.jsx)(T.bBv,{})}):null]})}})}));var M=w?Object.entries(w[0]):null;D=C?Object.entries(C[0]):null,null===M||void 0===M||M.sort(),null===(i=D)||void 0===i||i.sort(),I.map((function(e){var t=I.indexOf(e),n=[];M.map((function(a,r){var s=(0,l.Z)(a,2),o=s[0],i=s[1],c=/\d/.test(o.split("_")[0]);if(o.includes("_")&&(1==c||0==c&&"total"==o.split("_")[0])||0==c&&o.includes("action")){var d=o.includes("action")?"action":o.split("_");if(d=o.includes("action")?"action":d.slice(0,-1).join("_"),e.accessorKey.includes(d)){var u={id:o,header:null==i||0==i?"":i,accessorKey:o,enableSorting:!0,sortDescFirst:!(!o.includes("rr")||o.includes("perc"))};n.push(u),I[t].columns=n}}else if(o==e.accessorKey){var p={id:o,header:null==i||0==i?"":i,accessorKey:o,enableSorting:!0,sortDescFirst:!(!o.includes("rr")||o.includes("perc"))};I[t].columns=[p]}}))}));var _=function(e,t){return(0,S.jsx)("div",{title:F(e),children:(0,S.jsx)("div",{className:"ParentExpandedTxt",children:t.includes("gmperc")||t.includes("rrperc")?(0,S.jsx)("b",{className:"RevByIndustryFonts",children:F(e)+"%"}):t.includes("gmperc")||t.includes("rrperc")?F(e)+"%":"dispName"==t&&"Summary"==e?(0,S.jsx)("b",{className:"RevByIndustryFonts",children:e}):F(e)})})};I.map((function(e){e.columns.map((function(e){D.map((function(t){var n=(0,l.Z)(t,2),a=n[0],r=n[1];a==e.accessorKey&&(e.columns=[{id:a,header:_(r,a),accessorKey:a,Cell:function(e){var t=e.cell;return(0,S.jsx)("div",{style:{justifyContent:"dispName"==a?"left":"right",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:F(t.getValue()),children:"name"==t.column.id&&null!=t.row.original.parentId?(0,S.jsx)("span",{children:(0,S.jsx)("div",{className:"ChildExpandedTxt",children:F(t.getValue())})}):(0,S.jsx)("div",{className:null!=t.row.original.parentId?"ChildExpandedTxt":"ParentExpandedTxt",children:a.includes("gmperc")&&"Summary"==t.row.original.dispName||a.includes("rrperc")&&"Summary"==t.row.original.dispName?(0,S.jsx)("b",{className:"RevByIndustryFonts",children:F(t.getValue())+"%"}):a.includes("gmperc")||a.includes("rrperc")?F(t.getValue())+"%":"dispName"==a&&"Summary"==t.getValue()?(0,S.jsx)("b",{className:"RevByIndustryFonts",style:{textAlign:"left",color:"red"},children:t.getValue()}):"Summary"==t.row.original.dispName?(0,S.jsx)("b",{className:"RevByIndustryFonts",children:F(t.getValue())}):F(t.getValue())})})}}])}))}))})),v(I);var B=[],E=[];null===d||void 0===d||d.map((function(e){return-1!==e.id&&0!==e.id?B.push(e):E.push(e)}));var A=O(B,{children:"subRows"}),L=(0,a.Z)(A.slice(2,A.length));p(L)};(0,c.useEffect)((function(){Z?y({}):E()}),[Z]);var E=function(){var e=[];_.map((function(t){var a=(0,l.Z)(t,2),s=a[0];a[1];n.includes(s)&&e.push((0,r.Z)({},s,!1))})),y(Object.assign.apply(Object,[{}].concat(e)))},O=function(e,t){t=(0,o.Z)({id:"id",parentId:"parentId",children:"subRows"},t);var n={},s=[],i=t.children;return e.forEach((function(e){var a=e[t.id],s=e[t.parentId];n[a]=(0,o.Z)((0,o.Z)((0,r.Z)({},i,[]),e),n[a]),n[s]=n[s]||(0,r.Z)({},i,[]),n[s][i].push(n[a])})),Object.values(n).forEach((function(e){"undefined"===typeof e[t.id]&&s.push.apply(s,(0,a.Z)(e[i]))})),s};return(0,S.jsx)("div",{className:"RevByIndustryTable darkHeader toHead",children:u.length?(0,S.jsx)(w.ZP,{columns:function(e){var t=e,n=["Rec. Rev ($)","GM ($)","GM (%)","Rec.Rev (%)"];return t.map((function(e){e.columns.sort((function(e,t){return n.indexOf(e.header)-n.indexOf(t.header)}))})),t}(f),data:u,enableExpandAll:!0,enableExpanding:!0,enablePagination:!1,enableSortingRemoval:!0,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableSorting:!0,filterFromLeafRows:!0,initialState:{expanded:!1,density:"compact",columnVisibility:(0,o.Z)({},b),enablePinning:!0,columnPinning:{left:["mrt-row-expand","dispName"]},sorting:function(){var e=[];return null===f||void 0===f||f.map((function(t){null===t||void 0===t||t.columns.map((function(t){t.accessorKey.includes("total_rr")&&(null===t||void 0===t||!t.accessorKey.includes("perc"))&&e.push({id:t.accessorKey,desc:!0})}))})),e}()},state:{columnVisibility:(0,o.Z)({},b)},defaultColumn:{minSize:40,maxSize:1e3,size:40},muiTableBodyProps:{sx:{"&":{},"& td":{borderRight:"1px solid #ccc",height:"22px",fontSize:"11px",paddingTop:"0px",paddingBottom:"0px"},"& td:first-of-type":{borderLeft:"1px solid #ccc",minWidth:"60px"}}},muiTableHeadProps:{sx:{"& th":{borderTop:"1px solid #ccc",borderRight:"1px solid #ccc",background:"#f4f4f4 ",fontSize:"11px"},"& th:first-of-type":{borderLeft:"1px solid #ccc",minWidth:"60px"}}}}):null})}var M=n(29718),_=n.n(M),P=n(12003),I=n.n(P),D=n(4189),F=n.n(D),B=n(1063),E=(n(93574),n(34831)),O=n(72920),A=n(38262);F()(_());var L=function(){var e,t=(0,c.useState)(null),u=(0,l.Z)(t,2),m=u[0],f=u[1],y=(0,c.useState)([]),j=(0,l.Z)(y,2),N=j[0],w=j[1],R=(0,c.useState)([]),M=(0,l.Z)(R,2),P=M[0],D=M[1],F=(0,c.useState)(!1),L=(0,l.Z)(F,2),V=L[0],H=L[1],K=(0,c.useState)(!1),U=(0,l.Z)(K,2),$=U[0],G=U[1],z=(0,c.useState)(!1),Y=(0,l.Z)(z,2),W=Y[0],J=Y[1],X=(0,c.useState)(!1),q=(0,l.Z)(X,2),Q=q[0],ee=q[1],te=(0,c.useState)(!1),ne=(0,l.Z)(te,2),ae=ne[0],re=ne[1],se=(0,c.useState)(d.UdN),oe=(0,l.Z)(se,2),ie=oe[0],le=oe[1],ce=(0,c.useRef)([]),de=(0,c.useState)([]),ue=(0,l.Z)(de,2),pe=(ue[0],ue[1]),me=(0,c.useState)([]),he=(0,l.Z)(me,2),fe=(he[0],he[1]),ve=(0,c.useState)({}),xe=(0,l.Z)(ve,2),ge=xe[0],be=xe[1],ye=(0,c.useState)({}),je=(0,l.Z)(ye,2),Ne=je[0],Se=je[1],Ze=(0,c.useState)([]),we=(0,l.Z)(Ze,2),Re=we[0],Te=we[1],ke=(0,c.useState)(0),Ce=(0,l.Z)(ke,2),Me=Ce[0],_e=Ce[1],Pe=(0,c.useRef)(null);(0,c.useEffect)((function(){}),[Me]);var Ie=(0,c.useState)({indTypes:"",month:"",Duration:""}),De=(0,l.Z)(Ie,2),Fe=De[0],Be=De[1],Ee=(0,c.useState)([]),Oe=(0,l.Z)(Ee,2),Ae=Oe[0],Le=Oe[1],Ve=(0,c.useState)([]),He=(0,l.Z)(Ve,2),Ke=He[0],Ue=He[1],$e=(0,c.useState)([]),Ge=(0,l.Z)($e,2),ze=(Ge[0],Ge[1]),Ye=(0,c.useState)([]),We=(0,l.Z)(Ye,2),Je=We[0],Xe=We[1],qe=localStorage.getItem("resId"),Qe=E.N.baseUrl,et=(0,c.useState)([]),tt=(0,l.Z)(et,2),nt=tt[0],at=tt[1];(0,c.useEffect)((function(){rt()}),[]);var rt=function(){h()({method:"GET",url:Qe+"/CommonMS/master/getMenus?loggedUserId=".concat(qe)}).then((function(e){e.data.map((function(e){return e.subMenus&&(e.subMenus=e.subMenus.filter((function(e){return"Monthly Revenue Trend"!==e.display_name&&"Revenue & Margin Variance"!==e.display_name&&"Rev. Projections"!==e.display_name&&"Project Timesheet (Deprecated)"!==e.display_name&&"Financial Plan & Review"!==e.display_name}))),e})).forEach((function(e){"Revenue Metrics"===e.display_name&&at([e])}))}))},st=(it=new Date).getFullYear(),ot=it.getMonth(),it=new Date(st,ot+11),lt=function(e){var t=v()(),n=v()(e),a=t.diff(n,"months");Fe.Duration=a;for(var r=[],s=1;s<=a;s++)s<13&&r.push(s);Te(r)};(0,c.useEffect)((function(){var e=null,t=v()().format("MM"),n=null;t>=1&&t<=3?(e=v()().format("MM")-1,n=v()().subtract(e,"months")):t>=4&&t<=6?(e=v()().format("MM")-4,n=v()().subtract(e,"months")):t>=7&&t<=9?(e=v()().format("MM")-7,n=v()().subtract(e,"months")):t>=10&&t<=12&&(e=v()().format("MM")-10,n=v()().subtract(e,"months")),n=n.subtract(5,"months")._d,f(n),Fe.month=n,lt(n)}),[]);var ct=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,a,r,i,l,c,u,p,m,f,x,g,y,j,N,S,Z,R,T,k;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le([]),!(a=(0,b.Z)(ce))){e.next=5;break}return ee(!0),e.abrupt("return");case 5:if(!a){e.next=7;break}return e.abrupt("return");case 7:return r=setTimeout((function(){G(!0)}),2e3),J(!1),Pe.current=new AbortController,i={indTypes:"",FromDate:v()(Fe.month).startOf("month").format("YYYY-MM-DD"),Duration:Fe.Duration,UserId:qe},e.next=13,h()({method:"post",url:Qe+"/revenuemetricsms/industry/postRevenueByIndustry",signal:Pe.current.signal,data:i});case 13:if(l=e.sent,c=l.data.tableData,u=null===(n=l.data.columns)||void 0===n?void 0:n.replaceAll("'","").split(","),w(c),Le(l.data),D(u),ee(!1),G(!1),clearTimeout(r),void 0===l||200!==l.status){e.next=40;break}return e.next=25,h().get(Qe+"/revenuemetricsms/industry/postRevenueByTopIndustry");case 25:if(p=e.sent,m=p.data,console.log(p,"response"),pe(m),xt(m),H(!0),void 0==p||200!==p.status){e.next=40;break}return f=Math.random(),e.next=35,h().get(Qe+"/revenuemetricsms/industry/postRevenueByTopIndustryTypeGraph?cacheBuster=".concat(f));case 35:x=e.sent,g=x.data,fe(g),gt(g),H(!0);case 40:return e.next=42,h()({method:"get",url:Qe+"/revenuemetricsms/industry/postRevenueByTopIndustryType"});case 42:for(y=e.sent,j=y.data,N=[],S=[],Z=[{SNo:"Rank",resource_name:"Customer",val:"Rec.Revenue($)",gm:"GM($)",gmperc:"GM(%)",rrperc:"RR(%)"}],R=0;R<j.length;R++)j[R].SNo=R+0,0==R?N.push(j[R]):S.push(j[R]);T=Z.concat(S),k=null===T||void 0===T?void 0:T.map((function(e){var t=isNaN(e.key)?e.key:parseFloat(e.key),n=isNaN(e.val)?e.val:parseFloat(e.val),a=isNaN(e.gm)?e.gm:parseFloat(e.gm),r=isNaN(e.gmperc)?e.gmperc:parseFloat(e.gmperc),s=isNaN(e.rrperc)?e.rrperc:parseFloat(e.rrperc);return(0,o.Z)((0,o.Z)({},e),{},{key:void 0!==t?t.toLocaleString("en-US"):void 0,val:void 0!==n?n.toLocaleString("en-US"):void 0,gm:void 0!==a?a.toLocaleString("en-US"):void 0,gmperc:void 0!==r?"GM(%)"==r?r:r+"%":void 0,rrperc:void 0!==s?"RR(%)"==s?s:s+"%":void 0})})),Ue(k),J(!0),ze(S),!a&&re(!ae),le(ae?d.UdN:d.NR5);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(e){return(0,S.jsx)("div",{className:"ellipsis text-center",style:{maxWidth:"80px",backgroundColor:e.color},"data-toggle":"tooltip",title:e.SNo,children:e.SNo})},ut=function(e){return(0,S.jsx)("div",{style:{backgroundColor:e.color},className:"ellipsis","data-toggle":"tooltip",title:e.resource_name,children:e.resource_name})},pt=function(e){return(0,S.jsx)("div",{className:"ellipsis",style:{textAlign:"right",backgroundColor:e.color},"data-toggle":"tooltip",title:e.val,children:e.val})},mt=function(e){return(0,S.jsx)("div",{className:"ellipsis",style:{textAlign:"right",backgroundColor:e.color},"data-toggle":"tooltip",title:e.gm,children:e.gm})},ht=function(e){return console.log(e.color+">>>>>"+"ellipsis revenueInd ".concat("#7cb5ec"==e.color?"blue":"#e4d354"==e.color?"yellow":"#90ed7d"==e.color?"green":"#f7a35c"==e.color?"orange":"brown-red")),(0,S.jsx)("div",{className:"ellipsis revenueInd ".concat("#7cb5ec"==e.color?"blue":"#e4d354"==e.color?"yellow":"#90ed7d"==e.color?"green":"#f7a35c"==e.color?"orange":"brown-red"),style:{textAlign:"right"},"data-toggle":"tooltip",title:e.gmperc,children:e.gmperc})},ft=function(e){return(0,S.jsx)("div",{className:"ellipsis",style:{textAlign:"right",backgroundColor:e.color},"data-toggle":"tooltip",title:e.rrperc,children:e.rrperc})},vt=null===(e=Object.keys(Je))||void 0===e?void 0:e.map((function(e,t){var n="Customer"===Je[e]?"customerHeaderAlign":"GM($)"===Je[e]?"gmAlign":"defaultHeaderAlign";return(0,S.jsx)(B.s,{body:"SNo"===e?dt:"resource_name"===e&&ut||"val"===e&&pt||"gm"===e&&mt||"gmperc"===e&&ht||"rrperc"===e&&ft,title:Je[e],field:e,header:(0,S.jsx)("span",{className:n,children:(0,S.jsx)("span",{children:Je[e]})})},e)})),xt=function(e){var t,n={credits:{enabled:!1},chart:{type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},lang:{thousandsSep:","},title:{text:"Top Industry By Rec.Rev.",align:"center"},tooltip:{pointFormat:"{point.resource_name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:(t={cursor:"pointer",shadow:!0,startAngle:180},(0,r.Z)(t,"cursor","pointer"),(0,r.Z)(t,"depth",55),(0,r.Z)(t,"size","100%"),(0,r.Z)(t,"showInLegend",!0),t)},series:[{data:null===e||void 0===e?void 0:e.map((function(e){return{name:e.cat,y:parseInt(e.val),color:e.color,resource_name:e.resource_name}})),allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}}]};be(n)},gt=function(e){var t,n=null,a=null,s=null,o=null,i=null,l=null;e.map((function(t){if("-1"!=t.lvl)switch(e.push(t.cat),t.cat){case"Top 1":n=parseInt(t.val);break;case"Top 2-5":a=parseInt(t.val);break;case"Top 6-10":s=parseInt(t.val);break;case"Top 11-20":o=parseInt(t.val);break;case"Top 21-40":i=parseInt(t.val);break;case"Rest":l=parseInt(t.val)}}));var c={credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},title:{text:"Top Customers By Rec.Rev."},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},xAxis:{categories:["Top 1","Top 2-5","Top 6-10","Top 11-20","Top 21-40","Rest"]},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:(t={allowPointSelect:!0,cursor:"pointer",shadow:!0,startAngle:180},(0,r.Z)(t,"cursor","pointer"),(0,r.Z)(t,"depth",55),(0,r.Z)(t,"size","100%"),(0,r.Z)(t,"showInLegend",!0),t)},series:[{colorByPoint:!0,data:[{name:"Top 1",y:n,selected:!0,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}},{name:"Top 2-5",color:"#e4d354",y:a,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}},{name:"Top 6-10",y:s,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}},{name:"Top 11-20",y:o,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}},{name:"Top 21-40",color:"#e5a4a4",y:i,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}},{name:"Rest",y:l,dataLabels:{enabled:!0,distance:10,formatter:function(){return"<b>".concat(this.point.name,"</b>:<br/>$").concat(_().numberFormat(this.point.y,0,",",",")," (").concat(Math.round(10*this.point.percentage)/10,")%")}}}]}]};Se(c)},bt=function(e,t){Promise.resolve().then(n.t.bind(n,64802,23)).then((function(n){if(n&&n.default){var a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});n.default.saveAs(a,t+".xlsx")}}))};return(0,S.jsxs)("div",{children:[Q?(0,S.jsxs)("div",{className:"statusMsg error",children:[" ",(0,S.jsx)(T.CSE,{})," Please select valid values for highlighted fields"]}):"",(0,S.jsx)("div",{className:"col-md-12",children:(0,S.jsxs)("div",{className:"pageTitle",children:[(0,S.jsx)("div",{className:"childOne"}),(0,S.jsx)("div",{className:"childTwo",children:(0,S.jsx)("h2",{children:"Revenue By Industry"})}),(0,S.jsx)("div",{className:"childThree"})]})}),(0,S.jsx)(A.Z,{routes:nt,currentScreenName:["Revenue By Industry"]}),(0,S.jsxs)("div",{className:"group mb-3 customCard  mt-2",children:[(0,S.jsxs)("div",{className:"col-md-12 collapseHeader",children:[(0,S.jsx)("h2",{children:"Search Filters"}),(0,S.jsx)("div",{className:"helpBtn",children:(0,S.jsx)(O.Z,{pdfname:"Revenue By Industry.pdf",name:"Revenue By Industry Help"})}),"\xa0",(0,S.jsx)("div",{onClick:function(){re(!ae),le(ae?d.UdN:d.NR5)},children:(0,S.jsx)("span",{children:ie})})]}),(0,S.jsx)(k.V9,{visible:!ae,children:(0,S.jsxs)("div",{className:"group-content row",children:[(0,S.jsx)("div",{className:" col-md-4 mb-2",children:(0,S.jsxs)("div",{className:"form-group row",children:[(0,S.jsxs)("label",{className:"col-4",htmlFor:"Duration",children:["Month\xa0",(0,S.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,S.jsx)("span",{className:"col-1 p-0",children:":"}),(0,S.jsx)("div",{className:"col-6 industryDatePicker",children:(0,S.jsx)(p(),{id:"month",selected:m,onChange:function(e){_e((function(e){return e+1})),document.getElementById("Duration").value=0,lt(e),Be((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},"month",v()(e).format("yyyy-MM-DD")))})),f(e)},maxDate:v()().subtract(1,"months")._d,minDate:v()().subtract(10,"years").subtract(1,"months")._d,dateFormat:"MMM-yyyy",showMonthYearPicker:!0})})]})}),(0,S.jsx)("div",{className:" col-md-4 mb-2",children:(0,S.jsxs)("div",{className:"form-group row",children:[(0,S.jsxs)("label",{className:"col-4",htmlFor:"Duration",children:["Duration\xa0",(0,S.jsx)("span",{className:"col-1 p-0 error-text",children:"*"})]}),(0,S.jsx)("span",{className:"col-1",children:":"}),(0,S.jsx)("div",{className:"col-6",children:(0,S.jsxs)("select",{className:"text cancel",id:"Duration",name:"Duration",onChange:function(e){var t=e.target,n=t.value,a=t.id;Be((0,o.Z)((0,o.Z)({},Fe),{},(0,r.Z)({},a,n)))},ref:function(e){ce.current[""==Fe.Duration?0:""]=e},children:[(0,S.jsx)("option",{value:"",children:" <<Please Select>>"}),Re.map((function(e){return(0,S.jsx)("option",{selected:Fe.Duration==e&&0==Me,value:e,children:e})}))]})})]})}),(0,S.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 btn-container center my-3 ",children:(0,S.jsxs)("button",{type:"submit",className:"btn btn-primary",onClick:function(){ct()},children:[(0,S.jsx)(d.U41,{})," Search"]})})]})})]}),$?(0,S.jsx)(x.Z,{handleAbort:function(){Pe.current&&Pe.current.abort(),G(!1)}}):"",1==W?(0,S.jsxs)("div",{className:"mb-2",align:" right ",children:[(0,S.jsx)(g.WlY,{size:"1.5em",title:"Export to Excel",style:{color:"green"},cursor:"pointer",onClick:function(){Promise.resolve().then(n.bind(n,34045)).then((function(e){var t=["id","industryId","industry","customerId","lvl","keyAttr","parentAttr","total_rr_sort"],n=P.filter((function(e){return!t.includes(e)})),r=N.filter((function(e){return-2!==e.id})).map((function(e){var t={};return n.forEach((function(n){var a=e[n];if("string"===typeof a){var r=a.split("^&"),s=(0,l.Z)(r,2)[0];t[n]=s}else t[n]=a})),t})).map((function(e){var t=[];return n.forEach((function(n){t.push(e[n])})),t})),s={Sheets:{data:e.utils.aoa_to_sheet((0,a.Z)(r))},SheetNames:["data"]},o=e.write(s,{bookType:"xlsx",type:"array"});bt(o,"RevenueByIndustry")}))}}),(0,S.jsx)("br",{})]}):"",(0,S.jsx)(C,{data:Ae,expandedCols:[],colExpandState:[]}),(0,S.jsx)("div",{className:"col-12 row",children:"\xa0"}),V&&W?(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"col-md-12 no-padding row d-flex justify-content-between ms-1",children:[(0,S.jsx)("div",{className:"col-md-6 customCard card graph ",children:(0,S.jsx)(I(),{highcharts:_(),options:Ne})}),(0,S.jsx)("div",{className:"col-md-6 customCard card graph ",children:(0,S.jsx)(I(),{highcharts:_(),options:ge})})]})}):"",W&&(0,S.jsx)("div",{className:"col-12 row ms-1",children:(0,S.jsx)("div",{className:"col-6 topCust mt-2",children:(0,S.jsx)(Z,{data:Ke,dynamicColumns:vt,headerData:Je,setHeaderData:Xe,rows:20})})})]})}}}]);
//# sourceMappingURL=3601.9c9ba75d.chunk.js.map