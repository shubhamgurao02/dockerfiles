"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9259,1928],{41561:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(72791),a=t(29439),o=t(4942),s=t(1413),c=t(74165),l=t(15861),i=(t(40941),t(56355)),d=t(36167),u=t(29944),h=t(59513),m=t.n(h),p=t(72426),x=t.n(p),v=t(78983),f=t(74569),j=t.n(f),N=t(34831),y=t(32125),w=t(40071),S=t(73220),b=t(63521),D=t(72920),g=t(80184);var C=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],h=n[1],p=(0,r.useState)(!1),f=(0,a.Z)(p,2),C=f[0],Z=f[1],M=(0,r.useState)(i.UdN),k=(0,a.Z)(M,2),V=k[0],_=k[1],A=(0,r.useState)([]),I=(0,a.Z)(A,2),R=I[0],T=I[1],F=(0,r.useState)([]),Y=(0,a.Z)(F,2),U=Y[0],E=Y[1],O=(0,r.useState)([]),q=(0,a.Z)(O,2),z=q[0],K=q[1],H=(0,r.useState)(null),P=(0,a.Z)(H,2),G=P[0],B=P[1],L=(0,r.useState)([]),W=(0,a.Z)(L,2),$=W[0],J=W[1],Q=(0,r.useState)(!1),X=(0,a.Z)(Q,2),ee=X[0],ne=X[1],te=(0,r.useRef)(null),re=(0,r.useState)(!1),ae=(0,a.Z)(re,2),oe=ae[0],se=ae[1],ce=(0,r.useRef)([]),le=(0,r.useState)({VendoreName:"",country:"-1",operator:-1,date:null}),ie=(0,a.Z)(le,2),de=ie[0],ue=ie[1],he=(0,r.useState)([]),me=(0,a.Z)(he,2),pe=me[0],xe=me[1],ve=(0,r.useState)([]),fe=(0,a.Z)(ve,2),je=fe[0],Ne=fe[1],ye=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,S.Z)(ce),!("ge"==de.operator&&null==de.date||"le"==de.operator&&null==de.date||"eq"==de.operator&&null==de.date)){e.next=9;break}if(!(0,y.Z)(ce)){e.next=6;break}return ne(!0),e.abrupt("return");case 6:h(!1),e.next=14;break;case 9:return ne(!1),se(!1),te.current=new AbortController,e.next=14,j()({method:"post",url:we+"/VendorMS/vendor/getVendoreSearchDtls",signal:te.current.signal,data:{VendoreName:de.VendoreName,country:""==de.country?-1:de.country,operator:de.operator,date:"-1"==de.operator?null:null==de.date?"":de.date},headers:{"Content-Type":"application/json"}}).then((function(e){var n=e.data;xe(["vendor_name","Action"]),Ne(["/vendor/vendorDoc/:id","/vendor/reviews/:id"]),"-1"==de.operator&&B();var t=n.sort((function(e,n){var t="NA"===e.contryName,r="NA"===n.contryName;if(t&&!r)return-1;if(!t&&r)return 1;var a=e.vendorId.toUpperCase(),o=n.vendor_name.toUpperCase();return a<o?-1:a>o?1:0}));J([{vendorId:"Vendor ID",vendor_name:"Vendor Name",contactName:"Contact Name",phone:"Phone",email:"Email",contryName:"Country",nxtRvwDt:"Next Review Date",signedDt:"Contract Signed Date",expireDt:"Contract Expires Date",website:"Website",Action:"Action"}].concat(t)),h(!0),setTimeout((function(){se(!1)}),1e3)}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){}),[$]);var we=N.N.baseUrl;(0,r.useEffect)((function(){j().get(we+"/CostMS/cost/getCountries").then((function(e){var n=[],t=e.data;t.length>0&&t.forEach((function(e){var t={label:e.country_name,value:e.id};"NM"!=e.country_name&&n.push(t)})),T(n),E(n)})).catch((function(e){return console.log(e)})),j().get(we+"/VendorMS/vendor/getVendorNames").then((function(e){var n=e.data;K(n)})).catch((function(e){return console.log(e)}))}),[]);var Se=function(e){B(e);var n=x()(e).format("YYYY-MM-DD");ue((0,s.Z)((0,s.Z)({},de),{},{date:n}))};return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"pageTitle",children:[(0,g.jsx)("div",{className:"childOne"}),(0,g.jsx)("div",{className:"childTwo",children:(0,g.jsx)("h2",{children:"VMG Search"})}),(0,g.jsx)("div",{className:"childThree"})]}),(0,g.jsx)("div",{className:"col-md-12  mt-2",children:ee?(0,g.jsxs)("div",{className:"statusMsg error",children:[" ",(0,g.jsxs)("span",{children:[" ",(0,g.jsx)(w.SZZ,{})," Please select the valid values for highlighted fields"," "]})]}):""}),(0,g.jsxs)("div",{className:"group mb-3 customCard ",children:[(0,g.jsxs)("div",{className:"col-md-12 collapseHeader ",children:[(0,g.jsx)("h2",{children:"Search Filters"}),(0,g.jsx)("div",{className:"helpBtn",children:(0,g.jsx)(D.Z,{pdfname:"VMG_Search_Ver_1.0.pdf",name:"Vendor Search Help"})}),(0,g.jsx)("div",{onClick:function(){Z(!C),_(C?i.UdN:i.NR5)},children:(0,g.jsx)("span",{children:V})})]}),(0,g.jsx)(v.V9,{visible:!C,children:(0,g.jsxs)("div",{className:"group-content row",children:[(0,g.jsx)("div",{className:" col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsxs)("label",{className:"col-5",htmlFor:"VendorName",children:["Vendor Name"," "]}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsx)("div",{className:"autocomplete",children:(0,g.jsx)("div",{className:"autoComplete-container",children:(0,g.jsx)(b.ReactSearchAutocomplete,{items:z,type:"Text",name:"VendorName",id:"VendoreName",className:"AutoComplete",VendorName:z,onSelect:function(e){ue((function(n){return(0,s.Z)((0,s.Z)({},n),{},{VendoreName:e.name})}))},onClear:function(){ue((function(e){return(0,s.Z)((0,s.Z)({},e),{},{VendoreName:""})}))},showIcon:!1})})})})]})}),(0,g.jsx)("div",{className:"col-md-3 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsx)("label",{className:"col-5",children:"Country "}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("span",{className:"col-6",children:(0,g.jsx)(d.NU,{id:"country",ArrowRenderer:function(e){e.expanded;return(0,g.jsxs)(g.Fragment,{children:[" ",(0,g.jsx)(i.qL$,{className:"chevronIcon"})]})},options:R,hasSelectAll:!0,value:U,disabled:!1,overrideStrings:{selectAllFiltered:"Select All",selectSomeItems:"<< All>>"},onChange:function(e){E(e);var n=[];e.forEach((function(e){n.push(e.value)})),ue((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,o.Z)({},"country",n.toString()))}))},valueRenderer:function(e){return 0===e.length?"Select":"".concat(e.length," selected")}})})]})}),(0,g.jsx)("div",{className:" col-md-6 mb-2",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsx)("div",{className:"col-3",children:(0,g.jsx)("label",{children:"Next Review Date "})}),(0,g.jsx)("span",{className:"col-1 p-0",children:":"}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsxs)("div",{className:"form-group row",children:[(0,g.jsx)("div",{className:"col-6 p-0 ",children:(0,g.jsxs)("select",{id:"operator",name:"operator",onChange:function(e){var n=e.target,t=n.id,r=(n.name,n.value);ue((0,s.Z)((0,s.Z)({},de),{},(0,o.Z)({},t,r)))},children:[(0,g.jsx)("option",{value:"-1",children:"<<Please Select>>"}),(0,g.jsx)("option",{value:"le",children:"\u2264"}),(0,g.jsx)("option",{value:"ge",children:"\u2265"}),(0,g.jsx)("option",{value:"eq",children:"="})]})}),"-1"==de.operator?(0,g.jsx)("div",{className:"col-6 ",children:(0,g.jsx)("div",{className:"datepicker",ref:function(e){ce.current[0]=e},style:{position:"relative",zIndex:"999"},children:(0,g.jsx)(m(),{className:"disableField",selected:G,id:"date",dateFormat:"dd-MMM-yyyy",value:"",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return Se(e)},placeholderText:"Date",disabled:!0,onKeyDown:function(e){e.preventDefault()}})})}):"","le"==de.operator?(0,g.jsx)("div",{className:"col-6 ",children:(0,g.jsx)("div",{className:"datepicker",ref:function(e){ce.current[0]=e},style:{position:"relative",zIndex:"999"},children:(0,g.jsx)(m(),{selected:G,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return Se(e)},placeholderText:"Date",onKeyDown:function(e){e.preventDefault()}})})}):"","ge"==de.operator?(0,g.jsx)("div",{className:"col-6 ",children:(0,g.jsx)("div",{className:"datepicker",ref:function(e){ce.current[0]=e},style:{position:"relative",zIndex:"999"},children:(0,g.jsx)(m(),{selected:G,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return Se(e)},placeholderText:"Date",onKeyDown:function(e){e.preventDefault()}})})}):"","eq"==de.operator?(0,g.jsx)("div",{className:"col-6 ",children:(0,g.jsx)("div",{className:"datepicker",ref:function(e){ce.current[0]=e},style:{position:"relative",zIndex:"999"},children:(0,g.jsx)(m(),{selected:G,dateFormat:"dd-MMM-yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",onChange:function(e){return Se(e)},placeholderText:"Date",onKeyDown:function(e){e.preventDefault()}})})}):""]})})]})}),(0,g.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 my-2 btn-container center",children:(0,g.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:ye,children:[(0,g.jsx)(i.U41,{})," Search"," "]})})]})})]}),t?(0,g.jsx)("div",{className:"darkHeader",children:(0,g.jsx)(u.Z,{data:$,SetData:J,linkColumns:pe,linkColumnsRoutes:je,loaderState:oe,handleAbort:function(){te.current&&te.current.abort(),se(!1)}})}):" "]})},Z=t(91107),M=t(90029);t(82578);var k=function(){var e=(0,r.useState)("Open"),n=(0,a.Z)(e,2),t=n[0],o=n[1],s=(0,r.useState)("Vendor"),c=(0,a.Z)(s,2),l=c[0];return c[1],(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"tabs",children:[(0,g.jsx)("button",{className:"Create"===t?"buttonDisplayClick":"buttonDisplay",onClick:function(){o("Create")},children:"Create"}),(0,g.jsx)("button",{className:"Open"===t?"buttonDisplayClick":"buttonDisplay",onClick:function(){o("Open")},children:"Open"}),(0,g.jsx)("button",{className:"Search"===t?"buttonDisplayClick":"buttonDisplay",onClick:function(){o("Search")},children:"Search"})]}),"Create"===t&&(0,g.jsx)(Z.default,{}),"Open"===t&&(0,g.jsx)(M.Z,{buttonValue:l}),"Search"===t&&(0,g.jsx)(C,{})]})};var V=function(){return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"col-md-12",children:[" ",(0,g.jsx)(k,{})]})})}}}]);
//# sourceMappingURL=9259.ccbee695.chunk.js.map